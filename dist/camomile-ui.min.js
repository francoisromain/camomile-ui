!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("vue"),require("vuex"),require("camomile-client")):"function"==typeof define&&define.amd?define(["vue","vuex","camomile-client"],n):t.camomileUi=n(t.Vue,t.Vuex,t.Camomile)}(this,function(a,t,o){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;var n="default"in t?t.default:t;o=o&&o.hasOwnProperty("default")?o.default:o;!function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===e&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}("/* Settings        ------------------------------- */\n\n/* system.css / settings\n-------------------------------\nhttp://francoisromain.github.io/postcss-structure\n*/\n\n:root {\n  /* Colors        ------------------------------- */\n  --color-text: #666;\n  --color-bg: white;\n  --color-transparent: rgba(248, 247, 243, 0);\n  --color-inverse: #3d3d35;\n  --color-neutral: #bcb9af;\n  --color-alt: #f8f7f3;\n  --color-highlight: #f50;\n  --color-brand: rgb(0, 162, 255);\n  --color-error: #e82239;\n  --color-warning: #ff891c;\n  --color-info: #5798aa;\n  --color-success: #6ea040;\n\n  /* Base units    ------------------------------- */\n\n  /* font-size: 1rem = 16 px */\n  --base-font-size: 16px;\n  --base-font-size: 1rem;\n\n  /* base: 1.5rem = 24 px */\n  --unit: 24px;\n  --unit: 1.5rem;\n\n  /* line: 0.0625rem = 1px */\n  --unit-line: 1px;\n  --unit-line: 0.0625rem;\n  --unit-line: calc(var(--unit) / 24);\n\n  /* xxs: 0.1875rem = 3px */\n  --unit-xxs: 3px;\n  --unit-xxs: 0.1875rem;\n  --unit-xxs: calc(var(--unit) / 8);\n\n  /* xs: 0.375rem = 6px */\n  --unit-xs: 6px;\n  --unit-xs: 0.375rem;\n  --unit-xs: calc(var(--unit) / 4);\n\n  /* s: 0.75rem = 12px */\n  --unit-s: 12px;\n  --unit-s: 0.75rem;\n  --unit-s: calc(var(--unit) / 2);\n\n  /* m: 1.125rem = 18px */\n  --unit-m: 18px;\n  --unit-m: 1.125rem;\n  --unit-m: calc(var(--unit) * 3 / 4);\n\n  /* l: 2.25rem = 36 px */\n  --unit-l: 36px;\n  --unit-l: 2.25rem;\n  --unit-l: calc(var(--unit) * 3 / 2);\n\n  /* xl: 3rem = 48px */\n  --unit-xl: 48px;\n  --unit-xl: 3rem;\n  --unit-xl: calc(var(--unit) * 2);\n\n  /* xxl: 3.75rem = 60 px */\n  --unit-xxl: 60px;\n  --unit-xxl: 3.75rem;\n  --unit-xxl: calc(var(--unit) * 2.5);\n\n  /*  */\n  --unit-infinity: 9999px;\n\n  /* Lists         ------------------------------- */\n  --list-postfix: ',';\n  --list-prefix: '―';\n\n  /* Grid          ------------------------------- */\n\n  /*\n  postcss-grid-system configuration\n  https://github.com/francoisromain/postcss-grid-system#configuration\n  */\n\n  /* width of a single bloc in rem */\n  --col-width: 328px;\n  --col-width: 20.5rem;\n\n  /* width of the gutter in rem */\n  --gutter: 24px;\n  --gutter: 1.5rem;\n  --gutter: var(--unit);\n\n  /* padding of the main container in rem */\n  --container-padding: 24px;\n  --container-padding: 1.5rem;\n  --container-padding: var(--unit);\n\n  /* transition */\n  --transition: opacity 0.5s, background-color 0.5s, border 0.5s,\n    box-shadow 0.5s, fill 0.5s;\n\n  /* hr */\n  --border-style: dotted;\n  --border-color: #bcb9af;\n  --border-color: var(--color-neutral);\n  --border-width: 1px;\n  --border-width: 0.0625rem;\n  --border-width: var(--unit-line);\n}\n\n/* media queries: x * col-width + gutter */\n\n/* Reset           ------------------------------- */\n\n/*\n    Print\n-------------------------------\n\nFrom HTML5 Boilerplate\nhttps://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css\n\nBlack prints faster: http://www.sanbeiji.com/archives/953\n*/\n\n@media print {\n  *,\n  *::before,\n  *::after,\n  *::first-letter,\n  *::first-line {\n    background: transparent !important;\n    color: #000 !important;\n    box-shadow: none !important;\n    text-shadow: none !important;\n  }\n\n  a,\n  a:visited {\n    text-decoration: underline;\n  }\n\n  a[href]::after {\n    content: ' (' attr(href) ')';\n  }\n\n  abbr[title]::after {\n    content: ' (' attr(title) ')';\n  }\n\n  /*\n  Don't show links that are fragment identifiers,\n  or use the `javascript:` pseudo protocol\n  */\n  a[href^='#']::after,\n  a[href^='javascript:']::after {\n    content: '';\n  }\n}\n\n/*\n    Reset\n-------------------------------\n*/\n\n/*\n  css-tricks.com/inheriting-box-sizing-probably-slightly-better-best-practice\n  paulirish.com/2012/box-sizing-border-box-ftw\n*/\n\nhtml,\n* {\n  box-sizing: border-box;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\nhtml {\n  overflow-y: scroll;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  text-rendering: optimizeLegibility;\n  background-color: white;\n  background-color: var(--color-bg);\n  color: #666;\n  color: var(--color-text);\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue;\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nbody,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\ndl,\ndd,\nol,\nul,\nform,\nfieldset,\nlegend,\nfigure,\ntable,\nth,\ntd,\ncaption,\nhr {\n  margin: 0;\n  padding: 0;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-weight: normal;\n  font-style: normal;\n  text-decoration: none;\n}\n\nabbr[title],\ndfn[title] {\n  cursor: help;\n}\n\nbutton,\ninput,\ntextarea,\nselect,\noptgroup {\n  font: inherit;\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n  text-align: left;\n}\n\nfieldset {\n  border: 0 none transparent;\n}\n\n*:focus,\ntextarea:focus,\ninput:focus {\n  outline: none;\n  outline: 0;\n}\n\nlabel {\n  cursor: pointer;\n  display: block;\n}\n\nu,\nins {\n  text-decoration: none;\n}\n\nins {\n  border-bottom: 1px solid;\n}\n\nimg, video {\n  max-width: 100%;\n  font-style: italic;\n  vertical-align: middle;\n  height: auto;\n  outline: 0;\n}\n\n/* remove yellow bg on automplete in chrome */\n\ninput:-webkit-autofill,\nselect:-webkit-autofill {\n  -webkit-box-shadow: 0 0 0 1000px white inset;\n}\n\n/* remove round corner on iOs */\n\ninput:not([type='radio']):not([type='checkbox']):not(.rnd),\nselect {\n  -webkit-appearance: none;\n  border-radius: 0;\n}\n\n/* https://github.com/necolas/normalize.css/pull/697/commits/c3762f068feca8e218e69f54daf397cd0f33176d */\n\nbutton,\nhtml [type='button'],\n[type='reset'],\n[type='submit'] {\n  border-radius: 0;\n}\n\n/* Elements        ------------------------------- */\n\n/*\n    Typography\n-------------------------------\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nul,\nol,\ndl,\nblockquote,\np,\naddress,\ntable,\nfieldset,\nfigure,\npre {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.h0 {\n  font-size: 95.367px;\n  font-size: 5.96046rem;\n  font-size: calc(5.96046 * var(--base-font-size));\n  line-height: 144px;\n  line-height: 9rem;\n  line-height: calc(6 * var(--unit));\n}\n\nh1,\n.h1 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 48px;\n  line-height: 3rem;\n  line-height: calc(2 * var(--unit));\n}\n\nh2,\n.h2 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh3,\nh4,\nh5,\n.h5 {\n  font-weight: 700;\n}\n\nh3,\n.h3 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n  border-bottom: 1px dotted #bcb9af;\n  border-bottom: 0.0625rem dotted #bcb9af;\n  border-bottom: var(--unit-line) var(--border-style) var(--border-color);\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n}\n\nh4,\n.h4 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh5,\n.h5 {\n  font-size: 12.8px;\n  font-size: 0.8rem;\n  font-size: calc(0.8 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh6,\n.h6,\nsmall {\n  font-size: 11.448px;\n  font-size: 0.71554rem;\n  font-size: calc(0.71554 * var(--base-font-size));\n  line-height: 12px;\n  line-height: 0.75rem;\n  line-height: calc(0.5 * var(--unit));\n}\n\nlabel,\nh6 {\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\nh1,\nh2,\nh5 {\n  font-weight: 700;\n}\n\nblockquote {\n  font-size: 17.888px;\n  font-size: 1.11803rem;\n  font-size: calc(1.11803 * var(--base-font-size));\n  line-height: 36px;\n  line-height: 2.25rem;\n  line-height: calc(1.5 * var(--unit));\n  font-style: italic;\n  background: #f8f7f3;\n  background: var(--color-alt);\n  padding: 24px;\n  padding: 1.5rem;\n  padding: var(--unit);\n  border-left: 1px dotted #bcb9af;\n  border-left: 0.0625rem dotted #bcb9af;\n  border-left: var(--unit-line) var(--border-style) var(--border-color);\n}\n\nblockquote :last-child {\n  margin-bottom: 0;\n}\n\nhr {\n  clear: both;\n  border: 0;\n  height: 0;\n  border-top-width: 1px;\n  border-top-width: 0.0625rem;\n  border-top-width: var(--border-width);\n  border-top-style: dotted;\n  border-top-style: var(--border-style);\n  border-top-color: #bcb9af;\n  border-top-color: var(--border-color);\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n}\n\na {\n  text-decoration: none;\n  color: #f50;\n  color: var(--color-highlight)\n}\n\na:visited {\n    color: #f50;\n    color: var(--color-highlight);\n  }\n\na:hover,\n  a:active,\n  a:focus {\n    color: #f50;\n    color: var(--color-highlight);\n  }\n\nb,\nstrong,\n.strong,\n.bold {\n  font-weight: 700;\n}\n\ni,\n.italic {\n  font-style: italic;\n}\n\n.cap {\n  text-transform: capitalize;\n}\n\n.caps {\n  text-transform: uppercase;\n  letter-spacing: 0.25em;\n}\n\n.line-through {\n  color: #bcb9af;\n  color: var(--color-neutral);\n  text-decoration: line-through;\n}\n\n.underline {\n  border-bottom: 1px solid;\n}\n\n.nowrap {\n  white-space: nowrap;\n}\n\n.truncate {\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-left {\n  text-align: right;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.mono {\n  font-family: 'Lucida Sans Typewriter', monaco, 'Lucida Console', monospace;\n  font-weight: bold;\n}\n\n/*\n      Lists\n-------------------------------\n\n*/\n\nul,\nol,\ndd {\n  list-style-position: inside;\n\n  /* overflow: auto; */\n}\n\nul > li > ul,\nul > li > ol,\nol > li > ul,\nol > li > ol {\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\nol {\n  list-style-type: decimal;\n}\n\nli > ul,\n  li > ol {\n    margin-bottom: 0;\n  }\n\n.list-sans {\n  padding: 0;\n  list-style: none;\n}\n\n.list-inline {\n  padding: 0;\n  list-style: none;\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: calc(var(--unit) - var(--unit-xs))\n}\n\n.list-inline > li:not(.right) {\n    margin-bottom: 6px;\n    margin-bottom: 0.375rem;\n    margin-bottom: var(--unit-xs);\n    margin-right: 6px;\n    margin-right: 0.375rem;\n    margin-right: var(--unit-xs);\n    float: left;\n  }\n\n.list-inline > li.right {\n    margin-bottom: 6px;\n    margin-bottom: 0.375rem;\n    margin-bottom: var(--unit-xs);\n    margin-left: 6px;\n    margin-left: 0.375rem;\n    margin-left: var(--unit-xs);\n    float: right;\n  }\n\n.list-prefix {\n  list-style: none\n}\n\n.list-prefix > li::before {\n    content: '―';\n    content: var(--list-prefix);\n    margin-right: 6px;\n    margin-right: 0.375rem;\n    margin-right: var(--unit-xs);\n    color: #bcb9af;\n    color: var(--color-neutral);\n  }\n\n.list-postfix {\n  list-style: none\n}\n\n.list-postfix > li::after {\n      content: ',';\n      content: var(--list-postfix);\n    }\n\n.list-inline.list-postfix li:last-child::after {\n  content: none;\n}\n\n/*\n    Table\n-------------------------------\n*/\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: none;\n}\n\nth {\n  text-align: left;\n  font-weight: 700;\n  font-size: 12.8px;\n  font-size: 0.8rem;\n  font-size: calc(0.8 * var(--base-font-size));\n  line-height: 12px;\n  line-height: 0.75rem;\n  line-height: calc(0.5 * var(--unit));\n}\n\ntr {\n  border-bottom: 1px dotted #bcb9af;\n  border-bottom: 0.0625rem dotted #bcb9af;\n  border-bottom: var(--unit-line) var(--border-style) var(--border-color);\n}\n\ntd,\nth {\n  vertical-align: top;\n  word-wrap: break-word;\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n  padding-top: 11px;\n  padding-top: 0.6875rem;\n  padding-top: calc(var(--unit-s) - var(--unit-line));\n}\n\n.table-xs td,\n.table-xs th {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n  padding-bottom: 5px;\n  padding-bottom: 0.3125rem;\n  padding-bottom: calc(var(--unit-xs) - var(--unit-line));\n}\n\n.table-xxs td,\n.table-xxs th {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n  padding-bottom: 2px;\n  padding-bottom: 0.125rem;\n  padding-bottom: calc(var(--unit-xxs) - var(--unit-line));\n}\n\n.table-fixed {\n  display: table;\n  table-layout: fixed;\n}\n\n/*\n      Buttons\n-------------------------------\n*/\n\n.btn,.btn:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n}\n\n.btn:active,.active .btn {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n}\n\n.btn:hover,.active:hover .btn {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.btn:disabled,.btn:disabled:active,.btn:disabled:hover,.disabled .btn,.disabled:active .btn,.disabled:hover .btn {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.btn-border,.btn-border:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:active,.active .btn-border {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:hover,.active:hover .btn-border {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:disabled,.btn-border:disabled:active,.btn-border:disabled:hover,.disabled .btn-border,.disabled:active .btn-border,.disabled:hover .btn-border {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.tag .btn,.tag:visited .btn,\n.btn-alt,.btn-alt:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-bg);\n  background-color: var(--color-neutral);\n}\n\n.tag:active .btn,.tag.active .btn, .btn-alt:active,.active .btn-alt {\n  color: var(--color-bg);\n  background-color: var(--color-inverse);\n}\n\n.tag:hover .btn,.tag.active:hover .btn, .btn-alt:hover,.active:hover .btn-alt {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.tag:disabled .btn,.tag:disabled:active .btn,.tag:disabled:hover .btn,.tag.disabled .btn,.tag.disabled:active .btn,.tag.disabled:hover .btn, .btn-alt:disabled,.btn-alt:disabled:active,.btn-alt:disabled:hover,.disabled .btn-alt,.disabled:active .btn-alt,.disabled:hover .btn-alt {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-bg);\n  background-color: var(--color-neutral);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.btn,\n.btn-alt,\n.btn-border,\n.btn-transparent {\n  transition: opacity 0.5s, background-color 0.5s, border 0.5s,\n    box-shadow 0.5s, fill 0.5s;\n  transition: var(--transition);\n  font-weight: 700;\n}\n\n.btn-border {\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.btn-icon {\n  line-height: 16px;\n  line-height: 1rem;\n}\n\n/*\n      Forms\n-------------------------------\n*/\n\ninput[type='text'],\ninput[type='email'],\ninput[type='search'],\ninput[type='password'],\ninput[type='tel'],\nselect,\ntextarea {\n  width: 100%;\n  padding: 12px;\n  padding: 0.75rem;\n  padding: var(--unit-s);\n  border: 0 none;\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  height: auto;\n  color: inherit;\n}\n\nselect {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath d='M22 9L12 19 2 9'/%3E %3C/svg%3E\"\n  );\n  background-position: right 12px center;\n  background-position: right 0.75rem center;\n  background-position: right var(--unit-s) center;\n  background-repeat: no-repeat;\n\n  /* for FF: http://stackoverflow.com/a/18317228/2112538 */\n  -moz-appearance: none;\n  text-indent: 0.01px;\n  text-overflow: ellipsis;\n}\n\ntextarea {\n  /* http://stackoverflow.com/a/5196591/2112538 */\n  vertical-align: top;\n  resize: vertical;\n}\n\ntextarea:focus,\ninput:focus,\nselect:focus {\n  border-right: 12px solid #f50;\n  border-right: 0.75rem solid #f50;\n  border-right: var(--unit-s) solid var(--color-highlight);\n}\n\ninput[type='text'].bg-bg,\ninput[type='email'].bg-bg,\ninput[type='search'].bg-bg,\ninput[type='password'].bg-bg,\ninput[type='tel'].bg-bg,\nselect.bg-bg,\ntextarea.bg-bg {\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\ninput.success {\n  border-right: 12px solid #6ea040;\n  border-right: 0.75rem solid #6ea040;\n  border-right: var(--unit-s) solid var(--color-success);\n}\n\ninput.error {\n  border-right: 12px solid #e82239;\n  border-right: 0.75rem solid #e82239;\n  border-right: var(--unit-s) solid var(--color-error);\n}\n\ninput:disabled,\ntextarea:disabled,\nselect:disabled {\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\ninput.bg-bg:disabled,\ntextarea.bg-bg:disabled,\nselect.bg-bg:disabled {\n  background-color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n*::-webkit-input-placeholder {\n  /* WebKit, Blink, Edge */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n*:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #bcb9af;\n  color: var(--color-neutral);\n  opacity: 1;\n}\n\n*::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #bcb9af;\n  color: var(--color-neutral);\n  opacity: 1;\n}\n\n*:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n*::-ms-input-placeholder {\n  /* Microsoft Edge */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n/* Layout          ------------------------------- */\n\n/* @import 'system/grid-system.css'; */\n\n/*\n      postcss-grid-fluid\n-------------------------------\n\nhttps://github.com/francoisromain/postcss-grid-fluid\n*/\n\n.container {\n  padding-left: 24px;\n  padding-left: 1.5rem;\n  padding-left: var(--container-padding);\n  padding-right: 24px;\n  padding-right: 1.5rem;\n  padding-right: var(--container-padding);\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n}\n\n.blobs {\n  clear: both;\n  margin-right: calc(-1 * var(--gutter));\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n\n.blobs::after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\n.blob {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 0;\n}\n\n.blob-auto {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 auto;\n}\n\n.blob-1 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(100% - var(--gutter));\n}\n\n.blob-code,\n.blob-1-2 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(50% - var(--gutter));\n}\n\n.blob-1-3 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(33.333333333333336% - var(--gutter));\n}\n\n.blob-2-3 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(66.66666666666667% - var(--gutter));\n}\n\n.blob-1-4 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(25% - var(--gutter));\n}\n\n.blob-3-4 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(75% - var(--gutter));\n}\n\n.blob-1-6 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(16.666666666666668% - var(--gutter));\n}\n\n.blob-5-6 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(83.33333333333333% - var(--gutter));\n}\n\n.blob-btn {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 48px;\n  flex: 0 1 3rem;\n}\n\n.blob-3-4-btn {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 calc(75% - 6rem);\n  flex: 0 1 calc(75% - var(--gutter) - 3rem - var(--gutter));\n}\n\n@media (min-width: 22em) {\n  .mobile-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n  .mobile-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .mobile-blob {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 0;\n  }\n\n  .mobile-blob-auto {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 auto;\n  }\n\n  .mobile-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .mobile-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .mobile-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .mobile-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .mobile-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .mobile-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .mobile-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .mobile-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 42.5em) {\n  .container {\n    width: 42.5rem;\n    width: calc(2 * var(--col-width) + var(--gutter));\n  }\n\n  .tablet-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .tablet-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .tablet-blob {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 0;\n  }\n\n  .tablet-blob-auto {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 auto;\n  }\n\n  .tablet-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .tablet-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .tablet-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .tablet-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .tablet-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .tablet-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .tablet-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .tablet-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 63em) {\n  .container {\n    width: 63rem;\n    width: calc(3 * var(--col-width) + var(--gutter));\n  }\n\n  .desktop-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .desktop-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .desktop-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .desktop-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .desktop-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .desktop-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .desktop-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .desktop-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .desktop-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .desktop-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 83.5em) {\n  .container {\n    width: 83.5rem;\n    width: calc(4 * var(--col-width) + var(--gutter));\n  }\n\n  .large-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .large-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .large-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .large-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .large-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .large-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .large-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .large-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .large-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .large-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n/*\n    Utils\n-------------------------------\n*/\n\n/*\nhttp://cssmojo.com/the-very-latest-clearfix-reloaded/\n*/\n\n.clearfix::before,\n.clearfix::after {\n  content: '';\n  display: block;\n  clear: both;\n}\n\n.hide {\n  display: none;\n  visibility: hidden;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.pointer-none {\n  pointer-events: none;\n}\n\n.overflow-hidden {\n  overflow: hidden;\n}\n\n.inline-block {\n  display: inline-block;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-start {\n  align-items: flex-start;\n}\n\n.flex-direction-column {\n  flex-direction: column;\n}\n\n.left {\n  float: left;\n}\n\n.right {\n  float: right;\n}\n\n.flex-right {\n  margin-left: auto;\n}\n\n.relative {\n  position: relative;\n}\n\n.fixed {\n  position: fixed;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.center {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n.full {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.full-x {\n  width: 100%;\n}\n\n.full-y {\n  height: 100%;\n}\n\n/*\n      Margins\n-------------------------------\n\n*/\n\n.m {\n  margin: 24px;\n  margin: 1.5rem;\n  margin: var(--unit);\n}\n\n.m-xxs {\n  margin: 3px;\n  margin: 0.1875rem;\n  margin: var(--unit-xxs);\n}\n\n.m-xs {\n  margin: 6px;\n  margin: 0.375rem;\n  margin: var(--unit-xs);\n}\n\n.m-s {\n  margin: 12px;\n  margin: 0.75rem;\n  margin: var(--unit-s);\n}\n\n.m-m {\n  margin: 18px;\n  margin: 1.125rem;\n  margin: var(--unit-m);\n}\n\n.m-l {\n  margin: 36px;\n  margin: 2.25rem;\n  margin: var(--unit-l);\n}\n\n.m-xl {\n  margin: 48px;\n  margin: 3rem;\n  margin: var(--unit-xl);\n}\n\n.m-0 {\n  margin: 0;\n}\n\n.mr {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--unit);\n}\n\n.mr-xxs {\n  margin-right: 3px;\n  margin-right: 0.1875rem;\n  margin-right: var(--unit-xxs);\n}\n\n.mr-xs {\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n}\n\n.mr-s {\n  margin-right: 12px;\n  margin-right: 0.75rem;\n  margin-right: var(--unit-s);\n}\n\n.mr-m {\n  margin-right: 18px;\n  margin-right: 1.125rem;\n  margin-right: var(--unit-m);\n}\n\n.mr-l {\n  margin-right: 36px;\n  margin-right: 2.25rem;\n  margin-right: var(--unit-l);\n}\n\n.mr-xl {\n  margin-right: 48px;\n  margin-right: 3rem;\n  margin-right: var(--unit-xl);\n}\n\n.mr-0 {\n  margin-right: 0;\n}\n\n.ml {\n  margin-left: 24px;\n  margin-left: 1.5rem;\n  margin-left: var(--unit);\n}\n\n.ml-xxs {\n  margin-left: 3px;\n  margin-left: 0.1875rem;\n  margin-left: var(--unit-xxs);\n}\n\n.ml-xs {\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n}\n\n.ml-s {\n  margin-left: 12px;\n  margin-left: 0.75rem;\n  margin-left: var(--unit-s);\n}\n\n.ml-m {\n  margin-left: 18px;\n  margin-left: 1.125rem;\n  margin-left: var(--unit-m);\n}\n\n.ml-l {\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\n.ml-xl {\n  margin-left: 48px;\n  margin-left: 3rem;\n  margin-left: var(--unit-xl);\n}\n\n.ml-0 {\n  margin-left: 0;\n}\n\n.mt {\n  margin-top: 24px;\n  margin-top: 1.5rem;\n  margin-top: var(--unit);\n}\n\n.mt-xxs {\n  margin-top: 3px;\n  margin-top: 0.1875rem;\n  margin-top: var(--unit-xxs);\n}\n\n.mt-xs {\n  margin-top: 6px;\n  margin-top: 0.375rem;\n  margin-top: var(--unit-xs);\n}\n\n.mt-s {\n  margin-top: 12px;\n  margin-top: 0.75rem;\n  margin-top: var(--unit-s);\n}\n\n.mt-m {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n}\n\n.mt-l {\n  margin-top: 36px;\n  margin-top: 2.25rem;\n  margin-top: var(--unit-l);\n}\n\n.mt-xl {\n  margin-top: 48px;\n  margin-top: 3rem;\n  margin-top: var(--unit-xl);\n}\n\n.mt-xxl {\n  margin-top: 60px;\n  margin-top: 3.75rem;\n  margin-top: var(--unit-xxl);\n}\n\n.mt-0 {\n  margin-top: 0;\n}\n\n.mb {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.mb-xxs {\n  margin-bottom: 3px;\n  margin-bottom: 0.1875rem;\n  margin-bottom: var(--unit-xxs);\n}\n\n.mb-xs {\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n}\n\n.mb-s {\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\n.mb-m {\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: var(--unit-m);\n}\n\n.mb-l {\n  margin-bottom: 36px;\n  margin-bottom: 2.25rem;\n  margin-bottom: var(--unit-l);\n}\n\n.mb-xl {\n  margin-bottom: 48px;\n  margin-bottom: 3rem;\n  margin-bottom: var(--unit-xl);\n}\n\n.mb-xxl {\n  margin-bottom: 60px;\n  margin-bottom: 3.75rem;\n  margin-bottom: var(--unit-xxl);\n}\n\n.mb-0 {\n  margin-bottom: 0;\n}\n\n.mx {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--unit);\n  margin-left: 24px;\n  margin-left: 1.5rem;\n  margin-left: var(--unit);\n}\n\n.mx-xxs {\n  margin-right: 3px;\n  margin-right: 0.1875rem;\n  margin-right: var(--unit-xxs);\n  margin-left: 3px;\n  margin-left: 0.1875rem;\n  margin-left: var(--unit-xxs);\n}\n\n.mx-xs {\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n}\n\n.mx-s {\n  margin-right: 12px;\n  margin-right: 0.75rem;\n  margin-right: var(--unit-s);\n  margin-left: 12px;\n  margin-left: 0.75rem;\n  margin-left: var(--unit-s);\n}\n\n.mx-m {\n  margin-right: 18px;\n  margin-right: 1.125rem;\n  margin-right: var(--unit-m);\n  margin-left: 18px;\n  margin-left: 1.125rem;\n  margin-left: var(--unit-m);\n}\n\n.mx-l {\n  margin-right: 36px;\n  margin-right: 2.25rem;\n  margin-right: var(--unit-l);\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\n.mx-xl {\n  margin-right: 48px;\n  margin-right: 3rem;\n  margin-right: var(--unit-xl);\n  margin-left: 48px;\n  margin-left: 3rem;\n  margin-left: var(--unit-xl);\n}\n\n.mx-xxl {\n  margin-right: 60px;\n  margin-right: 3.75rem;\n  margin-right: var(--unit-xxl);\n  margin-left: 60px;\n  margin-left: 3.75rem;\n  margin-left: var(--unit-xxl);\n}\n\n.mx-0 {\n  margin-right: 0;\n  margin-left: 0;\n}\n\n.my {\n  margin-top: 24px;\n  margin-top: 1.5rem;\n  margin-top: var(--unit);\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.my-xxs {\n  margin-top: 3px;\n  margin-top: 0.1875rem;\n  margin-top: var(--unit-xxs);\n  margin-bottom: 3px;\n  margin-bottom: 0.1875rem;\n  margin-bottom: var(--unit-xxs);\n}\n\n.my-xs {\n  margin-top: 6px;\n  margin-top: 0.375rem;\n  margin-top: var(--unit-xs);\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n}\n\n.my-s {\n  margin-top: 12px;\n  margin-top: 0.75rem;\n  margin-top: var(--unit-s);\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\n.my-m {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: var(--unit-m);\n}\n\n.my-l {\n  margin-top: 36px;\n  margin-top: 2.25rem;\n  margin-top: var(--unit-l);\n  margin-bottom: 36px;\n  margin-bottom: 2.25rem;\n  margin-bottom: var(--unit-l);\n}\n\n.my-xl {\n  margin-top: 48px;\n  margin-top: 3rem;\n  margin-top: var(--unit-xl);\n  margin-bottom: 48px;\n  margin-bottom: 3rem;\n  margin-bottom: var(--unit-xl);\n}\n\n.my-0 {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.mt--s {\n  margin-top: -12px;\n  margin-top: -0.75rem;\n  margin-top: calc(var(--unit-s) * -1);\n}\n\n.mt--m {\n  margin-top: -18px;\n  margin-top: -1.125rem;\n  margin-top: calc(var(--unit-m) * -1);\n}\n\n.my--s {\n  margin-top: -12px;\n  margin-top: -0.75rem;\n  margin-top: calc(var(--unit-s) * -1);\n  margin-bottom: -12px;\n  margin-bottom: -0.75rem;\n  margin-bottom: calc(var(--unit-s) * -1);\n}\n\n.my--xs {\n  margin-top: -6px;\n  margin-top: -0.375rem;\n  margin-top: calc(var(--unit-xs) * -1);\n  margin-bottom: -6px;\n  margin-bottom: -0.375rem;\n  margin-bottom: calc(var(--unit-xs) * -1);\n}\n\n/*\n    Padding\n-------------------------------\n*/\n\n.p {\n  padding: 24px;\n  padding: 1.5rem;\n  padding: var(--unit);\n}\n\n.p-xxs {\n  padding: 3px;\n  padding: 0.1875rem;\n  padding: var(--unit-xxs);\n}\n\n.p-xs {\n  padding: 6px;\n  padding: 0.375rem;\n  padding: var(--unit-xs);\n}\n\n.p-s {\n  padding: 12px;\n  padding: 0.75rem;\n  padding: var(--unit-s);\n}\n\n.p-m {\n  padding: 18px;\n  padding: 1.125rem;\n  padding: var(--unit-m);\n}\n\n.p-l {\n  padding: 36px;\n  padding: 2.25rem;\n  padding: var(--unit-l);\n}\n\n.p-xl {\n  padding: 48px;\n  padding: 3rem;\n  padding: var(--unit-xl);\n}\n\n.p-xxl {\n  padding: 60px;\n  padding: 3.75rem;\n  padding: var(--unit-xxl);\n}\n\n.px {\n  padding-left: 24px;\n  padding-left: 1.5rem;\n  padding-left: var(--unit);\n  padding-right: 24px;\n  padding-right: 1.5rem;\n  padding-right: var(--unit);\n}\n\n.px-xxs {\n  padding-left: 3px;\n  padding-left: 0.1875rem;\n  padding-left: var(--unit-xxs);\n  padding-right: 3px;\n  padding-right: 0.1875rem;\n  padding-right: var(--unit-xxs);\n}\n\n.px-xs {\n  padding-left: 6px;\n  padding-left: 0.375rem;\n  padding-left: var(--unit-xs);\n  padding-right: 6px;\n  padding-right: 0.375rem;\n  padding-right: var(--unit-xs);\n}\n\n.px-s {\n  padding-left: 12px;\n  padding-left: 0.75rem;\n  padding-left: var(--unit-s);\n  padding-right: 12px;\n  padding-right: 0.75rem;\n  padding-right: var(--unit-s);\n}\n\n.px-m {\n  padding-left: 18px;\n  padding-left: 1.125rem;\n  padding-left: var(--unit-m);\n  padding-right: 18px;\n  padding-right: 1.125rem;\n  padding-right: var(--unit-m);\n}\n\n.px-l {\n  padding-left: 36px;\n  padding-left: 2.25rem;\n  padding-left: var(--unit-l);\n  padding-right: 36px;\n  padding-right: 2.25rem;\n  padding-right: var(--unit-l);\n}\n\n.px-xl {\n  padding-left: 48px;\n  padding-left: 3rem;\n  padding-left: var(--unit-xl);\n  padding-right: 48px;\n  padding-right: 3rem;\n  padding-right: var(--unit-xl);\n}\n\n.px-xxl {\n  padding-left: 60px;\n  padding-left: 3.75rem;\n  padding-left: var(--unit-xxl);\n  padding-right: 60px;\n  padding-right: 3.75rem;\n  padding-right: var(--unit-xxl);\n}\n\n.py {\n  padding-top: 24px;\n  padding-top: 1.5rem;\n  padding-top: var(--unit);\n  padding-bottom: 24px;\n  padding-bottom: 1.5rem;\n  padding-bottom: var(--unit);\n}\n\n.py-xxs {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n  padding-bottom: 3px;\n  padding-bottom: 0.1875rem;\n  padding-bottom: var(--unit-xxs);\n}\n\n.py-xs {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n  padding-bottom: 6px;\n  padding-bottom: 0.375rem;\n  padding-bottom: var(--unit-xs);\n}\n\n.py-s {\n  padding-top: 12px;\n  padding-top: 0.75rem;\n  padding-top: var(--unit-s);\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.py-m {\n  padding-top: 18px;\n  padding-top: 1.125rem;\n  padding-top: var(--unit-m);\n  padding-bottom: 18px;\n  padding-bottom: 1.125rem;\n  padding-bottom: var(--unit-m);\n}\n\n.py-l {\n  padding-top: 36px;\n  padding-top: 2.25rem;\n  padding-top: var(--unit-l);\n  padding-bottom: 36px;\n  padding-bottom: 2.25rem;\n  padding-bottom: var(--unit-l);\n}\n\n.py-xl {\n  padding-top: 48px;\n  padding-top: 3rem;\n  padding-top: var(--unit-xl);\n  padding-bottom: 48px;\n  padding-bottom: 3rem;\n  padding-bottom: var(--unit-xl);\n}\n\n.py-xxl {\n  padding-top: 60px;\n  padding-top: 3.75rem;\n  padding-top: var(--unit-xxl);\n  padding-bottom: 60px;\n  padding-bottom: 3.75rem;\n  padding-bottom: var(--unit-xxl);\n}\n\n.pt {\n  padding-top: 24px;\n  padding-top: 1.5rem;\n  padding-top: var(--unit);\n}\n\n.pt-xxs {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n}\n\n.pt-xs {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n}\n\n.pt-s {\n  padding-top: 12px;\n  padding-top: 0.75rem;\n  padding-top: var(--unit-s);\n}\n\n.pt-m {\n  padding-top: 18px;\n  padding-top: 1.125rem;\n  padding-top: var(--unit-m);\n}\n\n.pt-l {\n  padding-top: 36px;\n  padding-top: 2.25rem;\n  padding-top: var(--unit-l);\n}\n\n.pt-xl {\n  padding-top: 48px;\n  padding-top: 3rem;\n  padding-top: var(--unit-xl);\n}\n\n.pt-xxl {\n  padding-top: 60px;\n  padding-top: 3.75rem;\n  padding-top: var(--unit-xxl);\n}\n\n.pb {\n  padding-bottom: 24px;\n  padding-bottom: 1.5rem;\n  padding-bottom: var(--unit);\n}\n\n.pb-xxs {\n  padding-bottom: 3px;\n  padding-bottom: 0.1875rem;\n  padding-bottom: var(--unit-xxs);\n}\n\n.pb-xs {\n  padding-bottom: 6px;\n  padding-bottom: 0.375rem;\n  padding-bottom: var(--unit-xs);\n}\n\n.pb-s {\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.pb-m {\n  padding-bottom: 18px;\n  padding-bottom: 1.125rem;\n  padding-bottom: var(--unit-m);\n}\n\n.pb-l {\n  padding-bottom: 36px;\n  padding-bottom: 2.25rem;\n  padding-bottom: var(--unit-l);\n}\n\n.pb-xl {\n  padding-bottom: 48px;\n  padding-bottom: 3rem;\n  padding-bottom: var(--unit-xl);\n}\n\n.pb-xxl {\n  padding-bottom: 60px;\n  padding-bottom: 3.75rem;\n  padding-bottom: var(--unit-xxl);\n}\n\n/* Ui             ------------------------------- */\n\n/*\n    Colors\n-------------------------------\n*/\n\n.color-bg {\n  color: white;\n  color: var(--color-bg);\n}\n\n.color-highlight {\n  color: #f50;\n  color: var(--color-highlight);\n}\n\n.color-alt {\n  color: #f8f7f3;\n  color: var(--color-alt);\n}\n\n.color-neutral {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.color-inverse {\n  color: #3d3d35;\n  color: var(--color-inverse);\n}\n\n.bg-bg {\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\n.bg-highlight {\n  background-color: #f50;\n  background-color: var(--color-highlight);\n}\n\n.bg-alt {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n}\n\n.bg-neutral {\n  background-color: #bcb9af;\n  background-color: var(--color-neutral);\n}\n\n.bg-inverse {\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n}\n\n.bg-info {\n  background: #5798aa;\n  background: var(--color-info);\n}\n\n.bg-error {\n  background: #e82239;\n  background: var(--color-error);\n}\n\n.bg-warning {\n  background: #ff891c;\n  background: var(--color-warning);\n}\n\n.bg-success {\n  background: #6ea040;\n  background: var(--color-success);\n}\n\n.bg-bg-alpha {\n  background-color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.bg-alt-alpha {\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\n/*\n    UI elements\n-------------------------------\n*/\n\n.pill {\n  border-radius: 9999px;\n  border-radius: var(--unit-infinity);\n}\n\n.rnd {\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.rnd-top {\n  border-radius: 0.375rem 0.375rem 0 0;\n  border-radius: var(--unit-xs) var(--unit-xs) 0 0;\n}\n\n.border-bottom {\n  border-bottom: 1px dotted;\n  border-bottom: 0.0625rem dotted;\n  border-bottom: var(--unit-line) dotted;\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n  border-color: #bcb9af;\n  border-color: var(--border-color);\n}\n\n.border {\n  box-shadow: inset 0 0 0 0.0625rem #f8f7f3;\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-alt);\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.tooltip {\n  position: relative;\n}\n\n.tooltip span {\n  position: absolute;\n  color: #f8f7f3;\n  color: var(--color-alt);\n  background: #bcb9af;\n  background: var(--color-neutral);\n  text-align: center;\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n  top: -48px;\n  top: -3rem;\n  top: calc(var(--unit-xl) * -1);\n  right: 0;\n  padding: 6px;\n  padding: 0.375rem;\n  padding: var(--unit-xs);\n  z-index: 999;\n}\n\n.tooltip span::after {\n  content: '';\n  position: absolute;\n  top: 100%;\n  right: 24px;\n  right: 1.5rem;\n  right: var(--unit);\n  border-top: 6px solid #bcb9af;\n  border-top: 0.375rem solid #bcb9af;\n  border-top: var(--unit-xs) solid var(--color-neutral);\n  border-right: 6px solid transparent;\n  border-right: 0.375rem solid transparent;\n  border-right: var(--unit-xs) solid transparent;\n  border-left: 6px solid transparent;\n  border-left: 0.375rem solid transparent;\n  border-left: var(--unit-xs) solid transparent;\n}\n\n.shadow {\n  box-shadow: 0.375rem 0.375rem 1.5rem\n    rgba(188, 185, 175, 0.25);\n  box-shadow: var(--unit-xs) var(--unit-xs) var(--unit)\n    rgba(188, 185, 175, 0.25);\n}\n\n.shadow-inset {\n  box-shadow: inset 0.375rem 0.375rem 1.5rem\n    rgba(188, 185, 175, 0.25);\n  box-shadow: inset var(--unit-xs) var(--unit-xs) var(--unit)\n    rgba(188, 185, 175, 0.25);\n}\n\n.ribbon {\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  right: 0;\n  width: 150px;\n  height: 150px;\n}\n\n.ribbon-bloc {\n  transform: rotate(45deg);\n}\n\n.ribbon span {\n  display: inline-block;\n  width: 100%;\n  color: white;\n  color: var(--color-bg);\n  background-color: #ff891c;\n  background-color: var(--color-warning);\n  text-align: center;\n}\n\npre code {\n  display: block;\n}\n\ncode {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  padding: 6px 12px;\n  padding: 0.375rem 0.75rem;\n  padding: var(--unit-xs) var(--unit-s);\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n  white-space: pre;\n  -webkit-hyphens: none;\n      -ms-hyphens: none;\n          hyphens: none;\n  word-wrap: break-word;\n}\n\n.icon {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  background-size: cover;\n}\n\n.icon-8 {\n  width: 8px;\n  width: 0.5rem;\n  width: calc(var(--base-font-size) / 2);\n  height: 8px;\n  height: 0.5rem;\n  height: calc(var(--base-font-size) / 2);\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.icon-24 {\n  width: 24px;\n  width: 1.5rem;\n  width: var(--unit);\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n}\n\n.icon-48 {\n  width: 48px;\n  width: 3rem;\n  width: var(--unit-xl);\n  height: 48px;\n  height: 3rem;\n  height: var(--unit-xl);\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n}\n\n.icon-24-close {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M2 2l20 20m0-20L2 22'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-border:hover .icon-24-close {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M2 2l20 20m0-20L2 22'/%3E %3C/svg%3E\"\n  );\n}\n\n.icon-24-plus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M1.5 11.5h20m-10 10v-20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-alt .icon-24-plus,\n.btn-alt:hover .icon-24-plus,\n.btn-border:hover .icon-24-plus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M1.5 11.5h20m-10 10v-20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-alt .icon-24-minus,\n.btn-alt:hover .icon-24-minus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath d='M1.5 11.5h20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-menubar .icon-24-dot {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Ccircle cx='11.5' cy='11.5' r='6'/%3E %3C/svg%3E\"\n  );\n}\n\n.icon-24-dot.blink {\n  animation: blinker 0.2s ease infinite;\n}\n\n@keyframes blinker {\n  50% {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='white'%3E %3Ccircle cx='11.5' cy='11.5' r='6'/%3E %3C/svg%3E\");\n  }\n}\n\n/* .icon-48-close {\n  background-image: svg-load(\n    './icons/48-close.svg',\n    fill=none,\n    stroke=var(--color-highlight),\n    stroke-linecap=round,\n    stroke-linejoin=round,\n    stroke-miterlimit=10,\n    stroke-width=1px\n  );\n}\n\n.btn-icon:hover .icon-48-close {\n  background-image: svg-load(\n    './icons/48-close.svg',\n    stroke=var(--color-bg),\n    stroke-linecap=round,\n    stroke-linejoin=round,\n    stroke-miterlimit=10,\n    stroke-width=1px\n  );\n} */\n\n/* Tools          ------------------------------- */\n\n/* Debug trick -------------------------------\nhttp://qr.ae/ROqymT */\n\n.debug {\n  background-color: rgba(255, 0, 0, 0.2);\n}\n\n.debug * {\n  background-color: rgba(0, 255, 0, 0.2);\n}\n\n.debug * * {\n  background-color: rgba(0, 0, 255, 0.2);\n}\n\n.debug * * * {\n  background-color: rgba(255, 0, 255, 0.2);\n}\n\n.debug * * * * {\n  background-color: rgba(0, 255, 255, 0.2);\n}\n\n.debug * * * * * {\n  background-color: rgba(255, 255, 0, 0.2);\n}\n\n.debug * * * * * * {\n  background-color: rgba(255, 255, 0, 0.2);\n}\n\n.grid {\n  background-size: 20.5rem 0.75rem;\n  background-size: var(--col-width) calc(var(--unit) / 2);\n  background-position: center top;\n  background-image: linear-gradient(\n    rgba(0, 0, 0, 0.05) 0.01rem,\n    transparent 0.09rem\n  ),\n    linear-gradient(90deg, rgba(255, 0, 0, 0.25) 0, transparent 0.25%),\n    linear-gradient(\n    90deg,\n    transparent 50%,\n    rgba(255, 0, 0, 0.25) 50%,\n    transparent 50.25%\n  );\n}\n\n/* Theme          ------------------------------- */\n\n/*\n    Sticky footer\n-------------------------------\nhttp://mystrd.at/modern-clean-css-sticky-footer/\n*/\n\n:root {\n  --footer-height: 216px;\n  --footer-height: 13.5rem;\n  --footer-height: calc(var(--unit) * 9);\n}\n\nhtml {\n  position: relative;\n  height: 100%;\n}\n\nbody {\n  min-height: 100%;\n}\n\n.page {\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n}\n\n.main {\n  flex: 1;\n}\n\n.footer {\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n  color: white;\n  color: var(--color-bg);\n}\n\n@media (min-width: 63em) {\n  .footer {\n    height: 13.5rem;\n    height: var(--footer-height);\n  }\n}\n\n#loader-app {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n#loader-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\n#app {\n  overflow: hidden;\n}\n\n/*\n    Theme\n-------------------------------\n*/\n\n:root {\n  --header-height: 96px;\n  --header-height: 6rem;\n  --header-height: calc(var(--unit) * 4);\n}\n\n[v-cloak] {\n  display: none;\n}\n\n.menubar-infos {\n  padding-top: 0;\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.btn-menubar,.btn-menubar:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-bg);\n  background-color: var(--color-transparent);\n  font-weight: 700;\n  height: 48px;\n  height: 3rem;\n}\n\n.btn-menubar:active,.active .btn-menubar {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n}\n\n.btn-menubar:hover,.active:hover .btn-menubar {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.btn-menubar:disabled,.btn-menubar:disabled:active,.btn-menubar:disabled:hover,.disabled .btn-menubar,.disabled:active .btn-menubar,.disabled:hover .btn-menubar {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-bg);\n  background-color: var(--color-transparent);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.main {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n}\n\n.content {\n  overflow-y: scroll;\n  flex: 1 1 auto;\n}\n\n.messages {\n  bottom: 0;\n}\n\n.dropdown {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n}\n\n.menubar-infos {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n}\n\n.annotation {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n.handle {\n  width: 32px;\n  background-color: yellow;\n  cursor: ew-resize;\n}\n\n.handle-right {\n  right: -32px;\n  top: 0;\n  bottom: 0;\n}\n\n.handle-left {\n  left: -32px;\n  top: 0;\n  bottom: 0;\n}\n\n.handle-topleft {\n  top: 0;\n  left: 0;\n  height: 32px;\n}\n\n.handle-bottomright {\n  bottom: 0;\n  right: 0;\n  height: 32px;\n}\n\n.timeline-cursor {\n  left: 50%;\n  transform: translateX(-50%);\n  width: 1px;\n  width: 0.0625rem;\n  width: var(--unit-line);\n  background-color: rgb(0, 162, 255);\n  background-color: var(--color-brand);\n  top: 0;\n  bottom: 0;\n}\n\n.timeline-annotations {\n  z-index: 0;\n}\n\n.annotation {\n  top: 0;\n  bottom: 0;\n  text-align: center;\n}\n\n.annotation.active {\n  z-index: 1;\n  background-color: rgba(255, 0, 0, 1);\n}\n\n.popup-header {\n  height: 96px;\n  height: 6rem;\n  height: calc(4 * var(--unit));\n  border-bottom-width: 3px;\n  border-bottom-width: 0.1875rem;\n  border-bottom-width: var(--unit-xxs);\n  border-bottom-style: solid;\n  border-bottom-color: #f8f7f3;\n  border-bottom-color: var(--color-alt);\n  margin-bottom: -3px;\n  margin-bottom: -0.1875rem;\n  margin-bottom: calc(-1 * var(--unit-xxs));\n}\n\n.popup-content {\n  height: calc(100% - 6rem);\n  height: calc(100% - 4 * var(--unit));\n  overflow-y: auto;\n}\n\n@media (min-width: 42.5em) {\n  --header-height: 3rem;\n  --header-height: calc(var(--unit) * 2);\n\n  .menubar-infos {\n    padding-top: 1.125rem;\n    padding-top: var(--unit-m);\n    margin-top: 0;\n  }\n\n  .popup {\n    width: 39.5rem;\n    width: calc(2 * var(--col-width) - var(--gutter));\n    transform: translate(-50%, 0);\n    top: 6rem;\n    top: var(--header-height);\n    left: 50%;\n    right: auto;\n    bottom: auto;\n    z-index: 2;\n    border-radius: 0.375rem;\n    border-radius: var(--unit-xs);\n  }\n\n  .messages {\n    width: 39.5rem;\n    width: calc(2 * var(--col-width) - var(--gutter));\n  }\n\n  .dropdown {\n    position: absolute;\n    right: 1.5rem;\n    right: var(--gutter);\n    top: 0;\n  }\n}\n\n.transition-bottom-enter-active,\n.transition-bottom-leave-active,\n.transition-fade-enter-active,\n.transition-fade-leave-active,\n.transition-top-enter-active,\n.transition-top-leave-active,\n.transition-top-enter-active .pophover,\n.transition-top-leave-active .pophover {\n  transition: all 0.5s;\n}\n\n.transition-bottom-enter,\n.transition-bottom-leave-to {\n  opacity: 0;\n  margin-bottom: -60px;\n  margin-bottom: -3.75rem;\n  margin-bottom: calc(var(--unit-xxl) * -1);\n}\n\n.transition-fade-enter,\n.transition-fade-leave-to {\n  opacity: 0;\n}\n\n.transition-top-enter,\n.transition-top-leave-to {\n  opacity: 0;\n}\n\n.transition-top-enter .pophover,\n.transition-top-leave-to .pophover {\n  margin-top: -60px;\n  margin-top: -3.75rem;\n  margin-top: calc(var(--unit-xxl) * -1);\n}\n\n/* from https://github.com/PrismJS/prism/blob/gh-pages/themes/prism.css */\n\n:not(pre) > code[class*='language-'] {\n  padding: 0.1em;\n  white-space: normal;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.token.punctuation {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.namespace {\n  opacity: 0.7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n  color: rgba(212, 67, 74, 1);\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n  color: rgba(57, 119, 191, 1);\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n  color: #a67f59;\n  background: hsla(0, 0%, 100%, 0.5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n  color: rgba(105, 134, 46, 1);\n}\n\n.token.function {\n  color: #dd4a68;\n}\n\n.token.regex,\n.token.important,\n.token.variable {\n  color: #e90;\n}\n\n.token.important,\n.token.bold {\n  font-weight: bold;\n}\n\n.token.italic {\n  font-style: italic;\n}\n\n.token.entity {\n  cursor: help;\n}\n\n.spinner {\n  margin: 25% auto;\n  width: 160px;\n  width: 10rem;\n  text-align: center;\n}\n\n.spinner > div {\n  width: 24px;\n  width: 1.5rem;\n  width: var(--unit);\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n  border-radius: 100%;\n  display: inline-block;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n\n.spinner .bounce1 {\n  animation-delay: -0.32s;\n}\n\n.spinner .bounce2 {\n  animation-delay: -0.16s;\n}\n\n@keyframes sk-bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n\n  50% {\n    transform: scale(1);\n  }\n}\n\n.mediacontroller {\n  transition: all 0.3s;\n}\n\n.mediacontroller-button {\n  height: 36px;\n  height: 2.25rem;\n  height: var(--unit-l);\n  width: 48px;\n  width: 3rem;\n  width: var(--unit-xl);\n  padding: 0;\n  line-height: 1;\n  text-align: center;\n  float: left;\n}\n\n.mediacontroller-counter {\n  height: 36px;\n  height: 2.25rem;\n  height: var(--unit-l);\n  padding: 6px 12px;\n  padding: 0.375rem 0.75rem;\n  padding: var(--unit-xs) var(--unit-s);\n  float: left;\n}\n\n.mediacontroller-progress {\n  position: relative;\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\n.mediacontroller-progress.loaded {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  cursor: ew-resize;\n}\n\n.mediacontroller-progress-bar {\n  background: #f50;\n  background: var(--color-highlight);\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  top: 0;\n\n  /*transition: width 1s;*/\n}\n");var s=function(t,n){console.log("%c| "+t+": %c"+n,"padding:8px 0; color:#666; line-height:24px;","padding:8px 32px 8px 0; color:#f40; line-height:24px;")};function d(t){return{name:t.username,id:t._id,description:t.description||{},role:t.role}}function c(t){return{name:t.name,id:t._id,description:t.description||{},userIds:t.users}}function u(t){return{name:t.name,id:t._id,url:t.url,corpuId:t.id_corpus,description:t.description||{}}}function i(){return(new Date).valueOf()}var l={lists:{},actives:{},properties:{timeTotal:0,timeCurrent:0,isPlaying:!1,isLoaded:!1,seek:{seeking:!1}}},e={viewport:{namespaced:!0,state:{name:"",width:0,height:0,svg:{height:0,width:0,scale:1},animate:!1},mutations:{set:function(t,n){var e=n.animate,i=n.name,r=n.width,o=n.height;t.name=i,t.animate=e,t.width=r,t.height=o,s("Viewport",i)}},actions:{set:function(t){t.state;var n,e,i=t.commit,r=window.innerWidth,o=window.innerHeight;window.matchMedia("(min-width: 83.5em)").matches?(n="large",e=!0):window.matchMedia("(min-width: 63em)").matches?(n="desktop",e=!0):window.matchMedia("(min-width: 42.5em)").matches?e=!(n="tablet"):window.matchMedia("(min-width: 22em)").matches?e=!(n="mobile"):(s("Viewport","Default"),e=!(n="default")),i("set",{name:n,animate:e,width:r,height:o})}}},sync:{namespaced:!0,state:{list:[]},actions:{all:function(t){var n=t.dispatch;n("set",{},{root:!0}).then(function(t){n("messages/success","Synced with server",{root:!0})})},start:function(t,n){t.state.list.push(n)},stop:function(t,n){var e=t.state;e.list=e.list.filter(function(t){return t!==n})}},getters:{active:function(t){return t.list.length}}},popup:{namespaced:!0,state:{visible:!1,config:{},element:{}},mutations:{open:function(t,n){var e=n.config,i=n.element;t.visible=!0,t.config=e,t.element=JSON.parse(JSON.stringify(i))},close:function(t){t.visible=!1,t.config={}},fieldUpdate:function(t,n){var e=n.name,i=n.value;a.set(t.element,e,i)}}},dropdown:{namespaced:!0,state:{visible:!1,config:{}},mutations:{close:function(t){t.visible=!1,t.config={}},open:function(t,n){t.visible=!0,t.config=n}}},messages:{namespaced:!0,state:{list:[]},actions:{success:function(t,n){var e=t.commit;e("add",{content:n,type:"success",id:i()}),setTimeout(function(t){e("remove")},2e3)},error:function(t,n){var e=t.commit;e("add",{content:n,type:"error",id:i()}),setTimeout(function(t){e("remove")},2e3)}},mutations:{remove:function(t){t.list.shift()},add:function(t,n){t.list.push(n)}}},user:{namespaced:!0,state:{id:"",name:"",role:"",description:{},groupIds:[],isLogged:!1,isAdmin:!1,isRoot:!1},actions:{login:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState;return i("sync/start","userLogin",{root:!0}),r.api.login(n.user.name,n.user.password).then(function(t){return i("sync/stop","userLogin",{root:!0}),e("popup/close",null,{root:!0}),i("set"),t.message}).catch(function(t){throw i("sync/stop","userLogin",{root:!0}),i("messages/error",t.message,{root:!0}),i("reset",null,{root:!0}),t})},set:function(t){var e=t.commit,i=t.dispatch,n=t.rootState;return i("sync/start","userSet",{root:!0}),n.api.me().then(function(t){var n={id:t.data._id,name:t.data.username,role:t.data.role,description:t.data.description||{},groupIds:t.data.groups||[]};return i("sync/stop","userSet",{root:!0}),e("set",n),i("set",null,{root:!0}),n}).catch(function(t){throw i("sync/stop","userSet",{root:!0}),i("messages/error",t.message,{root:!0}),i("reset",null,{root:!0}),t})},logout:function(t){var n=t.commit,e=t.dispatch,i=t.rootState;return e("sync/start","userLogout",{root:!0}),i.api.logout().then(function(t){return e("sync/stop","userLogout",{root:!0}),e("reset",null,{root:!0}),n("popup/close",null,{root:!0}),n("dropdown/close",null,{root:!0}),t.message}).catch(function(t){throw e("sync/stop","userLogout",{root:!0}),e("messages/error",t.message,{root:!0}),e("reset",null,{root:!0}),t})}},getters:{isAdmin:function(o){return function(t){var n=t.users;void 0===n&&(n={});var r=t.groups;void 0===r&&(r={});var e=3===n[o.id],i=Object.keys(r).reduce(function(t,e){var n=3===r[e],i=o.groupIds.reduce(function(t,n){return t||n===e},!1);return t||n&&i},!1);return e||i}},isCurrentUser:function(n){return function(t){return n.id===t}},isInGroup:function(n){return function(t){return-1!==n.groupIds.indexOf(t)}},permission:function(s){return function(t){var n=t.users;void 0===n&&(n={});var e=t.groups;void 0===e&&(e={});var i=Object.keys(n).find(function(t){return t===s.id})&&n[s.id]||0,r=Object.keys(e).reduce(function(t,n){return Math.max(t,-1!==s.groupIds.indexOf(n)&&e[n])},0),o=s.isRoot?3:0;return Math.max(i,r,o)}}},mutations:{set:function(t,n){t.isLogged=!0,t.isAdmin="admin"===n.role,t.isRoot="root"===n.name,t.id=n.id,t.name=n.name,t.role=n.role,t.description=n.description,t.groupIds=n.groupIds},reset:function(t){t.isLogged=!1,t.isAdmin=!1,t.isRoot=!1,t.id="",t.name="",t.role="",t.description={},t.groupIds=[]},groupAdd:function(t,n){t.groupIds.push(n)},groupRemove:function(t,n){t.groupIds=t.groupIds.filter(function(t){return t!==n})}}},users:{namespaced:!0,state:{list:[]},actions:{add:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.element;return i("sync/start","usersAdd",{root:!0}),r.api.createUser(o.name,o.password,o.description,o.role).then(function(t){i("sync/stop","usersAdd",{root:!0});var n=d(t.data);return e("add",n),e("corpus/userAdd",n.id,{root:!0}),e("layers/userAdd",n.id,{root:!0}),i("messages/success","User added",{root:!0}),n}).catch(function(t){throw i("sync/stop","usersAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.element;return i("sync/start","usersUpdate",{root:!0}),r.api.updateUser(o.id,{password:o.password,role:o.role,description:o.description}).then(function(t){i("sync/stop","usersUpdate",{root:!0});var n=d(t.data);return e("update",n),n.name===r.user.name&&e("user/set",n,{root:!0}),i("messages/success","User updated",{root:!0}),n}).catch(function(t){throw i("sync/stop","usersUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.id;return i("sync/start","usersRemove",{root:!0}),r.api.deleteUser(o).then(function(t){return i("sync/stop","usersRemove",{root:!0}),e("remove",o),e("corpus/userRemove",o,{root:!0}),e("layers/userRemove",o,{root:!0}),i("messages/success","User removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","usersRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},list:function(t){var e=t.commit,i=t.dispatch,n=t.rootState;return i("sync/start","usersList",{root:!0}),n.api.getUsers().then(function(t){i("sync/stop","usersList",{root:!0});var n=t.data.map(function(t){return d(t)});return e("list",n),n}).catch(function(t){throw i("sync/stop","usersList",{root:!0}),i("messages/error",t.message,{root:!0}),t})}},getters:{permissions:function(t){return function(i){return t.list.reduce(function(t,n){var e;return Object.assign(t,((e={})[n.id]=i&&i[n.id]?i[n.id]:0,e))},{})}}},mutations:{reset:function(t){a.set(t,"list",[])},add:function(t,n){t.list.push(n)},update:function(t,n){var e=t.list.findIndex(function(t){return t.id===n.id});a.set(t.list,e,n)},remove:function(t,n){var e=t.list.findIndex(function(t){return t.id===n});a.delete(t.list,e)},list:function(t,n){a.set(t,"list",n)}}},groups:{namespaced:!0,state:{list:[]},actions:{add:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.element;return i("sync/start","groupsAdd",{root:!0}),r.api.createGroup(o.name,o.description).then(function(t){i("sync/stop","groupsAdd",{root:!0});var n=c(t.data);return e("add",n),e("corpus/groupAdd",n.id,{root:!0}),e("layers/groupAdd",n.id,{root:!0}),i("messages/success","Group added",{root:!0}),n}).catch(function(t){throw i("sync/stop","groupsAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.id;return i("sync/start","groupsRemove",{root:!0}),r.api.deleteGroup(o).then(function(t){return i("sync/stop","groupsRemove",{root:!0}),e("remove",o),e("corpus/groupRemove",o,{root:!0}),e("layers/groupRemove",o,{root:!0}),i("messages/success","Group removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","groupsRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.element;return i("sync/start","groupsUpdate",{root:!0}),r.api.updateGroup(o.id,{description:o.description}).then(function(t){i("sync/stop","groupsUpdate",{root:!0});var n=c(t.data);return e("update",n),i("messages/success","Group updated",{root:!0}),n}).catch(function(t){throw i("sync/stop","groupsUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},list:function(t){var e=t.commit,i=t.dispatch,n=t.rootState;return i("sync/start","groupsList",{root:!0}),n.api.getGroups().then(function(t){i("sync/stop","groupsList",{root:!0});var n=t.data.map(function(t){return c(t)});return e("list",n),n}).catch(function(t){throw i("sync/stop","groupsList",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userAdd:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.userId,s=n.group;return i("sync/start","groupsUserAdd",{root:!0}),r.api.addUserToGroup(o,s.id).then(function(t){i("sync/stop","groupsUserAdd",{root:!0});var n=c(t.data);return e("update",n),i("messages/success","User added to group",{root:!0}),o===r.user.id&&(e("user/groupAdd",n.id,{root:!0}),i("corpus/listAll",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","groupsUserAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userRemove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.userId,s=n.group;return i("sync/start","groupsUserRemove",{root:!0}),r.api.removeUserFromGroup(o,s.id).then(function(t){i("sync/stop","groupsUserRemove",{root:!0});var n=c(t.data);return e("update",n),i("messages/success","User removed from group",{root:!0}),o===r.user.id&&(e("user/groupRemove",n.id,{root:!0}),i("corpus/listAll",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","groupsUserRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})}},getters:{permissions:function(t){return function(i){return t.list.reduce(function(t,n){var e;return Object.assign(t,((e={})[n.id]=i&&i[n.id]?i[n.id]:0,e))},{})}}},mutations:{reset:function(t){a.set(t,"list",[])},add:function(t,n){t.list.push(n)},update:function(t,n){var e=t.list.findIndex(function(t){return t.id===n.id});a.set(t.list,e,n)},remove:function(t,n){var e=t.list.findIndex(function(t){return t.id===n});a.delete(t.list,e)},list:function(t,n){a.set(t,"list",n)}}},corpus:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=n.element;return i("sync/start","corpusAdd",{root:!0}),r.api.createCorpus(s.name,s.description,{}).then(function(t){i("sync/stop","corpusAdd",{root:!0});var n={name:t.data.name,id:t.data._id,permission:3,permissions:{users:o["users/permissions"]({}),groups:o["groups/permissions"]({})},description:t.data.description||{}};return n.permissions.users[r.user.id]=3,e("add",{corpu:n}),i("messages/success","Corpus added",{root:!0}),n}).catch(function(t){throw i("sync/stop","corpusAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.id;return i("sync/start","corpusRemove",{root:!0}),r.api.deleteCorpus(o).then(function(t){return i("sync/stop","corpusRemove",{root:!0}),e("remove",{id:o}),i("messages/success","Corpus removed",{root:!0}),i("setAll",{id:o}),o}).catch(function(t){throw i("sync/stop","corpusRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.element;return i("sync/start","corpusUpdate",{root:!0}),r.api.updateCorpus(o.id,{name:o.name,description:o.description}).then(function(t){i("sync/stop","corpusUpdate",{root:!0});var n=Object.assign({},o);return n.name=t.data.name,n.description=t.data.description||{},e("update",{corpu:n}),i("messages/success","Corpus updated",{root:!0}),n}).catch(function(t){throw i("sync/stop","corpusUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionSet:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=n.id,a=n.groupId,d=n.permission;return i("sync/start","corpusGroupPermissionSet",{root:!0}),o.api.setCorpusPermissionsForGroup(s,a,d).then(function(t){var n=t.data;return i("sync/stop","corpusGroupPermissionSet",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:n.groups&&n.groups[a]||0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),r["user/isInGroup"](a)&&!r["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","corpusGroupPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionRemove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=n.id,a=n.groupId;return i("sync/start","corpusGroupPermissionRemove",{root:!0}),o.api.removeCorpusPermissionsForGroup(s,a).then(function(t){var n=t.data;return i("sync/stop","corpusGroupPermissionRemove",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),r["user/isInGroup"](a)&&!r["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","corpusGroupPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionSet:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=n.id,a=n.userId,d=n.permission;return i("sync/start","corpusUserPermissionSet",{root:!0}),o.api.setCorpusPermissionsForUser(s,a,d).then(function(t){var n=t.data;return i("sync/stop","corpusUserPermissionSet",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:n.users&&n.users[a]||0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),r["user/isCurrentUser"](a)&&!r["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","corpusUserPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionRemove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=n.id,a=n.userId;return i("sync/start","corpusUserPermissionRemove",{root:!0}),o.api.removeCorpusPermissionsForUser(s,a).then(function(t){var n=t.data;return i("sync/stop","corpusUserPermissionRemove",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),r["user/isCurrentUser"](a)&&!r["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","corpusUserPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},listAll:function(t){var n=t.state,e=t.dispatch;Object.keys(n.lists).forEach(function(t){e("list",t)})},list:function(t,e){var i=t.commit,r=t.dispatch,o=t.rootGetters,n=t.rootState;return r("sync/start","corpusList-"+e,{root:!0}),n.api.getCorpora().then(function(t){r("sync/stop","corpusList-"+e,{root:!0});var n=t.data.map(function(t){return{name:t.name,id:t._id,description:t.description||{},permission:o["user/permission"](t.permissions||{}),permissions:{users:o["users/permissions"](t.permissions&&t.permissions.users||{}),groups:o["groups/permissions"](t.permissions&&t.permissions.groups||{})}}});return i("list",{corpus:n,uid:e}),r("set",{uid:e}),n}).catch(function(t){throw r("sync/stop","corpusList-"+e,{root:!0}),r("messages/error",t.message,{root:!0}),t})},setAll:function(t,n){var e=t.state,i=t.dispatch,r=n.id;Object.keys(e.actives).forEach(function(t){e.actives[t]===r&&i("set",{uid:t})})},set:function(t,n){var e=t.state,i=t.getters,r=t.dispatch,o=t.commit,s=(t.rootState,n.id),a=n.uid;o("set",{id:s||i.id(a),uid:a}),e.actives[a]&&(r("medias/list",{corpuId:e.actives[a],corpuUid:a},{root:!0}),r("layers/list",{corpuId:e.actives[a],corpuUid:a},{root:!0}))}},getters:{id:function(e){return function(n){return e.actives[n]&&e.lists[n].find(function(t){return t.id===e.actives[n]}).id||e.lists[n][0]&&e.lists[n][0].id||null}},permission:function(e){return function(n){var t=e.lists[n]&&e.lists[n].find(function(t){return t.id===e.actives[n]});return t?t.permission:0}}},mutations:{register:function(t,n){a.set(t.lists,n,[]),a.set(t.actives,n,null)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{})},add:function(e,t){var i=t.corpu;Object.keys(e.lists).forEach(function(t){var n=e.lists[t].length;a.set(e.lists[t],n,i)})},update:function(e,t){var i=t.corpu;Object.keys(e.lists).forEach(function(t){var n=e.lists[t].findIndex(function(t){return t.id===i.id});-1!==n&&a.set(e.lists[t],n,i)})},remove:function(e,t){var i=t.id;Object.keys(e.lists).forEach(function(t){var n=e.lists[t].findIndex(function(t){return t.id===i});-1!==n&&a.delete(e.lists[t],n)})},groupAdd:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.set(t.permissions.groups,e,0)})})},groupRemove:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.delete(t.permissions.groups,e)})})},userAdd:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.set(t.permissions.users,e,0)})})},userRemove:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.delete(t.permissions.users,e)})})},permissionsUpdate:function(e,t){var i=t.id,r=t.typeId,o=t.permission,s=t.type;Object.keys(e.lists).forEach(function(t){var n=e.lists[t].findIndex(function(t){return t.id===i});-1!==n&&a.set(e.lists[t][n].permissions[s],r,o)})},list:function(t,n){var e=n.corpus,i=n.uid;a.set(t.lists,i,e)},set:function(t,n){var e=n.id,i=n.uid;a.set(t.actives,i,e)}}},medias:{namespaced:!0,state:l,actions:{add:function(t,n){var i=t.state,r=t.commit,o=t.dispatch,e=t.rootState,s=t.rootGetters,a=n.element;return o("sync/start","mediasAdd",{root:!0}),e.api.createMedium(a.corpuId,a.name,a.url,a.description).then(function(t){o("sync/stop","mediasAdd",{root:!0});var e=u(t.data);return Object.keys(i.lists).forEach(function(n){s["corpus/id"](n)===a.corpuId&&(r("add",{media:e,corpuUid:n}),Object.keys(i.actives).forEach(function(t){i.actives[t].corpuUid===n&&o("set",{id:e.id,corpuUid:n,uid:t})}))}),o("messages/success","Medium added",{root:!0}),e}).catch(function(t){throw o("sync/stop","mediasAdd",{root:!0}),o("messages/error",t.message,{root:!0}),t})},remove:function(t,n){var e=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=n.id;return r("sync/start","mediasRemove",{root:!0}),o.api.deleteMedium(s).then(function(t){return r("sync/stop","mediasRemove",{root:!0}),Object.keys(e.lists).forEach(function(t){var n=e.lists[t].findIndex(function(t){return t.id===s});-1!==n&&i("remove",{listIndex:n,corpuUid:t})}),r("unsetAll",{id:s}),r("messages/success","Medium removed",{root:!0}),s}).catch(function(t){throw r("sync/stop","mediasRemove",{root:!0}),r("messages/error",t.message,{root:!0}),t})},update:function(t,n){var e=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,a=n.element;return r("sync/start","mediasUpdate",{root:!0}),o.api.updateMedium(a.id,{name:a.name,description:a.description,url:a.url}).then(function(t){r("sync/stop","mediasUpdate",{root:!0});var n=Object.assign({},a);return n.name=t.data.name,n.url=t.data.url,n.description=t.data.description||{},Object.keys(e.lists).forEach(function(t){s["corpus/id"](t)===a.corpuId&&i("update",{media:n,corpuUid:t})}),r("messages/success","Medium updated",{root:!0}),n}).catch(function(t){throw r("sync/stop","mediasUpdate",{root:!0}),r("messages/error",t.message,{root:!0}),t})},list:function(t,n){var e=t.dispatch,i=t.commit,r=t.rootState,o=n.corpuId,s=n.corpuUid;return e("sync/start","mediasList-"+s,{root:!0}),r.api.getMedia({filter:{id_corpus:o}}).then(function(t){e("sync/stop","mediasList-"+s,{root:!0});var n=t.data.map(function(t){return u(t)});return i("list",{medias:n,corpuUid:s}),Object.keys(l.actives).forEach(function(t){l.actives[t].corpuUid===s&&e("set",{corpuUid:s,uid:t})}),n}).catch(function(t){throw e("sync/stop","mediasList-"+s,{root:!0}),e("messages/error",t.message,{root:!0}),t})},unsetAll:function(t,n){var e=t.state,i=t.dispatch,r=n.id;Object.keys(e.actives).forEach(function(t){e.actives[t].id===r&&i("set",{corpuUid:e.actives[t].corpuUid,uid:t})})},set:function(t,n){var e=t.state,i=t.getters,r=t.dispatch,o=t.commit,s=n.id,a=n.corpuUid,d=n.uid;e.properties[d]&&e.properties[d].isPlaying&&r("pause",{uid:d}),o("set",{id:s||i.id({corpuUid:a,uid:d}),uid:d}),r("annotations/mediaSet",{mediaId:e.actives[d].id,mediaUid:d},{root:!0})},play:function(t,n){var e=t.state,i=t.commit,r=n.uid,o=Date.now(),s=e.properties[r].timeCurrent;e.properties[r].interval=setInterval(function(){var t=Date.now()-o;a.set(e.properties[r],"timeCurrent",s+t)},0),i("play",{uid:r})},pause:function(t,n){var e=t.state,i=t.commit,r=n.uid;clearInterval(e.properties[r].interval),i("pause",{uid:r})},buffering:function(t,n){var e=t.state,i=(t.commit,n.uid);clearInterval(e.properties[i].interval)},stop:function(t,n){var e=t.state,i=t.commit,r=t.dispatch,o=n.uid;clearInterval(e.properties[o].interval),i("pause",{uid:o}),r("seek",{ratio:0,serverRequest:!0,uid:o})},seek:function(t,n){var e=t.state,i=t.commit,r=(t.dispatch,n.ratio),o=n.serverRequest,s=n.uid;e.properties[s].isPlaying&&clearInterval(e.properties[s].interval),a.set(e.properties[s],"timeCurrent",r*e.properties[s].timeTotal),i("seek",{options:{seeking:!0,serverRequest:o},uid:s})}},getters:{id:function(i){return function(t){var n=t.corpuUid,e=t.uid;return i.actives[e]&&i.lists[n].find(function(t){return t.id===i.actives[e].id})&&i.actives[e].id||i.lists[n][0]&&i.lists[n][0].id||null}},properties:function(e,i){return function(t,n){return i.active(t,n)?e.properties[t]:{}}},filter:function(i){return function(t,n){var e=i.actives[t];return e&&i.lists[e.corpuUid]?n(i.lists[e.corpuUid].find(function(t){return t.id===e.id})):null}},active:function(e){return function(t){var n=e.actives[t];return n&&e.lists[n.corpuUid]?e.lists[n.corpuUid].find(function(t){return t.id===n.id}):null}}},mutations:{register:function(t,n){var e=n.uid,i=n.corpuUid;a.set(t.actives,e,{corpuUid:i,description:{}}),a.set(t.properties,e,null)},descriptionRegister:function(t,n){var e=n.uid,i=n.description;a.set(t.actives[e],"description",i)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{}),a.set(t,"properties",{})},add:function(t,n){var e=n.media,i=n.corpuUid,r=t.lists[i].length;a.set(t.lists[i],r,e)},update:function(t,n){var e=n.media,i=n.corpuUid,r=t.lists[i].findIndex(function(t){return t.id===e.id});a.set(t.lists[i],r,e)},remove:function(t,n){var e=n.listIndex,i=n.corpuUid;a.delete(t.lists[i],e)},list:function(t,n){var e=n.medias,i=n.corpuUid;a.set(t.lists,i,e)},set:function(t,n){var e=n.id,i=n.uid;a.set(t.actives[i],"id",e),a.set(t.properties,i,{timeTotal:0,timeCurrent:0,isPlaying:!1,isLoaded:!1,seek:{seeking:!1}})},loaded:function(t,n){var e=n.isLoaded,i=n.uid;a.set(t.properties[i],"isLoaded",e)},play:function(t,n){var e=n.uid;a.set(t.properties[e],"isPlaying",!0)},pause:function(t,n){var e=n.uid;a.set(t.properties[e],"isPlaying",!1)},timeTotal:function(t,n){var e=n.time,i=n.uid;a.set(t.properties[i],"timeTotal",e)},seek:function(t,n){var e=n.options,i=n.uid;a.set(t.properties[i],"seek",e)}}},layers:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,n){var i=t.state,r=t.commit,o=t.dispatch,s=t.rootState,a=t.rootGetters,d=n.element;return o("sync/start","layersAdd",{root:!0}),s.api.createLayer(d.corpuId,d.name,d.description,d.fragmentType,d.metadataType,d.annotations).then(function(t){o("sync/stop","layersAdd",{root:!0});var e={name:t.data.name,id:t.data._id,permission:3,permissions:{users:a["users/permissions"]({}),groups:a["groups/permissions"]({})},description:t.data.description||{},fragmentType:t.data.fragment_type||{},metadataType:t.data.data_type||{},annotations:t.data.annotations};return e.permissions.users[s.user.id]=3,Object.keys(i.lists).forEach(function(n){a["corpus/id"](n)===d.corpuId&&r("add",{layer:e,corpuUid:n}),Object.keys(i.actives).forEach(function(t){i.actives[t].corpuUid===n&&o("set",{uid:t,id:e.id})})}),o("messages/success","Layer added",{root:!0}),e}).catch(function(t){throw o("sync/stop","layersAdd",{root:!0}),o("messages/error",t.message,{root:!0}),t})},remove:function(t,n){var e=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=n.id;return r("sync/start","layersRemove",{root:!0}),o.api.deleteLayer(s).then(function(t){return r("sync/stop","layersRemove",{root:!0}),Object.keys(e.lists).forEach(function(t){var n=e.lists[t].findIndex(function(t){return t.id===s});-1!==n&&i("remove",{listIndex:n,corpuUid:t})}),Object.keys(e.actives).forEach(function(t){-1!==e.actives[t].ids.findIndex(function(t){return t.id===s})&&r("unset",{id:s,uid:t})}),r("messages/success","Layer removed",{root:!0}),s}).catch(function(t){throw r("sync/stop","layersRemove",{root:!0}),r("messages/error",t.message,{root:!0}),t})},update:function(t,n){var e=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,a=n.element;return r("sync/start","layersUpdate",{root:!0}),o.api.updateLayer(a.id,{name:a.name,description:a.description,fragment_type:a.fragmentType,data_type:a.metadataType}).then(function(t){r("sync/stop","layersUpdate",{root:!0});var n=Object.assign({},a);return n.description=t.data.description||{},n.fragmentType=t.data.fragment_type||{},n.metadataType=t.data.data_type||{},Object.keys(e.lists).forEach(function(t){s["corpus/id"](t)===a.corpuId&&i("update",{layer:n,corpuUid:t})}),r("messages/success","Layer updated",{root:!0}),n}).catch(function(t){throw r("sync/stop","layersUpdate",{root:!0}),r("messages/error",t.message,{root:!0}),t})},groupPermissionSet:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=n.id,a=n.groupId,d=n.permission;return i("sync/start","layersGroupPermissionSet",{root:!0}),r.api.setLayerPermissionsForGroup(s,a,d).then(function(t){var n=t.data;return i("sync/stop","layersGroupPermissionSet",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:n.groups&&n.groups[a]||0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),o["user/isInGroup"](a)&&!o["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","layersGroupPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionRemove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=n.id,a=n.groupId;return i("sync/start","layersGroupPermissionRemove",{root:!0}),r.api.removeLayerPermissionsForGroup(s,a).then(function(t){var n=t.data;return i("sync/stop","layersGroupPermissionRemove",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),o["user/isInGroup"](a)&&!o["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","layersGroupPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionSet:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=n.id,a=n.userId,d=n.permission;return i("sync/start","layersUserPermissionSet",{root:!0}),r.api.setLayerPermissionsForUser(s,a,d).then(function(t){var n=t.data;return i("sync/stop","layersUserPermissionSet",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:n.users&&n.users[a]||0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),o["user/isCurrentUser"](a)&&!o["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","layersUserPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionRemove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=n.id,a=n.userId;return i("sync/start","layersUserPermissionRemove",{root:!0}),r.api.removeLayerPermissionsForUser(s,a).then(function(t){var n=t.data;return i("sync/stop","layersUserPermissionRemove",{root:!0}),e("permissionsUpdate",{id:s,typeId:a,permission:0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),o["user/isCurrentUser"](a)&&!o["user/isAdmin"](n)&&(i("listAll"),e("popup/close",null,{root:!0})),n}).catch(function(t){throw i("sync/stop","layersUserPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},listAll:function(t){var n=t.state,e=t.dispatch,i=t.rootState;Object.keys(n.lists).forEach(function(t){e("list",{corpuId:i.corpus.actives[t],corpuUid:t})})},list:function(t,n){var e=t.dispatch,i=t.commit,r=t.rootState,o=t.rootGetters,s=n.corpuId,a=n.corpuUid;return e("sync/start","layersList-"+a,{root:!0}),r.api.getLayers({filter:{id_corpus:s}}).then(function(t){e("sync/stop","layersList-"+a,{root:!0});var n=t.data.map(function(t){return{name:t.name,id:t._id,description:t.description||{},permission:o["user/permission"](t.permissions),permissions:{users:o["users/permissions"](t.permissions&&t.permissions.users||{}),groups:o["groups/permissions"](t.permissions&&t.permissions.groups||{})},fragmentType:t.fragment_type||{},metadataType:t.data_type||{},annotations:t.annotations||[]}});return i("list",{layers:n,corpuUid:a}),n}).catch(function(t){throw e("sync/stop","layersList-"+a,{root:!0}),e("messages/error",t.message,{root:!0}),t})},setAll:function(t,n){var e=t.state,i=t.dispatch,r=(t.commit,n.corpuUid);Object.keys(e.actives).forEach(function(n){e.lists[r].forEach(function(t){i("set",{id:t.id,corpuUid:r,uid:n})})})},set:function(t,n){var e=t.dispatch,i=t.commit,r=n.id,o=n.uid;i("set",{id:r,uid:o}),e("annotations/layerSet",{layersUid:o,layerId:r},{root:!0})},unset:function(t,n){var e=t.dispatch,i=t.commit,r=n.id,o=n.uid;i("unset",{id:r,uid:o}),e("annotations/layerUnset",{layersUid:o,layerId:r},{root:!0})}},getters:{activeIds:function(n){return function(t){return n.actives[t]&&n.actives[t].ids||[]}},actives:function(i){return function(t){var n=i.actives[t],e=i.lists[n.corpuUid];return n&&e?e.filter(function(t){return-1!==n.ids.indexOf(t.id)}):{}}},details:function(r){return function(t,n){var e=r.actives[t],i=r.lists[e.corpuUid];return e&&i?i.find(function(t){return t.id===n}):{}}}},mutations:{register:function(t,n){var e=n.uid,i=n.corpuUid;a.set(t.actives,e,{corpuUid:i,ids:[],fragmentType:{},metadataType:{}})},typesRegister:function(t,n){var e=n.uid,i=n.fragmentType,r=n.metadataType;i&&Object.assign(t.actives[e].fragmentType,i),r&&Object.assign(t.actives[e].metadataType,r)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{})},add:function(t,n){var e=n.layer,i=n.corpuUid,r=t.lists[i].length;a.set(t.lists[i],r,e)},remove:function(t,n){var e=n.listIndex,i=n.corpuUid;a.delete(t.lists[i],e)},update:function(t,n){var e=n.layer,i=n.corpuUid,r=t.lists[i].findIndex(function(t){return t.id===e.id});a.set(t.lists[i],r,e)},groupAdd:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.set(t.permissions.groups,e,0)})})},groupRemove:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.delete(t.permissions.groups,e)})})},userAdd:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.set(t.permissions.users,e,0)})})},userRemove:function(n,e){Object.keys(n.lists).forEach(function(t){n.lists[t].forEach(function(t){a.delete(t.permissions.users,e)})})},permissionsUpdate:function(e,t){var i=t.id,r=t.typeId,o=t.permission,s=t.type;Object.keys(e.lists).forEach(function(t){var n=e.lists[t].findIndex(function(t){return t.id===i});-1!==n&&a.set(e.lists[t][n].permissions[s],r,o)})},list:function(t,n){var e=n.layers,i=n.corpuUid;a.set(t.lists,i,e)},set:function(t,n){var e=n.id,i=n.uid;a.set(t.actives[i].ids,t.actives[i].ids.length,e)},unset:function(t,n){var e=n.id,i=n.uid,r=t.actives[i].ids.findIndex(function(t){return t===e});-1!==r&&a.delete(t.actives[i].ids,r)}}},annotations:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.element;return i("sync/start","annotationsAdd",{root:!0}),r.api.createAnnotation(o.layerId,o.mediaId||null,o.fragment,o.metadata).then(function(t){i("sync/stop","annotationsAdd",{root:!0});var n={id:t.data._id,fragment:t.data.fragment||{},metadata:t.data.data||{},layerId:t.data.id_layer,mediaId:t.data.id_medium||null};return e("add",{annotation:n,layerId:o.layerId}),i("messages/success","Annotation added",{root:!0}),n}).catch(function(t){throw i("sync/stop","annotationsAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.id;return i("sync/start","annotationsRemove",{root:!0}),r.api.deleteAnnotation(o).then(function(t){return i("sync/stop","annotationsRemove",{root:!0}),e("remove",{id:o}),i("messages/success","Annotation removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","annotationsRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,n){var e=t.commit,i=t.dispatch,r=t.rootState,o=n.element;return i("sync/start","annotationsUpdate",{root:!0}),r.api.updateAnnotation(o.id,{fragment:o.fragment,data:o.metadata}).then(function(t){i("sync/stop","annotationsUpdate",{root:!0});var n=Object.assign({},o);return n.fragment=t.data.fragment||{},n.metadata=t.data.data||{},e("update",{annotation:n,layerId:o.layerId}),i("messages/success","Annotation updated",{root:!0}),n}).catch(function(t){throw i("sync/stop","annotationsUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},layerSet:function(t,n){var e=t.state,i=t.dispatch,r=t.rootState,o=n.layersUid,s=n.layerId;Object.keys(e.lists).forEach(function(t){var n=e.lists[t].mediaUid;e.lists[t].layersUid===o&&r.medias.actives[n]&&i("list",{uid:t,layerId:s,layersUid:o,mediaId:r.medias.actives[n].id})})},layerUnset:function(t,n){(0,t.commit)("reset",{layersUid:n.layersUid,layerId:n.layerId})},mediaSet:function(t,n){var i=t.state,r=t.dispatch,o=t.rootState,s=n.mediaUid,a=n.mediaId;Object.keys(i.lists).forEach(function(n){var e=i.lists[n];e.mediaUid===s&&o.layers.actives[e.layersUid]&&Object.keys(e.layers).forEach(function(t){r("list",{uid:n,layerId:t,layersUid:e.layersUid,mediaId:a})})})},list:function(t,n){t.state;var e=t.dispatch,i=t.commit,r=t.rootState,o=n.uid,s=n.layerId,a=n.layersUid,d=n.mediaId;return e("sync/start","annotationsList-"+o,{root:!0}),r.api.getAnnotations({filter:{id_layer:s,id_medium:d}}).then(function(t){e("sync/stop","annotationsList-"+o,{root:!0});var n=t.data.map(function(t){return{id:t._id,fragment:t.fragment||{},metadata:t.data||{},layerId:t.id_layer,mediaId:t.id_medium||null}});return i("list",{annotations:n,uid:o,layerId:s,layersUid:a}),n}).catch(function(t){throw e("sync/stop","annotationsList-"+a,{root:!0}),e("messages/error",t.message,{root:!0}),t})}},getters:{lists:function(n){return function(t){return n.lists[t]&&n.lists[t].layers||{}}},filter:function(o){return function(i,r){return o.lists[i]&&Object.keys(o.lists[i].layers).reduce(function(t,n){var e;return Object.assign(t,((e={})[n]=o.lists[i].layers[n].filter(function(t){return r(t)}),e))},{})}},filtered:function(n){return function(t){return n.lists[t]&&n.lists[t].filters.reduce(function(i,r){return Object.keys(i).reduce(function(t,n){var e;return Object.assign(t,((e={})[n]=i[n].filter(function(t){return r(t)}),e))},{})},n.lists[t].layers)}},active:function(i){return function(e){return Object.keys(i.lists[e].layers).reduce(function(t,n){return t||i.lists[e].layers[n].find(function(t){return t.id===i.actives[e]})},null)}}},mutations:{register:function(t,n){var e=n.uid,i=n.mediaUid,r=n.layersUid;a.set(t.actives,e,null),a.set(t.lists,e,{mediaUid:i,layersUid:r,layers:{},filters:[]})},filterRegister:function(t,n){var e=n.uid,i=n.filter;t.lists[e].filters.push(i)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{})},reset:function(e,t){var i=t.layersUid,r=t.layerId;Object.keys(e.lists).forEach(function(t){var n=e.lists[t];n.layersUid===i&&(a.delete(n,r),a.set(e.actives,t,null))})},add:function(e,t){var i=t.annotation,r=t.layerId;Object.keys(e.lists).forEach(function(t){var n=e.lists[t].layers[r];n&&a.set(n,n.length,i)})},update:function(i,t){var r=t.annotation,o=t.layerId;Object.keys(i.lists).forEach(function(t){var n=i.lists[t].layers[o];if(n){var e=n.findIndex(function(t){return t.id===r.id});a.set(n,e,r)}})},remove:function(r,t){var o=t.id;Object.keys(r.lists).forEach(function(i){Object.keys(r.lists[i].layers).forEach(function(t){var n=r.lists[i].layers[t],e=n.findIndex(function(t){return t.id===o});-1!==e&&(a.delete(n,e),r.actives[i]===o&&a.set(r.actives,i,null))})})},list:function(t,n){var e=n.annotations,i=n.uid,r=n.layerId;n.layersUid;a.set(t.lists[i].layers,r,e)},set:function(t,n){var e=n.id,i=n.uid;a.set(t.actives,i,e)},unset:function(t,n){n.id;var e=n.uid;a.set(t.actives,e,null)}}}},r={set:function(t){var n=t.dispatch;Promise.all([].concat(["users","groups"].map(function(t){return n(t+"/list",{},{root:!0}).then(function(t){return t}).catch(function(t){return t})}))).then(function(t){n("corpus/listAll",null,{root:!0})})},reset:function(t){var n=t.commit;n("user/reset",null,{root:!0}),n("users/reset",null,{root:!0}),n("groups/reset",null,{root:!0}),n("corpus/resetAll",null,{root:!0}),n("medias/resetAll",null,{root:!0}),n("layers/resetAll",null,{root:!0}),n("annotations/resetAll",null,{root:!0})}},p={register:function(t,n){var e=n.url,i=n.title,r=n.user;t.config={url:e,title:i,user:r},t.api=new o(e)}};a.use(n),a.filter("stringEnd",function(t){return t.substr(t.length-6)});var m=new n.Store({actions:r,mutations:p,modules:e}),g={name:"CamomileUtilsViewport",mounted:function(){window.addEventListener("resize",this.resize),this.resize()},methods:{resize:function(){return this.$store.dispatch("viewport/set")}}},f=function(){var t=this.$createElement;return(this._self._c||t)("div")};f._withStripped=!0;var h,v,b,_,y,x=(h=void 0!==f?{render:f,staticRenderFns:[]}:{},v=void 0===g?{}:g,b=void 0,_=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(y=("function"==typeof v?v.options:v)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/viewport.vue",y.render||(y.render=h.render,y.staticRenderFns=h.staticRenderFns,y._compiled=!0,_&&(y.functional=!0)),y._scopeId=b,y),k={name:"CamomileUtilsDropdown",computed:{dropdown:function(){return this.$store.state.dropdown}},methods:{close:function(){this.$store.commit("dropdown/close")}}},w=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("transition",{attrs:{name:"transition-top"}},[n.dropdown.visible?e("div",{staticClass:"absolute full bg-alpha",on:{click:function(t){return t.target!==t.currentTarget?null:n.close(t)}}},[e("div",{staticClass:"container relative"},[e(n.dropdown.config.component,{tag:"component"})],1)]):n._e()])};w._withStripped=!0;var C,$,R,S,U,I=(C=void 0!==w?{render:w,staticRenderFns:[]}:{},$=void 0===k?{}:k,R=void 0,S=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(U=("function"==typeof $?$.options:$)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/dropdown.vue",U.render||(U.render=C.render,U.staticRenderFns=C.staticRenderFns,U._compiled=!0,S&&(U.functional=!0)),U._scopeId=R,U),E={name:"CamomilePopup",computed:{config:function(){return this.$store.state.popup.config}},created:function(){this.config.closeBtn&&document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){this.config.closeBtn&&document.removeEventListener("keyup",this.keyup)},methods:{close:function(){this.$store.commit("popup/close")},closeDefault:function(){this.config.closeBtn&&this.close()},keyup:function(t){27===(t.which||t.keyCode)&&this.close()}}},F=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"absolute full bg-alpha",on:{click:t.closeDefault}}),t._v(" "),e("div",{staticClass:"popup fixed shadow full bg-bg"},[e("div",{staticClass:"popup-header flex flex-start p"},[e("h2",{staticClass:"mb-0 mt-s"},[t._v(t._s(t.config.title))]),t._v(" "),t.config.closeBtn?e("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:t.close}},[e("i",{staticClass:"icon-24 icon-24-close"})]):t._e()]),t._v(" "),e("div",{staticClass:"popup-content px pt"},[e(t.config.component,{tag:"component",on:{"popup-close":t.close}})],1)])])};F._withStripped=!0;var j,L,A,O,T,P=(j=void 0!==F?{render:F,staticRenderFns:[]}:{},L=void 0===E?{}:E,A=void 0,O=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(T=("function"==typeof L?L.options:L)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/index.vue",T.render||(T.render=j.render,T.staticRenderFns=j.staticRenderFns,T._compiled=!0,O&&(T.functional=!0)),T._scopeId=A,T),W={name:"CamomileUtilsMessages",computed:{messages:function(){return this.$store.state.messages.list}}},z=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"messages absolute center"},[e("transition-group",{attrs:{name:"transition-bottom",tag:"div"}},n._l(n.messages,function(t){return t.content?e("div",{key:t.id,staticClass:"px-m py-s mb color-bg b",class:"bg-"+t.type},[n._v(n._s(t.content)+"\n    ")]):n._e()}))],1)};z._withStripped=!0;var N,V,G,M,B,D=(N=void 0!==z?{render:z,staticRenderFns:[]}:{},V=void 0===W?{}:W,G=void 0,M=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(B=("function"==typeof V?V.options:V)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/messages.vue",B.render||(B.render=N.render,B.staticRenderFns=N.staticRenderFns,B._compiled=!0,M&&(B.functional=!0)),B._scopeId=G,B),H={name:"CamomileHeaderTitle",computed:{title:function(){return this.$store.state.config.title}}},q=function(){var t=this,n=t.$createElement;return(t._self._c||n)("h1",{staticClass:"mb-0"},[t._v(t._s(t.title))])};q._withStripped=!0;var X,J,Y,K,Z,Q=(X=void 0!==q?{render:q,staticRenderFns:[]}:{},J=void 0===H?{}:H,Y=void 0,K=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Z=("function"==typeof J?J.options:J)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/title.vue",Z.render||(Z.render=X.render,Z.staticRenderFns=X.staticRenderFns,Z._compiled=!0,K&&(Z.functional=!0)),Z._scopeId=Y,Z),tt={name:"CamomileHeaderInfos",computed:{url:function(){return this.$store.state.config.url}}},nt=function(){var t=this,n=t.$createElement;return(t._self._c||n)("h6",{staticClass:"menubar-infos mb-0"},[t._v(t._s(t.url))])};nt._withStripped=!0;var et,it,rt,ot,st,at=(et=void 0!==nt?{render:nt,staticRenderFns:[]}:{},it=void 0===tt?{}:tt,rt=void 0,ot=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(st=("function"==typeof it?it.options:it)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/infos.vue",st.render||(st.render=et.render,st.staticRenderFns=et.staticRenderFns,st._compiled=!0,ot&&(st.functional=!0)),st._scopeId=rt,st),dt={name:"CamomilePopupEditJson",props:{name:{type:String,default:"default"},title:{type:String,default:"default"}},computed:{fields:{get:function(){return JSON.stringify(this.$store.state.popup.element[this.name],void 0,2)},set:function(t){this.jsonCheck(t)&&this.$store.commit("popup/fieldUpdate",{name:this.name,value:JSON.parse(t)})}}},mounted:function(){var t=this.$refs.field;t.style.height=t.scrollHeight+"px"},methods:{jsonCheck:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},resize:function(t){var n=t.target;n.style.height=n.scrollHeight+"px"}}},ct=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("h3",{staticClass:"pt-s"},[n._v(n._s(n.title))]),n._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.fields,expression:"fields"}],ref:"field",staticClass:"mb",domProps:{value:n.fields},on:{keyup:n.resize,input:function(t){t.target.composing||(n.fields=t.target.value)}}})])};ct._withStripped=!0;var ut,lt,pt,mt,gt,ft={name:"CamomilePopupEdit",components:{objectField:(ut=void 0!==ct?{render:ct,staticRenderFns:[]}:{},lt=void 0===dt?{}:dt,pt=void 0,mt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(gt=("function"==typeof lt?lt.options:lt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/edit-json.vue",gt.render||(gt.render=ut.render,gt.staticRenderFns=ut.staticRenderFns,gt._compiled=!0,mt&&(gt.functional=!0)),gt._scopeId=pt,gt)},data:function(){return{roles:["admin","user"]}},computed:Object.assign({},t.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type},rolesPermission:function(t){return t.user.id!==t.popup.element.id}})),created:function(){document.addEventListener("keyup",this.keyup)},mounted:function(){"annotations"!==this.type&&this.$refs.name.focus()},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{save:function(){this.element.id?this.$store.dispatch(this.type+"/update",{element:this.element}):this.$store.dispatch(this.type+"/add",{element:this.element}),this.$store.commit("popup/close")},keyup:function(t){13===(t.which||t.keyCode)&&this.save()}}},ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["annotations"!==e.type?n("div",{staticClass:"tablet-blobs"},[e._m(0),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.name,expression:"element.name"}],ref:"name",staticClass:"mb",attrs:{disabled:e.element.id&&("users"===e.type||"groups"===e.type),type:"text",placeholder:"Name"},domProps:{value:e.element.name},on:{input:function(t){t.target.composing||e.$set(e.element,"name",t.target.value)}}})])]):e._e(),e._v(" "),"users"===e.type?n("div",{staticClass:"tablet-blobs"},[e._m(1),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.element.role,expression:"element.role"}],staticClass:"mb",attrs:{disabled:!e.rolesPermission,type:"text"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});e.$set(e.element,"role",t.target.multiple?n:n[0])}}},e._l(e.roles,function(t){return n("option",{key:t,domProps:{value:t}},[e._v("\n          "+e._s(t)+"\n        ")])}))])]):e._e(),e._v(" "),"users"===e.type?n("div",{staticClass:"tablet-blobs"},[e._m(2),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.password,expression:"element.password"}],staticClass:"mb",attrs:{type:"password",placeholder:"••••••••"},domProps:{value:e.element.password},on:{input:function(t){t.target.composing||e.$set(e.element,"password",t.target.value)}}})])]):e._e(),e._v(" "),"medias"===e.type?n("div",{staticClass:"tablet-blobs"},[e._m(3),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.url,expression:"element.url"}],staticClass:"mb",attrs:{type:"text",placeholder:"http://…"},domProps:{value:e.element.url},on:{input:function(t){t.target.composing||e.$set(e.element,"url",t.target.value)}}})])]):e._e(),e._v(" "),"annotations"===e.type?n("object-field",{attrs:{name:"fragment",title:"Fragment"}}):e._e(),e._v(" "),"annotations"===e.type?n("object-field",{attrs:{name:"metadata",title:"Meta-data"}}):e._e(),e._v(" "),"layers"===e.type?n("object-field",{attrs:{name:"fragmentType",title:"Fragment type"}}):e._e(),e._v(" "),"layers"===e.type?n("object-field",{attrs:{name:"metadataType",title:"Meta-data type"}}):e._e(),e._v(" "),"annotations"!==e.type?n("object-field",{attrs:{name:"description",title:"Description"}}):e._e(),e._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-4"}),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",attrs:{disabled:!e.element.name&&"annotations"!==e.type},on:{click:e.save,keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.save(t):null}}},[e._v("Save")])])])],1)};ht._withStripped=!0;var vt,bt,_t,yt,xt,kt=(vt=void 0!==ht?{render:ht,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Role")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Password")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Url")])])}]}:{},bt=void 0===ft?{}:ft,_t=void 0,yt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(xt=("function"==typeof bt?bt.options:bt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/edit.vue",xt.render||(xt.render=vt.render,xt.staticRenderFns=vt.staticRenderFns,xt._compiled=!0,yt&&(xt.functional=!0)),xt._scopeId=_t,xt),wt={name:"CamomileHeaderUserbuttonDropdown",data:function(){return{popupEditConfig:{type:"users",closeBtn:!0,title:"Edit user",component:kt}}},computed:{user:function(){return this.$store.state.user},isAdmin:function(){return this.$store.state.user.isAdmin}},methods:{close:function(){this.$store.commit("dropdown/close")},logout:function(){return this.$store.dispatch("user/logout")},popupOpen:function(t){var n=t.config,e=t.element;this.$store.commit("popup/open",{config:n,element:e}),this.close()}}},Ct=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"dropdown"},[n.isAdmin?e("div",[e("button",{staticClass:"btn px-m py-s full-x",on:{click:function(t){n.popupOpen({config:n.popupEditConfig,element:n.user})}}},[n._v("Settings…")])]):n._e(),n._v(" "),e("div",[e("button",{staticClass:"btn px-m py-s full-x mr home",on:{click:n.logout}},[n._v("Logout")])])])};Ct._withStripped=!0;var $t,Rt,St,Ut,It,Et=($t=void 0!==Ct?{render:Ct,staticRenderFns:[]}:{},Rt=void 0===wt?{}:wt,St=void 0,Ut=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(It=("function"==typeof Rt?Rt.options:Rt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/userbutton-dropdown.vue",It.render||(It.render=$t.render,It.staticRenderFns=$t.staticRenderFns,It._compiled=!0,Ut&&(It.functional=!0)),It._scopeId=St,It),Ft={name:"CamomileHeaderUserbutton",computed:Object.assign({},t.mapState({user:function(t){return t.user},visible:function(t){return t.dropdown.visible}})),methods:{dropdownToggle:function(){this.visible?this.$store.commit("dropdown/close"):this.$store.commit("dropdown/open",{component:Et})}}},jt=function(){var t=this,n=t.$createElement;return(t._self._c||n)("button",{staticClass:"btn-menubar px-m py-s full-x",class:{active:t.visible},on:{click:t.dropdownToggle}},[t._v(t._s(t.user.name))])};jt._withStripped=!0;var Lt,At,Ot,Tt,Pt,Wt=(Lt=void 0!==jt?{render:jt,staticRenderFns:[]}:{},At=void 0===Ft?{}:Ft,Ot=void 0,Tt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Pt=("function"==typeof At?At.options:At)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/userbutton.vue",Pt.render||(Pt.render=Lt.render,Pt.staticRenderFns=Lt.staticRenderFns,Pt._compiled=!0,Tt&&(Pt.functional=!0)),Pt._scopeId=Ot,Pt),zt={name:"CamomileHeaderSyncbutton",computed:{active:function(){return this.$store.getters["sync/active"]}},methods:{sync:function(){this.$store.dispatch("sync/all")}}},Nt=function(){var t=this.$createElement,n=this._self._c||t;return n("button",{staticClass:"btn-menubar px-m py-s full-x",on:{click:this.sync}},[n("i",{staticClass:"icon-24 icon-24-dot",class:{blink:this.active}})])};Nt._withStripped=!0;var Vt,Gt,Mt,Bt,Dt,Ht={name:"CamomileHeader",components:{cmlTitle:Q,cmlInfos:at,cmlUserbutton:Wt,cmlSync:(Vt=void 0!==Nt?{render:Nt,staticRenderFns:[]}:{},Gt=void 0===zt?{}:zt,Mt=void 0,Bt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Dt=("function"==typeof Gt?Gt.options:Gt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/sync.vue",Dt.render||(Dt.render=Vt.render,Dt.staticRenderFns=Vt.staticRenderFns,Dt._compiled=!0,Bt&&(Dt.functional=!0)),Dt._scopeId=Mt,Dt)},computed:{isLogged:function(){return this.$store.state.user.isLogged}}},qt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tablet-blobs"},[e("div",{staticClass:"tablet-blob-1-4"},[e("cml-title")],1),t._v(" "),t.isLogged?e("div",{staticClass:"tablet-blob-1-2"},[e("div",{staticClass:"blobs"},[e("div",{staticClass:"blob"},[e("cml-sync",{staticClass:"mb-0"})],1),t._v(" "),e("div",{staticClass:"blob-auto"},[e("cml-infos")],1)])]):t._e(),t._v(" "),t.isLogged?e("div",{staticClass:"blob flex-right"},[e("cml-userbutton")],1):t._e()])};qt._withStripped=!0;var Xt,Jt,Yt,Kt,Zt,Qt=(Xt=void 0!==qt?{render:qt,staticRenderFns:[]}:{},Jt=void 0===Ht?{}:Ht,Yt=void 0,Kt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Zt=("function"==typeof Jt?Jt.options:Jt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/index.vue",Zt.render||(Zt.render=Xt.render,Zt.staticRenderFns=Xt.staticRenderFns,Zt._compiled=!0,Kt&&(Zt.functional=!0)),Zt._scopeId=Yt,Zt),tn={name:"CamomileLoginPopup",computed:{config:function(){return this.$store.state.config}},created:function(){document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{login:function(t){return this.$store.dispatch("user/login",t)},keyup:function(t){13===(t.which||t.keyCode)&&this.login(this.config)}}},nn=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"tablet-blobs"},[n._m(0),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.config.user.name,expression:"config.user.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name"},domProps:{value:n.config.user.name},on:{input:function(t){t.target.composing||n.$set(n.config.user,"name",t.target.value)}}})]),n._v(" "),n._m(1),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.config.user.password,expression:"config.user.password"}],staticClass:"mb",attrs:{type:"password",placeholder:"Password"},domProps:{value:n.config.user.password},on:{input:function(t){t.target.composing||n.$set(n.config.user,"password",t.target.value)}}})]),n._v(" "),e("div",{staticClass:"tablet-blob-1-4"}),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("button",{staticClass:"btn-alt p-s full-x mb",on:{click:function(t){n.login(n.config)}}},[n._v("Login")])])])])};nn._withStripped=!0;var en,rn,on,sn,an,dn=(en=void 0!==nn?{render:nn,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Password")])])}]}:{},rn=void 0===tn?{}:tn,on=void 0,sn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(an=("function"==typeof rn?rn.options:rn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/login.vue",an.render||(an.render=en.render,an.staticRenderFns=en.staticRenderFns,an._compiled=!0,sn&&(an.functional=!0)),an._scopeId=on,an),cn={name:"CamomileLogin",created:function(){this.$store.commit("popup/open",{config:{title:"Login",closeBtn:!1,component:dn},element:{}})}},un=function(){var t=this.$createElement;return(this._self._c||t)("div")};un._withStripped=!0;var ln,pn,mn,gn,fn,hn={store:m,name:"Camomile",components:{viewport:x,cmlHeader:Qt,cmlLogin:(ln=void 0!==un?{render:un,staticRenderFns:[]}:{},pn=void 0===cn?{}:cn,mn=void 0,gn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(fn=("function"==typeof pn?pn.options:pn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/login.vue",fn.render||(fn.render=ln.render,fn.staticRenderFns=ln.staticRenderFns,fn._compiled=!0,gn&&(fn.functional=!0)),fn._scopeId=mn,fn),cmlPopup:P,cmlMessages:D,cmlDropdown:I},props:{userName:{type:String,default:""},userPassword:{type:String,default:""},url:{type:String,default:"http://localhost:3000"},title:{type:String,default:"Camomile UI"}},computed:Object.assign({},t.mapState({isLogged:function(t){return t.user.isLogged},popup:function(t){return t.popup}})),created:function(){this.$store.commit("register",{url:this.url,title:this.title,user:{name:this.userName,password:this.userPassword}})}},vn=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page relative"},[e("header",{staticClass:"header bg-inverse color-bg shadow"},[e("div",{staticClass:"container"},[e("cml-header")],1)]),t._v(" "),e("main",{staticClass:"main"},[e("div",{staticClass:"container pt"},[t.isLogged?t._t("default"):e("cml-login")],2),t._v(" "),e("transition",{attrs:{name:"transition-top"}},[t.popup.visible?e("cml-popup"):t._e()],1),t._v(" "),e("cml-messages"),t._v(" "),e("cml-dropdown"),t._v(" "),e("viewport")],1)])};vn._withStripped=!0;var bn,_n,yn,xn,kn,wn=(bn=void 0!==vn?{render:vn,staticRenderFns:[]}:{},_n=void 0===hn?{}:hn,yn=void 0,xn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(kn=("function"==typeof _n?_n.options:_n)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/app.vue",kn.render||(kn.render=bn.render,kn.staticRenderFns=bn.staticRenderFns,kn._compiled=!0,xn&&(kn.functional=!0)),kn._scopeId=yn,kn),Cn={name:"CamomilePopupRemove",computed:Object.assign({},t.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type}})),created:function(){document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{remove:function(){this.$store.dispatch(this.type+"/remove",{id:this.element.id}),this.$store.commit("popup/close")},keyup:function(t){13===(t.which||t.keyCode)&&this.remove()}}},$n=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",["annotations"!==n.type?e("div",{staticClass:"tablet-blobs"},[n._m(0),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.element.name,expression:"element.name"}],staticClass:"mb",attrs:{disabled:n.element.id,type:"text",placeholder:"Name"},domProps:{value:n.element.name},on:{input:function(t){t.target.composing||n.$set(n.element,"name",t.target.value)}}})])]):n._e(),n._v(" "),"annotations"===n.type?e("div",{staticClass:"tablet-blobs"},[n._m(1),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.element.id,expression:"element.id"}],staticClass:"mb",attrs:{disabled:n.element.id,type:"text",placeholder:"Name"},domProps:{value:n.element.id},on:{input:function(t){t.target.composing||n.$set(n.element,"id",t.target.value)}}})])]):n._e(),n._v(" "),e("div",{staticClass:"tablet-blobs"},[e("div",{staticClass:"tablet-blob-1-4"}),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("button",{staticClass:"btn-alt p-s full-x mb",on:{click:n.remove,keyup:function(t){return"button"in t||!n._k(t.keyCode,"enter",13,t.key,"Enter")?n.remove(t):null}}},[n._v("Remove")])])])])};$n._withStripped=!0;var Rn,Sn,Un,In,En,Fn=(Rn=void 0!==$n?{render:$n,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Id")])])}]}:{},Sn=void 0===Cn?{}:Cn,Un=void 0,In=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(En=("function"==typeof Sn?Sn.options:Sn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/remove.vue",En.render||(En.render=Rn.render,En.staticRenderFns=Rn.staticRenderFns,En._compiled=!0,In&&(En.functional=!0)),En._scopeId=Un,En),jn={name:"CamomilePopupGroups",computed:{groups:function(){return this.$store.state.groups.list},user:function(){var n=this;return this.$store.state.users.list.find(function(t){return t.id===n.$store.state.popup.element.id})}},methods:{groupToggle:function(t){this.groupActive(t.id)?this.$store.dispatch("groups/userRemove",{userId:this.user.id,group:t}):this.$store.dispatch("groups/userAdd",{userId:this.user.id,group:t})},groupActive:function(n){return-1!==this.groups.find(function(t){return t.id===n}).userIds.indexOf(this.user.id)}}},Ln=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"tablet-blobs"},[e._m(0),e._v(" "),i("div",{staticClass:"tablet-blob-3-4"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Name",disabled:""},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"tablet-blobs"},[i("div",{staticClass:"tablet-blob-1"},[i("h3",{staticClass:"mb-s"},[e._v("Groups")]),e._v(" "),i("ul",{staticClass:"list-inline clearfix"},e._l(e.groups,function(n){return i("li",{key:n.id,staticClass:"tag",class:{active:e.groupActive(n.id)}},[i("button",{staticClass:"btn px-m py-xs h5 pill",on:{click:function(t){e.groupToggle(n)}}},[e._v(e._s(n.name))])])}))])])])};Ln._withStripped=!0;var An,On,Tn,Pn,Wn,zn=(An=void 0!==Ln?{render:Ln,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Name")])])}]}:{},On=void 0===jn?{}:jn,Tn=void 0,Pn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Wn=("function"==typeof On?On.options:On)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/groups.vue",Wn.render||(Wn.render=An.render,Wn.staticRenderFns=An.staticRenderFns,Wn._compiled=!0,Pn&&(Wn.functional=!0)),Wn._scopeId=Tn,Wn),Nn={name:"CamomileUsers",data:function(){return{popupEditConfig:{type:"users",closeBtn:!0,title:"Edit user",component:kt},popupAddConfig:{type:"users",closeBtn:!0,title:"Add user",component:kt},popupGroupsConfig:{closeBtn:!0,title:"User groups",component:zn},popupRemoveConfig:{type:"users",closeBtn:!0,title:"Remove user",component:Fn}}},computed:Object.assign({},t.mapState({isAdmin:function(t){return t.user.isAdmin},users:function(t){return t.users.list},userId:function(t){return t.user.id}})),methods:{popupOpen:function(t){var n=t.config,e=t.element;return this.$store.commit("popup/open",{config:n,element:e})}}},Vn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isAdmin?i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[e._v("Users")]),e._v(" "),i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){e.popupOpen({config:e.popupAddConfig,element:{description:{},role:"user"}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})])]),e._v(" "),i("div",[i("table",{staticClass:"table mb-0"},[e._m(0),e._v(" "),e._l(e.users,function(n){return i("tr",{key:n.id},[i("td",[e._v(e._s(n.name))]),e._v(" "),i("td",[e._v(e._s(n.role))]),e._v(" "),i("td",{staticClass:"text-right"},[i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupGroupsConfig,element:n})}}},[e._v("Groups")]),e._v(" "),i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupEditConfig,element:n})}}},[e._v("Edit")]),e._v(" "),n.id!==e.userId?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupRemoveConfig,element:n})}}},[e._v("Remove")]):e._e()])])})],2)])]):e._e()};Vn._withStripped=!0;var Gn,Mn,Bn,Dn,Hn,qn=(Gn=void 0!==Vn?{render:Vn,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th",[this._v("Name")]),n("th",[this._v("Role")]),n("th")])}]}:{},Mn=void 0===Nn?{}:Nn,Bn=void 0,Dn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Hn=("function"==typeof Mn?Mn.options:Mn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/admin/users.vue",Hn.render||(Hn.render=Gn.render,Hn.staticRenderFns=Gn.staticRenderFns,Hn._compiled=!0,Dn&&(Hn.functional=!0)),Hn._scopeId=Bn,Hn),Xn={name:"CamomilePopupUsers",computed:{users:function(){return this.$store.state.users.list},group:function(){var n=this;return this.$store.state.groups.list.find(function(t){return t.id===n.$store.state.popup.element.id})}},methods:{userToggle:function(t){this.userActive(t)?this.$store.dispatch("groups/userRemove",{userId:t,group:this.group}):this.$store.dispatch("groups/userAdd",{userId:t,group:this.group})},userActive:function(t){return-1<this.group.userIds.indexOf(t)}}},Jn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"tablet-blobs"},[e._m(0),e._v(" "),i("div",{staticClass:"tablet-blob-3-4"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.group.name,expression:"group.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name",disabled:""},domProps:{value:e.group.name},on:{input:function(t){t.target.composing||e.$set(e.group,"name",t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"tablet-blobs"},[i("div",{staticClass:"tablet-blob-1"},[i("h3",{staticClass:"pt-s mb-s"},[e._v("Users")]),e._v(" "),i("ul",{staticClass:"list-inline"},e._l(e.users,function(n){return i("li",{key:n.id,staticClass:"tag",class:{active:e.userActive(n.id)}},[i("button",{staticClass:"btn px-m py-xs h5 pill",on:{click:function(t){e.userToggle(n.id)}}},[e._v(e._s(n.name))])])}))])])])};Jn._withStripped=!0;var Yn,Kn,Zn,Qn,te,ne=(Yn=void 0!==Jn?{render:Jn,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Name")])])}]}:{},Kn=void 0===Xn?{}:Xn,Zn=void 0,Qn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(te=("function"==typeof Kn?Kn.options:Kn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/users.vue",te.render||(te.render=Yn.render,te.staticRenderFns=Yn.staticRenderFns,te._compiled=!0,Qn&&(te.functional=!0)),te._scopeId=Zn,te),ee={name:"CamomileGroups",data:function(){return{popupRemoveConfig:{type:"groups",closeBtn:!0,title:"Remove group",component:Fn},popupEditConfig:{type:"groups",closeBtn:!0,title:"Edit group",component:kt},popupAddConfig:{type:"groups",closeBtn:!0,title:"Add group",component:kt},popupUsersConfig:{closeBtn:!0,title:"Group users",component:ne}}},computed:Object.assign({},t.mapState({isAdmin:function(t){return t.user.isAdmin},groups:function(t){return t.groups.list},isRoot:function(t){return t.user.isRoot}})),methods:{popupOpen:function(t){var n=t.config,e=t.element;return this.$store.commit("popup/open",{config:n,element:e})},refresh:function(){return this.$store.dispatch("groups/list")}}},ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isAdmin?i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[e._v("Groups")]),e._v(" "),i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){e.popupOpen({config:e.popupAddConfig,element:{description:{}}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})])]),e._v(" "),i("div",[i("table",{staticClass:"table mb-0"},[e._m(0),e._v(" "),e._l(e.groups,function(n){return i("tr",{key:n.id},[i("td",[e._v(e._s(n.name))]),e._v(" "),i("td",[e._v(e._s(n.userIds.length))]),e._v(" "),i("td",{staticClass:"text-right"},[i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupUsersConfig,element:n})}}},[e._v("Users")]),e._v(" "),i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupEditConfig,element:n})}}},[e._v("Edit")]),e._v(" "),e.isRoot?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupRemoveConfig,element:n})}}},[e._v("Remove")]):e._e()])])})],2)])]):e._e()};ie._withStripped=!0;var re,oe,se,ae,de,ce=(re=void 0!==ie?{render:ie,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th",[this._v("Name")]),n("th",[this._v("Users")]),n("th")])}]}:{},oe=void 0===ee?{}:ee,se=void 0,ae=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(de=("function"==typeof oe?oe.options:oe)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/admin/groups.vue",de.render||(de.render=re.render,de.staticRenderFns=re.staticRenderFns,de._compiled=!0,ae&&(de.functional=!0)),de._scopeId=se,de),ue={name:"CamomileCorpus",props:{uid:{type:String,default:"default"}},created:function(){this.$store.commit("corpus/register",this.uid)}},le=function(){var t=this.$createElement;return(this._self._c||t)("span")};le._withStripped=!0;var pe,me,ge,fe,he,ve=(pe=void 0!==le?{render:le,staticRenderFns:[]}:{},me=void 0===ue?{}:ue,ge=void 0,fe=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(he=("function"==typeof me?me.options:me)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/corpus/index.vue",he.render||(he.render=pe.render,he.staticRenderFns=pe.staticRenderFns,he._compiled=!0,fe&&(he.functional=!0)),he._scopeId=ge,he),be={name:"CamomilePopupPermissionsEdit",props:{element:{type:Object,default:function(){return{}}},type:{type:String,default:"default"}},computed:{id:function(){return this.$store.state.popup.element.id},uid:function(){return this.$store.state.popup.config.uid},permission:function(){var n=this;return this.$store.state[this.type+"s"].lists[this.uid].find(function(t){return t.id===n.id}).permissions[this.element.type+"s"][this.element.id]}},methods:{toggle:function(t){var n,e;this.isActive(t)?this.$store.dispatch(this.type+"s/"+this.element.type+"PermissionRemove",((n={id:this.id})[this.element.type+"Id"]=this.element.id,n)):this.$store.dispatch(this.type+"s/"+this.element.type+"PermissionSet",((e={id:this.id})[this.element.type+"Id"]=this.element.id,e.permission=t,e))},isActive:function(t){return this.permission===t}}},_e=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ul",{staticClass:"list-inline"},[e("li",{staticClass:"tag",class:{active:n.isActive(1)}},[e("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(t){n.toggle(1)}}},[n._v("R")])]),n._v(" "),e("li",{staticClass:"tag",class:{active:n.isActive(2)}},[e("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(t){n.toggle(2)}}},[n._v("W")])]),n._v(" "),e("li",{staticClass:"tag",class:{active:n.isActive(3)}},[e("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(t){n.toggle(3)}}},[n._v("A")])])])};_e._withStripped=!0;var ye,xe,ke,we,Ce,$e={name:"CamomilePermissions",components:{permissionsEdit:(ye=void 0!==_e?{render:_e,staticRenderFns:[]}:{},xe=void 0===be?{}:be,ke=void 0,we=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Ce=("function"==typeof xe?xe.options:xe)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/permissions-edit.vue",Ce.render||(Ce.render=ye.render,Ce.staticRenderFns=ye.staticRenderFns,Ce._compiled=!0,we&&(Ce.functional=!0)),Ce._scopeId=ke,Ce)},computed:Object.assign({},t.mapState({resource:function(t){return t.popup.element},users:function(t){return t.users.list},groups:function(t){return t.groups.list},type:function(t){return t.popup.config.type}}))},Re=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"tablet-blobs"},[n._m(0),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.resource.name,expression:"resource.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name",disabled:""},domProps:{value:n.resource.name},on:{input:function(t){t.target.composing||n.$set(n.resource,"name",t.target.value)}}})]),n._v(" "),e("div",{staticClass:"tablet-blob-1-2"},[e("h3",{staticClass:"pt-s"},[n._v("Users")]),n._v(" "),e("ul",{staticClass:"list-sans"},n._l(n.users,function(t){return e("li",{key:t.id},[e("div",{staticClass:"tablet-blobs"},[e("div",{staticClass:"tablet-blob-1-2 mb-s"},[n._v("\n              "+n._s(t.name)+"\n            ")]),n._v(" "),e("div",{staticClass:"tablet-blob-1-2 mb-s"},[e("permissions-edit",{attrs:{type:n.type.slice(0,-1),element:{id:t.id,type:"user"}}})],1)])])}))]),n._v(" "),e("div",{staticClass:"tablet-blob-1-2"},[e("h3",{staticClass:"pt-s"},[n._v("Groups")]),n._v(" "),e("ul",{staticClass:"list-sans"},n._l(n.groups,function(t){return e("li",{key:t.id},[e("div",{staticClass:"tablet-blobs"},[e("div",{staticClass:"tablet-blob-1-2 mb-s"},[n._v("\n              "+n._s(t.name)+"\n            ")]),n._v(" "),e("div",{staticClass:"tablet-blob-1-2 mb-s"},[e("permissions-edit",{attrs:{type:n.type.slice(0,-1),element:{id:t.id,type:"group"}}})],1)])])}))])])])};Re._withStripped=!0;var Se,Ue,Ie,Ee,Fe,je=(Se=void 0!==Re?{render:Re,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Name")])])}]}:{},Ue=void 0===$e?{}:$e,Ie=void 0,Ee=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Fe=("function"==typeof Ue?Ue.options:Ue)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/permissions.vue",Fe.render||(Fe.render=Se.render,Fe.staticRenderFns=Se.staticRenderFns,Fe._compiled=!0,Ee&&(Fe.functional=!0)),Fe._scopeId=Ie,Fe),Le={name:"CamomileCorpusList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"corpus",closeBtn:!0,title:"Edit corpus",component:kt},popupAddConfig:{type:"corpus",closeBtn:!0,title:"Add corpus",component:kt},popupRemoveConfig:{type:"corpus",closeBtn:!0,title:"Remove corpus",component:Fn},popupPermissionsConfig:{type:"corpus",closeBtn:!0,title:"Corpus permissions",component:je,uid:this.uid}}},computed:{corpus:function(){return this.$store.state.corpus.lists[this.uid]},corpuId:function(){return this.$store.state.corpus.actives[this.uid]},isAdmin:function(){return this.$store.state.user.isAdmin}},methods:{popupOpen:function(t){var n=t.config,e=t.element;this.$store.commit("popup/open",{config:n,element:e})},set:function(t){this.$store.dispatch("corpus/set",{id:t.target.value,uid:this.uid})}}},Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[e._v("Corpora")]),e._v(" "),e.isAdmin?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){e.popupOpen({config:e.popupAddConfig,element:{id:null,description:{}}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):e._e()]),e._v(" "),e.corpus&&0<e.corpus.length?i("div",[i("table",{staticClass:"table mb-0"},[e._m(0),e._v(" "),e._l(e.corpus,function(n){return i("tr",{key:n.id},[i("td",[i("input",{attrs:{type:"radio"},domProps:{value:n.id,checked:n.id===e.corpuId},on:{change:e.set}})]),e._v(" "),i("td",[e._v(e._s(n.name))]),e._v(" "),i("td",{staticClass:"text-right"},[3===n.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupPermissionsConfig,element:n})}}},[e._v("Permissions")]):e._e(),e._v(" "),3===n.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupEditConfig,element:n})}}},[e._v("Edit")]):e._e(),e._v(" "),e.isAdmin&&3===n.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupRemoveConfig,element:n})}}},[e._v("Remove")]):e._e()])])})],2)]):e._e()])};Ae._withStripped=!0;var Oe,Te,Pe,We,ze,Ne=(Oe=void 0!==Ae?{render:Ae,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th"),n("th",[this._v("Name")]),n("th")])}]}:{},Te=void 0===Le?{}:Le,Pe=void 0,We=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ze=("function"==typeof Te?Te.options:Te)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/corpus/list.vue",ze.render||(ze.render=Oe.render,ze.staticRenderFns=Oe.staticRenderFns,ze._compiled=!0,We&&(ze.functional=!0)),ze._scopeId=Pe,ze),Ve={name:"CamomileCorpusSelect",props:{uid:{type:String,default:"default"}},computed:{corpus:function(){return this.$store.state.corpus.lists[this.uid]},corpuId:function(){return this.$store.state.corpus.actives[this.uid]}},methods:{set:function(t){this.$store.dispatch("corpus/set",{id:t.target.value,uid:this.uid})}}},Ge=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"p bg-bg mb"},[e("h2",{staticClass:"mt-xs"},[n._v("Corpora")]),n._v(" "),n.corpus&&0<n.corpus.length?e("select",{on:{change:n.set}},n._l(n.corpus,function(t){return e("option",{key:t.id,domProps:{value:t.id,selected:t.id===n.corpuId}},[n._v("\n      "+n._s(t.name)+"\n    ")])})):n._e()])};Ge._withStripped=!0;var Me,Be,De,He,qe,Xe=(Me=void 0!==Ge?{render:Ge,staticRenderFns:[]}:{},Be=void 0===Ve?{}:Ve,De=void 0,He=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(qe=("function"==typeof Be?Be.options:Be)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/corpus/select.vue",qe.render||(qe.render=Me.render,qe.staticRenderFns=Me.staticRenderFns,qe._compiled=!0,He&&(qe.functional=!0)),qe._scopeId=De,qe),Je={name:"CamomileMedias",props:{uid:{type:String,default:"default"},corpusUid:{type:String,default:"default"}},created:function(){this.$store.commit("medias/register",{uid:this.uid,corpuUid:this.corpusUid})}},Ye=function(){var t=this.$createElement;return(this._self._c||t)("span")};Ye._withStripped=!0;var Ke,Ze,Qe,ti,ni,ei=(Ke=void 0!==Ye?{render:Ye,staticRenderFns:[]}:{},Ze=void 0===Je?{}:Je,Qe=void 0,ti=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ni=("function"==typeof Ze?Ze.options:Ze)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/index.vue",ni.render||(ni.render=Ke.render,ni.staticRenderFns=Ke.staticRenderFns,ni._compiled=!0,ti&&(ni.functional=!0)),ni._scopeId=Qe,ni),ii={name:"CamomileMediasList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"medias",closeBtn:!0,title:"Edit medium",component:kt},popupAddConfig:{type:"medias",closeBtn:!0,title:"Add medium",component:kt},popupRemoveConfig:{type:"medias",closeBtn:!0,title:"Remove medium",component:Fn}}},computed:{corpuUid:function(){return this.$store.state.medias.actives[this.uid].corpuUid},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},mediaId:function(){return this.$store.state.medias.actives[this.uid].id},medias:function(){return this.$store.state.medias.lists[this.corpuUid]},mediaActive:function(){return this.$store.state.medias.actives[this.uid]},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},mediaNew:function(){return{id:null,corpuId:this.corpuId,description:this.mediaActive.description}}},methods:{popupOpen:function(t){var n=t.config,e=t.element;return this.$store.commit("popup/open",{config:n,element:e})},set:function(t){this.$store.dispatch("medias/set",{id:t.target.value,corpuUid:this.corpuUid,uid:this.uid})}}},ri=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[e._v("Media")]),e._v(" "),3===e.corpuPermission?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){e.popupOpen({config:e.popupAddConfig,element:e.mediaNew})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):e._e()]),e._v(" "),e.medias&&0<e.medias.length?i("div",[i("table",{staticClass:"table mb-0"},[e._m(0),e._v(" "),e._l(e.medias,function(n){return i("tr",{key:n.id},[i("td",[i("input",{attrs:{type:"radio"},domProps:{value:n.id,checked:n.id===e.mediaId},on:{change:e.set}})]),e._v(" "),i("td",[e._v(e._s(n.name))]),e._v(" "),i("td",{staticClass:"text-right"},[3===e.corpuPermission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupEditConfig,element:n})}}},[e._v("Edit")]):e._e(),e._v(" "),3===e.corpuPermission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupRemoveConfig,element:n})}}},[e._v("Remove")]):e._e()])])})],2)]):e._e()])};ri._withStripped=!0;var oi,si,ai,di,ci,ui=(oi=void 0!==ri?{render:ri,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th"),n("th",[this._v("Name")]),n("th")])}]}:{},si=void 0===ii?{}:ii,ai=void 0,di=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ci=("function"==typeof si?si.options:si)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/list.vue",ci.render||(ci.render=oi.render,ci.staticRenderFns=oi.staticRenderFns,ci._compiled=!0,di&&(ci.functional=!0)),ci._scopeId=ai,ci),li={name:"CamomileMediasSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.medias.actives[this.uid].corpuUid},mediaId:function(){return this.$store.state.medias.actives[this.uid].id},medias:function(){return this.$store.state.medias.lists[this.corpuUid]}},methods:{set:function(t){this.$store.dispatch("medias/set",{id:t.target.value,corpuUid:this.corpuUid,uid:this.uid})}}},pi=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"p bg-bg mb"},[e("h2",{staticClass:"mt-xs"},[n._v("Media")]),n._v(" "),n.medias&&0<n.medias.length?e("select",{on:{change:n.set}},n._l(n.medias,function(t){return e("option",{key:t.id,domProps:{value:t.id,selected:t.id===n.mediaId}},[n._v("\n      "+n._s(t.name)+"\n    ")])})):n._e()])};pi._withStripped=!0;var mi,gi,fi,hi,vi,bi=(mi=void 0!==pi?{render:pi,staticRenderFns:[]}:{},gi=void 0===li?{}:li,fi=void 0,hi=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(vi=("function"==typeof gi?gi.options:gi)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/select.vue",vi.render||(vi.render=mi.render,vi.staticRenderFns=mi.staticRenderFns,vi._compiled=!0,hi&&(vi.functional=!0)),vi._scopeId=fi,vi),_i={name:"CamomileUtilsSpinner"},yi=function(){var t=this.$createElement;this._self._c;return this._m(0)};yi._withStripped=!0;var xi,ki,wi,Ci,$i,Ri=(xi=void 0!==yi?{render:yi,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"bounce1"}),this._v(" "),n("div",{staticClass:"bounce2"}),this._v(" "),n("div",{staticClass:"bounce3"})])}]}:{},ki=void 0===_i?{}:_i,wi=void 0,Ci=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,($i=("function"==typeof ki?ki.options:ki)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/spinner.vue",$i.render||($i.render=xi.render,$i.staticRenderFns=xi.staticRenderFns,$i._compiled=!0,Ci&&($i.functional=!0)),$i._scopeId=wi,$i),Si={name:"CamomileMediaYoutube",components:{spinner:Ri},props:{uid:{type:String,default:"default"}},data:function(){return{player:null,videoNew:!1,description:{type:"youtube"}}},computed:{media:function(){return this.$store.getters["medias/filter"](this.uid,this.filter)},properties:function(){return this.$store.getters["medias/properties"](this.uid,this.filter)},isPlaying:function(){return this.properties.isPlaying||!1},isLoaded:function(){return this.properties.isLoaded||!1},seek:function(){return this.properties.seek||{}},timeCurrent:function(){return this.properties.timeCurrent||0},viewportWidth:function(){return this.$store.state.viewport.width||0}},watch:{isPlaying:function(t){t?this.player.playVideo():this.player.pauseVideo()},seek:function(t){t.seeking&&this.videoSeek(t.serverRequest)},viewportWidth:function(){if(this.media){var t=this.$refs.container.offsetWidth,n=9*t/16;this.player.setSize(t,n)}},media:function(t,n){t&&t.url&&n&&n.url&&t.url!==n.url&&this.videoLoad(t.url)}},created:function(){this.$store.commit("medias/descriptionRegister",{uid:this.uid,description:this.description})},mounted:function(){this.media&&this.media.url&&this.playerLoad(this.media.url)},beforeDestroy:function(){null!==this.player&&this.player.destroy&&this.player.destroy(),this.player=null},methods:{filter:function(t){return t&&t.description&&t.description.type&&"youtube"===t.description.type&&t},videoLoad:function(t){if(this.player){var n=this.parseYouTubeId(t);this.player.loadVideoById(n)}else this.playerLoad(this.media.url)},playerLoad:function(t){var n=this,e=this.parseYouTubeId(t),i=this.$refs.container.offsetWidth,r=9*i/16,o={onReady:function(t){n.$store.commit("medias/loaded",{isLoaded:!0,uid:n.uid}),n.$store.commit("medias/timeTotal",{time:1e3*n.player.getDuration(),uid:n.uid})},onStateChange:function(t){-1===t.data||(1===t.data?n.videoNew?(n.videoNew=!1,n.$store.commit("medias/loaded",{isLoaded:!0,uid:n.uid}),n.$store.commit("medias/timeTotal",{time:1e3*n.player.getDuration(),uid:n.uid}),n.player.pauseVideo()):n.$store.dispatch("medias/play",{uid:n.uid}):2===t.data?n.$store.dispatch("medias/pause",{uid:n.uid}):3===t.data?n.$store.dispatch("medias/buffering",{uid:n.uid}):0===t.data?n.$store.dispatch("medias/stop",{uid:n.uid}):5===t.data&&(n.$store.commit("medias/loaded",{isLoaded:!0,uid:n.uid}),n.$store.commit("medias/timeTotal",{time:1e3*n.player.getDuration(),uid:n.uid})))},onApiChange:function(t){n.isLoaded||(n.videoNew=!0)}},s={autoplay:0,controls:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,enablejsapi:1,disablekb:1},a=document.createElement("script"),d=document.getElementsByTagName("script"),c=d[d.length-1];a.src="https://www.youtube.com/iframe_api",c.parentNode.insertBefore(a,c.nextSibling),window.onYouTubeIframeAPIReady=function(){n.player=new YT.Player("player",{width:i,height:r,videoId:e,playerVars:s,events:o})}},videoSeek:function(t){this.player.seekTo(this.timeCurrent/1e3,t),this.$store.commit("medias/seek",{options:{seeking:!1},uid:this.uid})},parseYouTubeId:function(t){return t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t}}},Ui=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.media?e("div",{ref:"container",staticClass:"mb"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}]},[e("div",{attrs:{id:"player"}})]),t._v(" "),t.isLoaded?t._e():e("spinner")],1):t._e()};Ui._withStripped=!0;var Ii,Ei,Fi,ji,Li,Ai=(Ii=void 0!==Ui?{render:Ui,staticRenderFns:[]}:{},Ei=void 0===Si?{}:Si,Fi=void 0,ji=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Li=("function"==typeof Ei?Ei.options:Ei)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/youtube.vue",Li.render||(Li.render=Ii.render,Li.staticRenderFns=Ii.staticRenderFns,Li._compiled=!0,ji&&(Li.functional=!0)),Li._scopeId=Fi,Li),Oi={name:"CamomileMediaVideo",components:{spinner:Ri},props:{uid:{type:String,default:"default"}},data:function(){return{mousedown:!1,videoLoaded:!1,timeTotal:0,description:{type:"video"}}},computed:{media:function(){return this.$store.getters["medias/filter"](this.uid,this.filter)},properties:function(){return this.$store.getters["medias/properties"](this.uid,this.filter)},isPlaying:function(){return this.properties.isPlaying||!1},isLoaded:function(){return this.properties.isLoaded||!1},seek:function(){return this.properties.seek||{}},timeCurrent:function(){return this.properties.timeCurrent||0},viewportWidth:function(){return this.$store.state.viewport.width||0}},watch:{isPlaying:function(t){t?this.$refs.video.play():this.$refs.video.pause()},seek:function(t){t.seeking&&this.videoSeek()},viewportWidth:function(){this.$refs.container.offsetWidth},media:function(t,n){t&&t.url&&n&&n.url&&t.url!==n.url&&this.videoLoad()}},created:function(){this.$store.commit("medias/descriptionRegister",{uid:this.uid,description:this.description})},methods:{filter:function(t){return t&&t.description&&t.description.type&&"video"===t.description.type&&t},videoEnded:function(){this.$store.dispatch("medias/stop",{uid:this.uid})},videoToggle:function(){this.$refs.video.paused?this.$refs.video.play():this.$refs.video.pause()},buttonToggle:function(){this.$refs.video.paused?this.$store.dispatch("medias/pause",{uid:this.uid}):this.$store.dispatch("medias/play",{uid:this.uid})},videoTimeupdate:function(){if(this.$refs.video)this.$refs.video.currentTime,this.$refs.video.duration},videoSeek:function(t){this.$refs.video.currentTime=this.timeCurrent/1e3},videoLoad:function(){this.$store.commit("medias/loaded",{isLoaded:!0,uid:this.uid}),this.$store.commit("medias/timeTotal",{time:1e3*this.$refs.video.duration,uid:this.uid}),this.$refs.video.volume=0}}},Ti=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.media?e("div",{ref:"container",staticClass:"mb"},[e("video",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],ref:"video",staticClass:"object-fit",attrs:{id:"bgvid"},on:{ended:t.videoEnded,click:t.videoToggle,play:t.buttonToggle,pause:t.buttonToggle,timeupdate:t.videoTimeupdate,canplay:t.videoLoad}},[e("source",{attrs:{src:t.media.url,type:"video/mp4"}})]),t._v(" "),t.isLoaded?t._e():e("spinner")],1):t._e()};Ti._withStripped=!0;var Pi,Wi,zi,Ni,Vi,Gi=(Pi=void 0!==Ti?{render:Ti,staticRenderFns:[]}:{},Wi=void 0===Oi?{}:Oi,zi=void 0,Ni=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Vi=("function"==typeof Wi?Wi.options:Wi)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/video.vue",Vi.render||(Vi.render=Pi.render,Vi.staticRenderFns=Pi.staticRenderFns,Vi._compiled=!0,Ni&&(Vi.functional=!0)),Vi._scopeId=zi,Vi),Mi={props:{mediaUid:{type:String,default:"default"}},data:function(){return{mousedown:!1}},computed:{properties:function(){return this.$store.state.medias.properties[this.mediaUid]||{}},timeCurrent:function(){return this.properties.timeCurrent||0},timeTotal:function(){return this.properties.timeTotal||0},playButton:function(){return this.properties.isPlaying?"❚ ❚":"►"},isLoaded:function(){return this.properties.isLoaded||!1},progressBarWidth:function(){return this.timeTotal?this.timeCurrent/this.timeTotal*100+"%":0}},methods:{mediaToggle:function(){this.properties.isPlaying?this.$store.commit("medias/pause",{uid:this.mediaUid}):this.$store.commit("medias/play",{uid:this.mediaUid})},progressMousemove:function(t){var n;n=t.clientX-this.$refs.progress.offsetLeft<0?0:t.clientX>this.$refs.progress.offsetLeft+this.$refs.progress.offsetWidth?1:(t.clientX-this.$refs.progress.offsetLeft)/this.$refs.progress.offsetWidth,this.seek(n,!1)},progressMousedown:function(t){document.addEventListener("mousemove",this.progressMousemove),document.addEventListener("mouseup",this.progressMouseup),this.progressMousemove(t)},progressMouseup:function(){document.removeEventListener("mousemove",this.progressMousemove),document.removeEventListener("mouseup",this.progressMouseup)},seek:function(t,n,e){this.properties.isLoaded&&this.$store.dispatch("medias/seek",{ratio:t,serverRequest:n,uid:this.mediaUid})},msToMinutesAndSeconds:function(t){var n=t%6e4/1e3;return Math.floor(t/6e4)+":"+(n<10?"0":"")+n.toFixed(0)}}},Bi=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"mediacontroller mb"},[e("div",{staticClass:"mediacontroller-controls clearfix pb-s"},[e("button",{ref:"button",staticClass:"mediacontroller-button btn-alt",attrs:{disabled:!n.isLoaded},on:{click:n.mediaToggle}},[n._v(n._s(n.playButton))]),n._v(" "),e("div",{ref:"counter",staticClass:"mediacontroller-counter"},[n._v(n._s(n.msToMinutesAndSeconds(n.timeCurrent))+" / "+n._s(n.msToMinutesAndSeconds(n.timeTotal))+"\n    ")])]),n._v(" "),e("div",{ref:"progress",staticClass:"mediacontroller-progress",class:{loaded:n.isLoaded},on:{mousedown:function(t){n.progressMousedown(t)}}},[e("div",{staticClass:"pointer-none full-y bg-bg"},[e("div",{staticClass:"mediacontroller-progress-bar",style:{width:n.progressBarWidth}})])])])};Bi._withStripped=!0;var Di,Hi,qi,Xi,Ji,Yi=(Di=void 0!==Bi?{render:Bi,staticRenderFns:[]}:{},Hi=void 0===Mi?{}:Mi,qi=void 0,Xi=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Ji=("function"==typeof Hi?Hi.options:Hi)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/controller.vue",Ji.render||(Ji.render=Di.render,Ji.staticRenderFns=Di.staticRenderFns,Ji._compiled=!0,Xi&&(Ji.functional=!0)),Ji._scopeId=qi,Ji),Ki={name:"CamomileLayers",props:{uid:{type:String,default:"default"},corpusUid:{type:String,default:"default"}},created:function(){this.$store.commit("layers/register",{uid:this.uid,corpuUid:this.corpusUid})}},Zi=function(){var t=this.$createElement;return(this._self._c||t)("span")};Zi._withStripped=!0;var Qi,tr,nr,er,ir,rr=(Qi=void 0!==Zi?{render:Zi,staticRenderFns:[]}:{},tr=void 0===Ki?{}:Ki,nr=void 0,er=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ir=("function"==typeof tr?tr.options:tr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/index.vue",ir.render||(ir.render=Qi.render,ir.staticRenderFns=Qi.staticRenderFns,ir._compiled=!0,er&&(ir.functional=!0)),ir._scopeId=nr,ir),or={name:"CamomileLayersList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:kt},popupAddConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:kt},popupRemoveConfig:{type:"layers",closeBtn:!0,title:"Remove layer",component:Fn}}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},layersActive:function(){return this.$store.state.layers.actives[this.uid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)},corpus:function(){return this.$store.state.corpus.lists[this.corpuUid]},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},layerNew:function(){return{id:null,corpuId:this.corpuId,description:{},metadataType:this.layersActive.metadataType,fragmentType:this.layersActive.fragmentType}},popupPermissionsConfig:function(){return{type:"layers",closeBtn:!0,title:"Layer permissions",component:je,uid:this.corpuUid}}},methods:{popupOpen:function(t){var n=t.config,e=t.element;return this.$store.commit("popup/open",{config:n,element:e})},set:function(t){t.target.checked?this.$store.dispatch("layers/set",{id:t.target.value,uid:this.uid}):this.$store.dispatch("layers/unset",{id:t.target.value,uid:this.uid})}}},sr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[e._v("Layers")]),e._v(" "),3===e.corpuPermission?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){e.popupOpen({config:e.popupAddConfig,element:e.layerNew})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):e._e()]),e._v(" "),e.layers&&0<e.layers.length?i("table",{staticClass:"table mb-0"},[e._m(0),e._v(" "),e._l(e.layers,function(n){return i("tr",{key:n.id},[i("td",[i("input",{attrs:{type:"checkbox"},domProps:{value:n.id,checked:-1!==e.activeIds.indexOf(n.id)},on:{change:e.set}})]),e._v(" "),i("td",[e._v(e._s(n.name))]),e._v(" "),i("td",{staticClass:"text-right"},[3===n.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupPermissionsConfig,element:n})}}},[e._v("Permissions")]):e._e(),e._v(" "),3===n.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupEditConfig,element:n})}}},[e._v("Edit")]):e._e(),e._v(" "),3===n.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupRemoveConfig,element:n})}}},[e._v("Remove")]):e._e()])])})],2):e._e()])};sr._withStripped=!0;var ar,dr,cr,ur,lr,pr=(ar=void 0!==sr?{render:sr,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th"),n("th",[this._v("Name")]),n("th")])}]}:{},dr=void 0===or?{}:or,cr=void 0,ur=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(lr=("function"==typeof dr?dr.options:dr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/list.vue",lr.render||(lr.render=ar.render,lr.staticRenderFns=ar.staticRenderFns,lr._compiled=!0,ur&&(lr.functional=!0)),lr._scopeId=cr,lr),mr={name:"CamomileLayersSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)}},methods:{set:function(t){t.target.checked?this.$store.dispatch("layers/set",{id:t.target.value,uid:this.uid}):this.$store.dispatch("layers/unset",{id:t.target.value,uid:this.uid})}}},gr=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"p bg-bg mb"},[e("h2",{staticClass:"mt-xs"},[n._v("Layers")]),n._v(" "),n.layers&&0<n.layers.length?e("table",{staticClass:"table mb-0"},[n._m(0),n._v(" "),n._l(n.layers,function(t){return e("tr",{key:t.id},[e("td",[e("input",{attrs:{type:"checkbox"},domProps:{value:t.id,checked:-1!==n.activeIds.indexOf(t.id)},on:{change:n.set}})]),n._v(" "),e("td",[n._v("\n        "+n._s(t.name)+"\n      ")])])})],2):n._e()])};gr._withStripped=!0;var fr,hr,vr,br,_r,yr=(fr=void 0!==gr?{render:gr,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th"),n("th",[this._v("Name")]),n("th")])}]}:{},hr=void 0===mr?{}:mr,vr=void 0,br=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(_r=("function"==typeof hr?hr.options:hr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/list-simple.vue",_r.render||(_r.render=fr.render,_r.staticRenderFns=fr.staticRenderFns,_r._compiled=!0,br&&(_r.functional=!0)),_r._scopeId=vr,_r),xr={name:"CamomileLayersSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)}},watch:{layers:function(t,n){n||this.set(t[0])}},methods:{set:function(t){var n=this;this.layers.forEach(function(t){return n.$store.dispatch("layers/unset",{id:t.id,uid:n.uid})}),this.$store.dispatch("layers/set",{id:t.id,uid:this.uid})},setTarget:function(t){this.set({id:t.target.value})}}},kr=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"p bg-bg mb"},[e("h2",{staticClass:"mt-xs"},[n._v("Layers")]),n._v(" "),n.layers&&0<n.layers.length?e("select",{on:{change:n.setTarget}},n._l(n.layers,function(t){return e("option",{key:t.id,domProps:{value:t.id,selected:-1!==n.activeIds.indexOf(t.id)}},[n._v("\n      "+n._s(t.name)+"\n    ")])})):n._e()])};kr._withStripped=!0;var wr,Cr,$r,Rr,Sr,Ur=(wr=void 0!==kr?{render:kr,staticRenderFns:[]}:{},Cr=void 0===xr?{}:xr,$r=void 0,Rr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Sr=("function"==typeof Cr?Cr.options:Cr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/select.vue",Sr.render||(Sr.render=wr.render,Sr.staticRenderFns=wr.staticRenderFns,Sr._compiled=!0,Rr&&(Sr.functional=!0)),Sr._scopeId=$r,Sr),Ir={name:"CamomileLayers",props:{uid:{type:String,default:"default"}},data:function(){return{popupAddConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:kt}}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},layersActive:function(){return this.$store.state.layers.actives[this.uid]},layerNew:function(){return{id:null,corpuId:this.corpuId,description:{},metadataType:this.layersActive.metadataType,fragmentType:this.layersActive.fragmentType}}},methods:{popupOpen:function(t){var n=t.config,e=t.element;return this.$store.commit("popup/open",{config:n,element:e})}}},Er=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"p bg-bg mb"},[e("h2",[n._v("Layers")]),n._v(" "),3===n.corpuPermission?e("button",{staticClass:"btn px-s py-xs",on:{click:function(t){n.popupOpen({config:n.popupAddConfig,element:n.layerNew})}}},[e("i",{staticClass:"icon-24 icon-24-plus"})]):n._e()])};Er._withStripped=!0;var Fr,jr,Lr,Ar,Or,Tr=(Fr=void 0!==Er?{render:Er,staticRenderFns:[]}:{},jr=void 0===Ir?{}:Ir,Lr=void 0,Ar=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Or=("function"==typeof jr?jr.options:jr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/add.vue",Or.render||(Or.render=Fr.render,Or.staticRenderFns=Fr.staticRenderFns,Or._compiled=!0,Ar&&(Or.functional=!0)),Or._scopeId=Lr,Or),Pr={name:"CamomileAnnotations",props:{mediaUid:{type:String,default:"default"},layersUid:{type:String,default:"default"},uid:{type:String,default:"default"}},created:function(){this.$store.commit("annotations/register",{uid:this.uid,mediaUid:this.mediaUid,layersUid:this.layersUid})}},Wr=function(){var t=this.$createElement;return(this._self._c||t)("span")};Wr._withStripped=!0;var zr,Nr,Vr,Gr,Mr,Br=(zr=void 0!==Wr?{render:Wr,staticRenderFns:[]}:{},Nr=void 0===Pr?{}:Pr,Vr=void 0,Gr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Mr=("function"==typeof Nr?Nr.options:Nr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/index.vue",Mr.render||(Mr.render=zr.render,Mr.staticRenderFns=zr.staticRenderFns,Mr._compiled=!0,Gr&&(Mr.functional=!0)),Mr._scopeId=Vr,Mr),Dr={name:"CamomileAnnotations",props:{uid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!0},layerPermission:{type:Number,default:0},mediaName:{type:String,default:"hash"},mediaId:{type:String,default:"hash"},activeId:{type:String,default:"hash"}},data:function(){return{popupEditConfig:{type:"annotations",closeBtn:!0,title:"Edit annotation",component:kt},popupRemoveConfig:{type:"annotations",closeBtn:!0,title:"Remove annotation",component:Fn}}},methods:{popupOpen:function(t){var n=t.config,e=t.element;return this.$store.commit("popup/open",{config:n,element:e})},set:function(t){t.target.checked?this.$store.commit("annotations/set",{id:t.target.value,uid:this.uid}):this.$store.commit("annotations/unset",{id:t.target.value,uid:this.uid})}}},Hr=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("tr",{class:{"bg-alt":n.disabled}},[e("td",[e("input",{attrs:{disabled:n.disabled,type:"radio"},domProps:{value:n.annotation.id,checked:n.activeId&&n.activeId===n.annotation.id},on:{change:function(t){n.set(t)}}})]),n._v(" "),e("td",[e("span",{staticClass:"h6 bold bg-neutral color-bg py-xxs px-xs rnd"},[n._v("…"+n._s(n._f("stringEnd")(n.annotation.id)))])]),n._v(" "),e("td",[n._v(n._s(n.mediaName))]),n._v(" "),e("td",{staticClass:"text-right"},[3===n.layerPermission?e("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupEditConfig,element:n.annotation})}}},[n._v("Edit")]):n._e(),n._v(" "),3===n.layerPermission?e("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupRemoveConfig,element:n.annotation})}}},[n._v("Remove")]):n._e()])])};Hr._withStripped=!0;var qr,Xr,Jr,Yr,Kr,Zr={name:"CamomileLayers",components:{annotationsLayerDetail:(qr=void 0!==Hr?{render:Hr,staticRenderFns:[]}:{},Xr=void 0===Dr?{}:Dr,Jr=void 0,Yr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Kr=("function"==typeof Xr?Xr.options:Xr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/list/layer-annotation.vue",Kr.render||(Kr.render=qr.render,Kr.staticRenderFns=qr.staticRenderFns,Kr._compiled=!0,Yr&&(Kr.functional=!0)),Kr._scopeId=Jr,Kr)},props:{uid:{type:String,default:"default"},layer:{type:Object,default:function(){return{}}},annotations:{type:Array,default:function(){return[]}},annotationsFiltered:{type:Array,default:function(){return[]}},activeId:{type:String,default:"hash"},mediaId:{type:String,default:"hash"},mediaName:{type:String,default:"hash"}},data:function(){return{popupAddConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:kt}}},methods:{popupOpen:function(t){var n=t.config,e=t.element;return this.$store.commit("popup/open",{config:n,element:e})},set:function(t,n){t.target.checked?this.$store.commit("annotations/set",{id:t.target.value,uid:this.uid}):this.$store.commit("annotations/unset",{id:t.target.value,uid:this.uid})}}},Qr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-s"},[e._v(e._s(e.layer.name))]),e._v(" "),3===e.layer.permission?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){e.popupOpen({config:e.popupAddConfig,element:{id:null,layerId:e.layer.id,mediaId:e.mediaId,fragment:e.layer.fragmentType,metadata:e.layer.metadataType}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):e._e()]),e._v(" "),i("table",{staticClass:"table mb-0"},[e._m(0),e._v(" "),e._l(e.annotations,function(n){return i("annotations-layer-detail",{key:n.id,attrs:{annotation:n,disabled:-1===e.annotationsFiltered.findIndex(function(t){return t.id===n.id}),uid:e.uid,"layer-permission":e.layer.permission,"media-name":e.mediaName,"media-id":e.mediaId,"active-id":e.activeId}})})],2)])};Qr._withStripped=!0;var to,no,eo,io,ro,oo={name:"CamomileAnnotationsList",components:{annotationsLayer:(to=void 0!==Qr?{render:Qr,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th"),n("th",[this._v("Id")]),n("th",[this._v("Medium")]),n("th")])}]}:{},no=void 0===Zr?{}:Zr,eo=void 0,io=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ro=("function"==typeof no?no.options:no)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/list/layer.vue",ro.render||(ro.render=to.render,ro.staticRenderFns=to.staticRenderFns,ro._compiled=!0,io&&(ro.functional=!0)),ro._scopeId=eo,ro)},props:{uid:{type:String,default:"default"}},computed:{annotations:function(){return this.$store.getters["annotations/lists"](this.uid)},annotationsFiltered:function(){return this.$store.getters["annotations/filtered"](this.uid)},activeId:function(){return this.$store.state.annotations.actives[this.uid]||null},mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)},mediaId:function(){return this.$store.state.medias.actives[this.mediaUid].id},mediaName:function(){var t=this.$store.getters["medias/active"](this.mediaUid);return t?t.name:""}}},so=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"p bg-bg mb"},[n._m(0),n._v(" "),n._l(n.layers,function(t){return n.annotations[t.id]?e("annotations-layer",{key:t.id,staticClass:"mt",attrs:{layer:t,annotations:n.annotations[t.id],"annotations-filtered":n.annotationsFiltered[t.id],"active-id":n.activeId,"media-id":n.mediaId,"media-name":n.mediaName}}):n._e()})],2)};so._withStripped=!0;var ao,co,uo,lo,po,mo=(ao=void 0!==so?{render:so,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"flex flex-start"},[n("h2",{staticClass:"mt-xs"},[this._v("Annotations")])])}]}:{},co=void 0===oo?{}:oo,uo=void 0,lo=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(po=("function"==typeof co?co.options:co)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/list.vue",po.render||(po.render=ao.render,po.staticRenderFns=ao.staticRenderFns,po._compiled=!0,lo&&(po.functional=!0)),po._scopeId=uo,po),go={name:"CamomileAnnotationsPopupEdit",data:function(){return{error:null}},computed:Object.assign({},t.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type},rolesPermission:function(t){return t.user.id!==t.popup.element.id}})),created:function(){document.addEventListener("keyup",this.keyup)},mounted:function(){this.$refs.label.focus()},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{save:function(){""!==this.element.metadata.label?(this.$store.dispatch("annotations/add",{element:this.element}),this.$store.commit("popup/close")):this.error="Fill in the label."},keyup:function(t){13===(t.which||t.keyCode)&&this.save()}}},fo=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"tablet-blobs"},[n._m(0),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.element.metadata.label,expression:"element.metadata.label"}],ref:"label",staticClass:"mb",attrs:{type:"text",placeholder:"Label"},domProps:{value:n.element.metadata.label},on:{input:function(t){t.target.composing||n.$set(n.element.metadata,"label",t.target.value)}}})])]),n._v(" "),e("div",{staticClass:"tablet-blobs"},[e("div",{staticClass:"tablet-blob-1-4"}),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("button",{staticClass:"btn-alt p-s full-x mb",attrs:{disabled:!n.element.name&&"annotations"!==n.type},on:{click:n.save,keyup:function(t){return"button"in t||!n._k(t.keyCode,"enter",13,t.key,"Enter")?n.save(t):null}}},[n._v("Save")]),n._v(" "),n.error?e("div",{staticClass:"p-s bg-error color-bg italic mt mb"},[n._v(n._s(n.error))]):n._e()])])])};fo._withStripped=!0;var ho,vo,bo,_o,yo,xo=(ho=void 0!==fo?{render:fo,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tablet-blob-1-4"},[n("h4",{staticClass:"pt-s"},[this._v("Label")])])}]}:{},vo=void 0===go?{}:go,bo=void 0,_o=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(yo=("function"==typeof vo?vo.options:vo)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/annotation-label.vue",yo.render||(yo.render=ho.render,yo.staticRenderFns=ho.staticRenderFns,yo._compiled=!0,_o&&(yo.functional=!0)),yo._scopeId=bo,yo),ko={props:{layerId:{type:String,default:"layerIdHash"},layerName:{type:String,default:""},mediaId:{type:String,default:"mediaIdHash"},annotations:{type:Array,default:function(){return[]}},fragmentType:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0}},data:function(){return{popupAnnotationLabelConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:xo}}},methods:{popupAnnotationLabelOpen:function(){var t={id:null,layerId:this.layerId,mediaId:this.mediaId,fragment:this.fragmentTypeFormat(this.fragmentType),metadata:{label:""}};return this.$store.commit("popup/open",{config:this.popupAnnotationLabelConfig,element:t})},fragmentTypeFormat:function(t){return t.time||(t.time={}),t.time.start=this.timeCurrent,t.time.end=this.timeCurrent+this.timeTotal/10,t}}},wo=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("button",{staticClass:"btn px-s py-s mr-s h5 full-x flex",on:{click:t.popupAnnotationLabelOpen}},[t._v("\n  "+t._s(t.layerName)+"\n  "),e("i",{staticClass:"icon-24 icon-24-plus mr-xs flex-right"})])};wo._withStripped=!0;var Co,$o,Ro,So,Uo,Io={components:{annotationButton:(Co=void 0!==wo?{render:wo,staticRenderFns:[]}:{},$o=void 0===ko?{}:ko,Ro=void 0,So=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Uo=("function"==typeof $o?$o.options:$o)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/buttons/button.vue",Uo.render||(Uo.render=Co.render,Uo.staticRenderFns=Co.staticRenderFns,Uo._compiled=!0,So&&(Uo.functional=!0)),Uo._scopeId=Ro,Uo)},props:{uid:{type:String,default:"default"}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.getters["medias/properties"](this.mediaUid)},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/lists"](this.uid)},mediaId:function(){return this.$store.state.medias.actives[this.mediaUid].id},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)}},methods:{resize:function(){}}},Eo=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"p bg-bg mb"},[e("h2",[n._v("Layers")]),n._v(" "),n._l(n.layers,function(t){return n.annotations[t.id]&&3===t.permission?e("annotation-button",{key:"annotation-button-"+t.id,attrs:{"layer-id":t.id,"layer-name":t.name,"media-id":n.mediaId,"time-current":n.timeCurrent,"time-total":n.timeTotal,"fragment-type":t.fragmentType}}):n._e()})],2)};Eo._withStripped=!0;var Fo,jo,Lo,Ao,Oo,To=(Fo=void 0!==Eo?{render:Eo,staticRenderFns:[]}:{},jo=void 0===Io?{}:Io,Lo=void 0,Ao=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Oo=("function"==typeof jo?jo.options:jo)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/buttons.vue",Oo.render||(Oo.render=Fo.render,Oo.staticRenderFns=Fo.staticRenderFns,Oo._compiled=!0,Ao&&(Oo.functional=!0)),Oo._scopeId=Lo,Oo),Po={props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},fragmentType:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},containerWidth:{type:Number,default:0},containerLeft:{type:Number,default:0}},data:function(){return{leftDragging:null,rightDragging:null,handleWidth:32,popupAnnotationLabelConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:xo}}},computed:{time:function(){return this.annotation.fragment.time},left:function(){return null!==this.leftDragging?this.leftDragging:this.time.start*this.containerWidth/this.timeTotal},right:function(){return null!==this.rightDragging?this.rightDragging:(this.timeTotal-this.time.end)*this.containerWidth/this.timeTotal}},methods:{timeUpdate:function(t,n){var e=Object.assign({},this.annotation);return e.fragment.time[n]=t,this.$store.dispatch("annotations/update",{element:e})},dragLeftOn:function(t){document.addEventListener("mousemove",this.dragLeft),document.addEventListener("mouseup",this.dragLeftOff)},dragLeftOff:function(t){document.removeEventListener("mousemove",this.dragLeft),document.removeEventListener("mouseup",this.dragLeftOff);var n=Math.round(this.$refs.annotation.offsetLeft*this.timeTotal/this.containerWidth);this.timeUpdate(n,"start"),this.leftDragging=null},dragLeft:function(t){var n=t.clientX-this.containerLeft+this.handleWidth/2;n<0?this.leftDragging=0:n>this.containerWidth-this.right?this.leftDragging=this.containerWidth-this.right:this.leftDragging=n},dragRightOn:function(t){document.addEventListener("mousemove",this.dragRight),document.addEventListener("mouseup",this.dragRightOff)},dragRightOff:function(t){document.removeEventListener("mousemove",this.dragRight),document.removeEventListener("mouseup",this.dragRightOff);var n=Math.round((this.$refs.annotation.offsetLeft+this.$refs.annotation.offsetWidth)*this.timeTotal/this.containerWidth);this.timeUpdate(n,"end"),this.rightDragging=null},dragRight:function(t){var n=this.containerWidth+this.containerLeft-t.clientX+this.handleWidth/2;this.rightDragging=0<n?n:0},set:function(t){this.$store.commit("annotations/set",{id:this.annotation.id,uid:this.uid})},popupAnotationLabelOpen:function(){var t=this.annotation;return this.$store.commit("popup/open",{config:this.popupAnnotationLabelConfig,element:t})},fragmentTypeFormat:function(t){return t.time||(t.time={}),t.time.start=this.timeCurrent,t.time.end=this.timeCurrent+25e3,t}}},Wo=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{ref:"annotation",style:{left:n.left+"px",right:n.right+"px"}},[e("div",{staticClass:"relative full-y",on:{mousedown:function(t){n.set(t)},dblclick:n.popupAnotationLabelOpen}},[e("div",{staticClass:"absolute handle handle-left",on:{mousedown:function(t){n.dragLeftOn(t)}}}),n._v(" "),e("div",{staticClass:"absolute handle handle-right",on:{mousedown:function(t){n.dragRightOn(t)}}})])])};Wo._withStripped=!0;var zo,No,Vo,Go,Mo,Bo={components:{annotationsBloc:(zo=void 0!==Wo?{render:Wo,staticRenderFns:[]}:{},No=void 0===Po?{}:Po,Vo=void 0,Go=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Mo=("function"==typeof No?No.options:No)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/timeline/annotations-bloc.vue",Mo.render||(Mo.render=zo.render,Mo.staticRenderFns=zo.staticRenderFns,Mo._compiled=!0,Go&&(Mo.functional=!0)),Mo._scopeId=Vo,Mo)},props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},layerId:{type:String,default:"layerIdHash"},annotations:{type:Array,default:function(){return[]}},timeTotal:{type:Number,default:0},width:{type:Number,default:0},left:{type:Number,default:0}},computed:{activeId:function(){return this.$store.state.annotations.actives[this.uid]}}},Do=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",n._l(n.annotations,function(t){return e("annotations-bloc",{key:t.id,staticClass:"absolute annotation",class:{active:t.id===n.activeId},attrs:{annotation:t,uid:n.uid,"layers-uid":n.layersUid,"layer-id":n.layerId,"time-total":n.timeTotal,"container-width":n.width,"container-left":n.left}})}))};Do._withStripped=!0;var Ho,qo,Xo,Jo,Yo,Ko={components:{timelineAnnotations:(Ho=void 0!==Do?{render:Do,staticRenderFns:[]}:{},qo=void 0===Bo?{}:Bo,Xo=void 0,Jo=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Yo=("function"==typeof qo?qo.options:qo)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/timeline/annotations.vue",Yo.render||(Yo.render=Ho.render,Yo.staticRenderFns=Ho.staticRenderFns,Yo._compiled=!0,Jo&&(Yo.functional=!0)),Yo._scopeId=Xo,Yo)},props:{uid:{type:String,default:"default"}},data:function(){return{width:3e3,containerWidth:0,containerLeft:0,fragmentType:{time:{start:0,end:0}},metadataType:{label:""}}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.getters["medias/properties"](this.mediaUid)},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/filtered"](this.uid)},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)},left:function(){return this.containerWidth/2-this.timeCurrent/this.timeTotal*this.width}},created:function(){this.$store.commit("annotations/filterRegister",{uid:this.uid,filter:this.filter}),this.$store.commit("layers/typesRegister",{uid:this.layersUid,fragmentType:this.fragmentType,metadataType:this.metadataType})},mounted:function(){window.addEventListener("resize",this.resize),this.containerWidth=this.$refs.container.offsetWidth,this.containerLeft=this.$refs.container.offsetLeft},methods:{filter:function(t){return t.fragment&&t.fragment.time&&!isNaN(t.fragment.time.start)&&!isNaN(t.fragment.time.end)&&t},resize:function(){}}},Zo=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{ref:"container",staticClass:"p bg-bg mb"},[e("h2",[n._v("Timeline")]),n._v(" "),n.layers?e("div",{staticClass:"relative overflow-hidden",style:{height:48*n.layers.length+"px"}},[e("div",{staticClass:"absolute timeline-cursor"}),n._v(" "),e("div",{staticClass:"absolute timeline-annotations",style:{top:0,bottom:0,left:n.left+"px",width:n.width+"px"}},n._l(n.layers,function(t){return n.annotations[t.id]?e("timeline-annotations",{key:"annotations-"+t.id,staticClass:"relative",style:{height:"48px"},attrs:{uid:n.uid,"layers-uid":n.layersUid,"layer-id":t.id,annotations:n.annotations[t.id],"time-total":n.timeTotal,width:n.width,left:n.left+n.containerLeft,"fragment-type":t.fragmentType}}):n._e()}))]):n._e()])};Zo._withStripped=!0;var Qo,ts,ns,es,is,rs=(Qo=void 0!==Zo?{render:Zo,staticRenderFns:[]}:{},ts=void 0===Ko?{}:Ko,ns=void 0,es=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(is=("function"==typeof ts?ts.options:ts)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/timeline.vue",is.render||(is.render=Qo.render,is.staticRenderFns=Qo.staticRenderFns,is._compiled=!0,es&&(is.functional=!0)),is._scopeId=ns,is),os={props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"annotations",closeBtn:!0,title:"Edit annotation",component:kt},popupRemoveConfig:{type:"annotations",closeBtn:!0,title:"Remove annotation",component:Fn},layerPermission:3}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},annotation:function(){return this.$store.getters["annotations/active"](this.uid)},layer:function(){return this.annotation?this.$store.getters["layers/details"](this.layersUid,this.annotation.layerId):{}}},methods:{popupEditOpen:function(){return this.$store.commit("popup/open",{config:this.popupEditConfig,element:this.annotation})},popupRemoveOpen:function(){return this.$store.commit("popup/open",{config:this.popupRemoveConfig,element:this.annotation})}}},ss=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"p bg-bg mb"},[e("h2",[t._v("Annotation")]),t._v(" "),e("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t.annotation?e("tr",[e("td",[t._v(t._s(t.annotation.metadata.label))]),t._v(" "),e("td",[e("span",{staticClass:"h6 bold bg-neutral color-bg py-xxs px-xs rnd mt-xxs"},[t._v("…"+t._s(t._f("stringEnd")(t.annotation.id)))])]),t._v(" "),e("td",{staticClass:"text-right"},[3===t.layer.permission?e("button",{staticClass:"btn-border p-s my--s h6",on:{click:t.popupEditOpen}},[t._v("Edit")]):t._e(),t._v(" "),3===t.layer.permission?e("button",{staticClass:"btn-border p-s my--s h6",on:{click:t.popupRemoveOpen}},[t._v("Remove")]):t._e()])]):t._e()])])};ss._withStripped=!0;var as,ds,cs,us,ls,ps=(as=void 0!==ss?{render:ss,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("tr",[n("th",[this._v("Label")]),n("th",[this._v("ID")]),n("th")])}]}:{},ds=void 0===os?{}:os,cs=void 0,us=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ls=("function"==typeof ds?ds.options:ds)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/edit.vue",ls.render||(ls.render=as.render,ls.staticRenderFns=as.staticRenderFns,ls._compiled=!0,us&&(ls.functional=!0)),ls._scopeId=cs,ls),ms={props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0},containerWidth:{type:Number,default:0}},data:function(){return{leftDragging:null,topDragging:null,rightDragging:null,bottomDragging:null,handleWidth:32}},computed:{timeStart:function(){return this.annotation.fragment.time.start},timeEnd:function(){return this.annotation.fragment.time.end},positionIndex:function(){var n=this;return this.annotation.fragment.positions.slice().reverse().findIndex(function(t){return t.time<=n.timeCurrent})},visible:function(){return-1!==this.positionIndex&&this.timeStart<=this.timeCurrent&&this.timeEnd>=this.timeCurrent},position:function(){return this.annotation.fragment.positions[this.positionIndex]},left:function(){if(this.visible)return null!==this.leftDragging?this.leftDragging:this.position.left},top:function(){if(this.visible)return null!==this.topDragging?this.topDragging:this.position.top},width:function(){if(this.visible)return null!==this.bottomDragging?this.bottomDragging:this.position.width},height:function(){if(this.visible)return null!==this.bottomDragging?this.bottomDragging:this.position.height}},methods:{positionUpdate:function(t){var n=Object.assign({},this.annotation);return t.forEach(function(t){return n.fragment.position[t.type]=t.value}),this.$store.dispatch("annotations/update",{element:n})},dragTopleftOn:function(t){document.addEventListener("mousemove",this.dragTopleft),document.addEventListener("mouseup",this.dragTopleftOff)},dragTopleftOff:function(t){document.removeEventListener("mousemove",this.dragTopleft),document.removeEventListener("mouseup",this.dragTopleftOff);var n=[{type:"top",value:this.$refs.annotation.offsetTop},{type:"top",value:this.$refs.annotation.offsetLeft}];this.positionUpdate(n),this.topleftDragging=null},dragTopleft:function(t){var n=t.clientX-this.containerLeft+this.handleWidth/2;n<0?this.topDragging=0:n>this.containerWidth-this.right?this.topDragging=this.containerWidth-this.right:this.topDragging=n},dragBottomrightOn:function(t){document.addEventListener("mousemove",this.dragRight),document.addEventListener("mouseup",this.dragRightOff)},dragRightOff:function(t){document.removeEventListener("mousemove",this.dragRight),document.removeEventListener("mouseup",this.dragRightOff);var n=Math.round((this.$refs.annotation.offsetLeft+this.$refs.annotation.offsetWidth)*this.timeTotal/this.containerWidth);this.positionUpdate(n,"end"),this.bottomDragging=null},dragRight:function(t){var n=this.containerWidth+this.containerLeft-t.clientX+this.handleWidth/2;this.bottomDragging=0<n?n:0},set:function(t){this.$store.commit("annotations/set",{id:this.annotation.id,uid:this.uid})}}},gs=function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.visible?e("div",{ref:"annotation",style:{left:n.left+"%",top:n.top+"%",width:n.width+"%",height:n.height+"%"}},[e("div",{staticClass:"relative full-y",on:{mousedown:function(t){n.set(t)}}},[e("div",{staticClass:"absolute handle handle-topleft",on:{mousedown:function(t){n.dragTopleftOn(t)}}}),n._v(" "),e("div",{staticClass:"absolute handle handle-bottomright",on:{mousedown:function(t){n.dragBottomrightOn(t)}}})])]):n._e()};gs._withStripped=!0;var fs,hs,vs,bs,_s,ys={components:{annotationsBloc:(fs=void 0!==gs?{render:gs,staticRenderFns:[]}:{},hs=void 0===ms?{}:ms,vs=void 0,bs=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(_s=("function"==typeof hs?hs.options:hs)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/zoning/annotations-bloc.vue",_s.render||(_s.render=fs.render,_s.staticRenderFns=fs.staticRenderFns,_s._compiled=!0,bs&&(_s.functional=!0)),_s._scopeId=vs,_s)},props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotations:{type:Array,default:function(){return[]}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0}},data:function(){return{containerWidth:0,containerHeight:0}},computed:{activeId:function(){return this.$store.state.annotations.actives[this.uid]}},mounted:function(){window.addEventListener("resize",this.resize),this.containerWidth=this.$refs.container.offsetWidth,this.containerHeight=this.$refs.container.offsetHeight},methods:{resize:function(){}}},xs=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{ref:"container"},n._l(n.annotations,function(t){return e("annotations-bloc",{key:t.id,staticClass:"absolute annotation",style:{zIndex:t.id===n.activeId?1:0},attrs:{annotation:t,uid:n.uid,"layers-uid":n.layersUid,"time-total":n.timeTotal,"time-current":n.timeCurrent,"container-width":n.containerWidth,"container-height":n.containerHeight}})}))};xs._withStripped=!0;var ks,ws,Cs,$s,Rs,Ss,Us,Is,Es,Fs,js={components:{zoningAnnotations:(ks=void 0!==xs?{render:xs,staticRenderFns:[]}:{},ws=void 0===ys?{}:ys,Cs=void 0,$s=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Rs=("function"==typeof ws?ws.options:ws)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/zoning/annotations.vue",Rs.render||(Rs.render=ks.render,Rs.staticRenderFns=ks.staticRenderFns,Rs._compiled=!0,$s&&(Rs.functional=!0)),Rs._scopeId=Cs,Rs)},props:{uid:{type:String,default:"default"}},data:function(){return{fragmentType:{positions:[{left:.25,width:.5,time:0,top:.25,height:.5}]}}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.state.medias.properties[this.mediaUid]||{}},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/filter"](this.uid,this.filter)},layers:function(){var t=this.$store.state.layers.actives[this.layersUid];return t?this.$store.state.layers.lists[t.corpuUid]:[]}},created:function(){this.$store.commit("annotations/filterRegister",{uid:this.uid,filter:this.filter}),this.$store.commit("layers/typesRegister",{uid:this.layersUid,fragmentType:this.fragmentType,metadataType:this.metadataType})},methods:{filter:function(t){return t.fragment&&t.fragment.time&&!isNaN(t.fragment.time.start)&&!isNaN(t.fragment.time.end)&&t.fragment.positions&&t.fragment.positions instanceof Array&&t}}},Ls=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{ref:"container",staticClass:"relative full-y mb"},[n._l(n.layers,function(t){return n.annotations[t.id]?e("zoning-annotations",{key:"annotations-"+t.id,staticClass:"absolute full",attrs:{uid:n.uid,"layers-uid":n.layersUid,"layer-id":t.id,annotations:n.annotations[t.id],"time-total":n.timeTotal,"time-current":n.timeCurrent}}):n._e()}),n._v(" "),n._t("default",null,{mediaUid:n.mediaUid})],2)};Ls._withStripped=!0;return{App:wn,AdminUsers:qn,AdminGroups:ce,Corpus:ve,CorpusList:Ne,CorpusSelect:Xe,Medias:ei,MediasList:ui,MediasSelect:bi,MediasYoutube:Ai,MediasVideo:Gi,MediasController:Yi,Layers:rr,LayersList:pr,LayersListSimple:yr,LayersSelect:Ur,LayersAdd:Tr,Annotations:Br,AnnotationsList:mo,AnnotationsButtons:To,AnnotationsTimeline:rs,AnnotationsEdit:ps,AnnotationsZoning:(Ss=void 0!==Ls?{render:Ls,staticRenderFns:[]}:{},Us=void 0===js?{}:js,Is=void 0,Es=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Fs=("function"==typeof Us?Us.options:Us)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/zoning.vue",Fs.render||(Fs.render=Ss.render,Fs.staticRenderFns=Ss.staticRenderFns,Fs._compiled=!0,Es&&(Fs.functional=!0)),Fs._scopeId=Is,Fs)}});
