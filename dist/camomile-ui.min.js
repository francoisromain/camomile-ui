!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue"),require("vuex"),require("camomile-client")):"function"==typeof define&&define.amd?define(["vue","vuex","camomile-client"],e):t.camomileUi=e(t.Vue,t.Vuex,t.Camomile)}(this,function(t,e,n){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var i="default"in e?e.default:e;n=n&&n.hasOwnProperty("default")?n.default:n;!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}("/* Settings        ------------------------------- */\n\n/* system.css / settings\n-------------------------------\nhttp://francoisromain.github.io/postcss-structure\n*/\n\n:root {\n  /* Colors        ------------------------------- */\n  --color-text: #666;\n  --color-bg: white;\n  --color-transparent: rgba(248, 247, 243, 0);\n  --color-inverse: #3d3d35;\n  --color-neutral: #bcb9af;\n  --color-alt: #f8f7f3;\n  --color-highlight: #f50;\n  --color-brand: rgb(0, 162, 255);\n  --color-error: #e82239;\n  --color-warning: #ff891c;\n  --color-info: #5798aa;\n  --color-success: #6ea040;\n\n  /* Base units    ------------------------------- */\n\n  /* font-size: 1rem = 16 px */\n  --base-font-size: 16px;\n  --base-font-size: 1rem;\n\n  /* base: 1.5rem = 24 px */\n  --unit: 24px;\n  --unit: 1.5rem;\n\n  /* line: 0.0625rem = 1px */\n  --unit-line: 1px;\n  --unit-line: 0.0625rem;\n  --unit-line: calc(var(--unit) / 24);\n\n  /* xxs: 0.1875rem = 3px */\n  --unit-xxs: 3px;\n  --unit-xxs: 0.1875rem;\n  --unit-xxs: calc(var(--unit) / 8);\n\n  /* xs: 0.375rem = 6px */\n  --unit-xs: 6px;\n  --unit-xs: 0.375rem;\n  --unit-xs: calc(var(--unit) / 4);\n\n  /* s: 0.75rem = 12px */\n  --unit-s: 12px;\n  --unit-s: 0.75rem;\n  --unit-s: calc(var(--unit) / 2);\n\n  /* m: 1.125rem = 18px */\n  --unit-m: 18px;\n  --unit-m: 1.125rem;\n  --unit-m: calc(var(--unit) * 3 / 4);\n\n  /* l: 2.25rem = 36 px */\n  --unit-l: 36px;\n  --unit-l: 2.25rem;\n  --unit-l: calc(var(--unit) * 3 / 2);\n\n  /* xl: 3rem = 48px */\n  --unit-xl: 48px;\n  --unit-xl: 3rem;\n  --unit-xl: calc(var(--unit) * 2);\n\n  /* xxl: 3.75rem = 60 px */\n  --unit-xxl: 60px;\n  --unit-xxl: 3.75rem;\n  --unit-xxl: calc(var(--unit) * 2.5);\n\n  /*  */\n  --unit-infinity: 9999px;\n\n  /* Lists         ------------------------------- */\n  --list-postfix: ',';\n  --list-prefix: '―';\n\n  /* Grid          ------------------------------- */\n\n  /*\n  postcss-grid-system configuration\n  https://github.com/francoisromain/postcss-grid-system#configuration\n  */\n\n  /* width of a single bloc in rem */\n  --col-width: 328px;\n  --col-width: 20.5rem;\n\n  /* width of the gutter in rem */\n  --gutter: 24px;\n  --gutter: 1.5rem;\n  --gutter: var(--unit);\n\n  /* padding of the main container in rem */\n  --container-padding: 24px;\n  --container-padding: 1.5rem;\n  --container-padding: var(--unit);\n\n  /* transition */\n  --transition: opacity 0.5s, background-color 0.5s, border 0.5s,\n    box-shadow 0.5s, fill 0.5s;\n\n  /* hr */\n  --border-style: dotted;\n  --border-color: #bcb9af;\n  --border-color: var(--color-neutral);\n  --border-width: 1px;\n  --border-width: 0.0625rem;\n  --border-width: var(--unit-line);\n}\n\n/* media queries: x * col-width + gutter */\n\n/* Reset           ------------------------------- */\n\n/*\n    Print\n-------------------------------\n\nFrom HTML5 Boilerplate\nhttps://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css\n\nBlack prints faster: http://www.sanbeiji.com/archives/953\n*/\n\n@media print {\n  *,\n  *::before,\n  *::after,\n  *::first-letter,\n  *::first-line {\n    background: transparent !important;\n    color: #000 !important;\n    box-shadow: none !important;\n    text-shadow: none !important;\n  }\n\n  a,\n  a:visited {\n    text-decoration: underline;\n  }\n\n  a[href]::after {\n    content: ' (' attr(href) ')';\n  }\n\n  abbr[title]::after {\n    content: ' (' attr(title) ')';\n  }\n\n  /*\n  Don't show links that are fragment identifiers,\n  or use the `javascript:` pseudo protocol\n  */\n  a[href^='#']::after,\n  a[href^='javascript:']::after {\n    content: '';\n  }\n}\n\n/*\n    Reset\n-------------------------------\n*/\n\n/*\n  css-tricks.com/inheriting-box-sizing-probably-slightly-better-best-practice\n  paulirish.com/2012/box-sizing-border-box-ftw\n*/\n\nhtml,\n* {\n  box-sizing: border-box;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\nhtml {\n  overflow-y: scroll;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  text-rendering: optimizeLegibility;\n  background-color: white;\n  background-color: var(--color-bg);\n  color: #666;\n  color: var(--color-text);\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue;\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nbody,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\ndl,\ndd,\nol,\nul,\nform,\nfieldset,\nlegend,\nfigure,\ntable,\nth,\ntd,\ncaption,\nhr {\n  margin: 0;\n  padding: 0;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-weight: normal;\n  font-style: normal;\n  text-decoration: none;\n}\n\nabbr[title],\ndfn[title] {\n  cursor: help;\n}\n\nbutton,\ninput,\ntextarea,\nselect,\noptgroup {\n  font: inherit;\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n  text-align: left;\n}\n\nfieldset {\n  border: 0 none transparent;\n}\n\n*:focus,\ntextarea:focus,\ninput:focus {\n  outline: none;\n  outline: 0;\n}\n\nlabel {\n  cursor: pointer;\n  display: block;\n}\n\nu,\nins {\n  text-decoration: none;\n}\n\nins {\n  border-bottom: 1px solid;\n}\n\nimg, video {\n  max-width: 100%;\n  font-style: italic;\n  vertical-align: middle;\n  height: auto;\n  outline: 0;\n}\n\n/* remove yellow bg on automplete in chrome */\n\ninput:-webkit-autofill,\nselect:-webkit-autofill {\n  -webkit-box-shadow: 0 0 0 1000px white inset;\n}\n\n/* remove round corner on iOs */\n\ninput:not([type='radio']):not([type='checkbox']):not(.rnd),\nselect {\n  -webkit-appearance: none;\n  border-radius: 0;\n}\n\n/* https://github.com/necolas/normalize.css/pull/697/commits/c3762f068feca8e218e69f54daf397cd0f33176d */\n\nbutton,\nhtml [type='button'],\n[type='reset'],\n[type='submit'] {\n  border-radius: 0;\n}\n\n/* Elements        ------------------------------- */\n\n/*\n    Typography\n-------------------------------\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nul,\nol,\ndl,\nblockquote,\np,\naddress,\ntable,\nfieldset,\nfigure,\npre {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.h0 {\n  font-size: 95.367px;\n  font-size: 5.96046rem;\n  font-size: calc(5.96046 * var(--base-font-size));\n  line-height: 144px;\n  line-height: 9rem;\n  line-height: calc(6 * var(--unit));\n}\n\nh1,\n.h1 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 48px;\n  line-height: 3rem;\n  line-height: calc(2 * var(--unit));\n}\n\nh2,\n.h2 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh3,\nh4,\nh5,\n.h5 {\n  font-weight: 700;\n}\n\nh3,\n.h3 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n  border-bottom: 1px dotted #bcb9af;\n  border-bottom: 0.0625rem dotted #bcb9af;\n  border-bottom: var(--unit-line) var(--border-style) var(--border-color);\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n}\n\nh4,\n.h4 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh5,\n.h5 {\n  font-size: 12.8px;\n  font-size: 0.8rem;\n  font-size: calc(0.8 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh6,\n.h6,\nsmall {\n  font-size: 11.448px;\n  font-size: 0.71554rem;\n  font-size: calc(0.71554 * var(--base-font-size));\n  line-height: 12px;\n  line-height: 0.75rem;\n  line-height: calc(0.5 * var(--unit));\n}\n\nlabel,\nh6 {\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\nh1,\nh2,\nh5 {\n  font-weight: 700;\n}\n\nblockquote {\n  font-size: 17.888px;\n  font-size: 1.11803rem;\n  font-size: calc(1.11803 * var(--base-font-size));\n  line-height: 36px;\n  line-height: 2.25rem;\n  line-height: calc(1.5 * var(--unit));\n  font-style: italic;\n  background: #f8f7f3;\n  background: var(--color-alt);\n  padding: 24px;\n  padding: 1.5rem;\n  padding: var(--unit);\n  border-left: 1px dotted #bcb9af;\n  border-left: 0.0625rem dotted #bcb9af;\n  border-left: var(--unit-line) var(--border-style) var(--border-color);\n}\n\nblockquote :last-child {\n  margin-bottom: 0;\n}\n\nhr {\n  clear: both;\n  border: 0;\n  height: 0;\n  border-top-width: 1px;\n  border-top-width: 0.0625rem;\n  border-top-width: var(--border-width);\n  border-top-style: dotted;\n  border-top-style: var(--border-style);\n  border-top-color: #bcb9af;\n  border-top-color: var(--border-color);\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n}\n\na {\n  text-decoration: none;\n  color: #f50;\n  color: var(--color-highlight)\n}\n\na:visited {\n  color: #f50;\n  color: var(--color-highlight);\n}\n\na:hover,\n  a:active,\n  a:focus {\n  color: #f50;\n  color: var(--color-highlight);\n}\n\nb,\nstrong,\n.strong,\n.bold {\n  font-weight: 700;\n}\n\ni,\n.italic {\n  font-style: italic;\n}\n\n.cap {\n  text-transform: capitalize;\n}\n\n.caps {\n  text-transform: uppercase;\n  letter-spacing: 0.25em;\n}\n\n.line-through {\n  color: #bcb9af;\n  color: var(--color-neutral);\n  text-decoration: line-through;\n}\n\n.underline {\n  border-bottom: 1px solid;\n}\n\n.nowrap {\n  white-space: nowrap;\n}\n\n.truncate {\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-left {\n  text-align: right;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.mono {\n  font-family: 'Lucida Sans Typewriter', monaco, 'Lucida Console', monospace;\n  font-weight: bold;\n}\n\n/*\n      Lists\n-------------------------------\n\n*/\n\nul,\nol,\ndd {\n  list-style-position: inside;\n\n  /* overflow: auto; */\n}\n\nul > li > ul,\nul > li > ol,\nol > li > ul,\nol > li > ol {\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\nol {\n  list-style-type: decimal;\n}\n\nli > ul,\n  li > ol {\n  margin-bottom: 0;\n}\n\n.list-sans {\n  padding: 0;\n  list-style: none;\n}\n\n.list-inline {\n  padding: 0;\n  list-style: none;\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: calc(var(--unit) - var(--unit-xs))\n}\n\n.list-inline > li:not(.right) {\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n  float: left;\n}\n\n.list-inline > li.right {\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n  float: right;\n}\n\n.list-prefix {\n  list-style: none\n}\n\n.list-prefix > li::before {\n  content: '―';\n  content: var(--list-prefix);\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.list-postfix {\n  list-style: none\n}\n\n.list-postfix > li::after {\n  content: ',';\n  content: var(--list-postfix);\n}\n\n.list-inline.list-postfix li:last-child::after {\n  content: none;\n}\n\n/*\n    Table\n-------------------------------\n*/\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: none;\n}\n\nth {\n  text-align: left;\n  font-weight: 700;\n  font-size: 12.8px;\n  font-size: 0.8rem;\n  font-size: calc(0.8 * var(--base-font-size));\n  line-height: 12px;\n  line-height: 0.75rem;\n  line-height: calc(0.5 * var(--unit));\n}\n\ntr {\n  border-bottom: 1px dotted #bcb9af;\n  border-bottom: 0.0625rem dotted #bcb9af;\n  border-bottom: var(--unit-line) var(--border-style) var(--border-color);\n}\n\ntd,\nth {\n  vertical-align: top;\n  word-wrap: break-word;\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n  padding-top: 11px;\n  padding-top: 0.6875rem;\n  padding-top: calc(var(--unit-s) - var(--unit-line));\n}\n\n.table-xs td,\n.table-xs th {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n  padding-bottom: 5px;\n  padding-bottom: 0.3125rem;\n  padding-bottom: calc(var(--unit-xs) - var(--unit-line));\n}\n\n.table-xxs td,\n.table-xxs th {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n  padding-bottom: 2px;\n  padding-bottom: 0.125rem;\n  padding-bottom: calc(var(--unit-xxs) - var(--unit-line));\n}\n\n.table-fixed {\n  display: table;\n  table-layout: fixed;\n}\n\n/*\n      Buttons\n-------------------------------\n*/\n\n.btn,.btn:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n}\n\n.btn:active,.active .btn {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n}\n\n.btn:hover,.active:hover .btn {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.btn:disabled,.btn:disabled:active,.btn:disabled:hover,.disabled .btn,.disabled:active .btn,.disabled:hover .btn {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.btn-border,.btn-border:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:active,.active .btn-border {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:hover,.active:hover .btn-border {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:disabled,.btn-border:disabled:active,.btn-border:disabled:hover,.disabled .btn-border,.disabled:active .btn-border,.disabled:hover .btn-border {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.tag .btn,.tag:visited .btn,\n.btn-alt,.btn-alt:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-bg);\n  background-color: var(--color-neutral);\n}\n\n.tag:active .btn,.tag.active .btn, .btn-alt:active,.active .btn-alt {\n  color: var(--color-bg);\n  background-color: var(--color-inverse);\n}\n\n.tag:hover .btn,.tag.active:hover .btn, .btn-alt:hover,.active:hover .btn-alt {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.tag:disabled .btn,.tag:disabled:active .btn,.tag:disabled:hover .btn,.tag.disabled .btn,.tag.disabled:active .btn,.tag.disabled:hover .btn, .btn-alt:disabled,.btn-alt:disabled:active,.btn-alt:disabled:hover,.disabled .btn-alt,.disabled:active .btn-alt,.disabled:hover .btn-alt {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-bg);\n  background-color: var(--color-neutral);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.btn,\n.btn-alt,\n.btn-border,\n.btn-transparent {\n  transition: opacity 0.5s, background-color 0.5s, border 0.5s,\n    box-shadow 0.5s, fill 0.5s;\n  transition: var(--transition);\n  font-weight: 700;\n}\n\n.btn-border {\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.btn-icon {\n  line-height: 16px;\n  line-height: 1rem;\n}\n\n/*\n      Forms\n-------------------------------\n*/\n\ninput[type='text'],\ninput[type='email'],\ninput[type='search'],\ninput[type='password'],\ninput[type='tel'],\nselect,\ntextarea {\n  width: 100%;\n  padding: 12px;\n  padding: 0.75rem;\n  padding: var(--unit-s);\n  border: 0 none;\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  height: auto;\n  color: inherit;\n}\n\nselect {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath d='M22 9L12 19 2 9'/%3E %3C/svg%3E\"\n  );\n  background-position: right 12px center;\n  background-position: right 0.75rem center;\n  background-position: right var(--unit-s) center;\n  background-repeat: no-repeat;\n\n  /* for FF: http://stackoverflow.com/a/18317228/2112538 */\n  -moz-appearance: none;\n  text-indent: 0.01px;\n  text-overflow: ellipsis;\n}\n\ntextarea {\n  /* http://stackoverflow.com/a/5196591/2112538 */\n  vertical-align: top;\n  resize: vertical;\n}\n\ntextarea:focus,\ninput:focus,\nselect:focus {\n  border-right: 12px solid #f50;\n  border-right: 0.75rem solid #f50;\n  border-right: var(--unit-s) solid var(--color-highlight);\n}\n\ninput[type='text'].bg-bg,\ninput[type='email'].bg-bg,\ninput[type='search'].bg-bg,\ninput[type='password'].bg-bg,\ninput[type='tel'].bg-bg,\nselect.bg-bg,\ntextarea.bg-bg {\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\ninput.success {\n  border-right: 12px solid #6ea040;\n  border-right: 0.75rem solid #6ea040;\n  border-right: var(--unit-s) solid var(--color-success);\n}\n\ninput.error {\n  border-right: 12px solid #e82239;\n  border-right: 0.75rem solid #e82239;\n  border-right: var(--unit-s) solid var(--color-error);\n}\n\ninput:disabled,\ntextarea:disabled,\nselect:disabled {\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\ninput.bg-bg:disabled,\ntextarea.bg-bg:disabled,\nselect.bg-bg:disabled {\n  background-color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n*::-webkit-input-placeholder {\n  /* WebKit, Blink, Edge */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n*:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #bcb9af;\n  color: var(--color-neutral);\n  opacity: 1;\n}\n\n*::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #bcb9af;\n  color: var(--color-neutral);\n  opacity: 1;\n}\n\n*:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n*::-ms-input-placeholder {\n  /* Microsoft Edge */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n/* Layout          ------------------------------- */\n\n/* @import 'system/grid-system.css'; */\n\n/*\n      postcss-grid-fluid\n-------------------------------\n\nhttps://github.com/francoisromain/postcss-grid-fluid\n*/\n\n.container {\n  padding-left: 24px;\n  padding-left: 1.5rem;\n  padding-left: var(--container-padding);\n  padding-right: 24px;\n  padding-right: 1.5rem;\n  padding-right: var(--container-padding);\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n}\n\n.blobs {\n  clear: both;\n  margin-right: calc(-1 * var(--gutter));\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n\n.blobs::after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\n.blob {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 0;\n}\n\n.blob-auto {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 auto;\n}\n\n.blob-1 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(100% - var(--gutter));\n}\n\n.blob-code,\n.blob-1-2 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(50% - var(--gutter));\n}\n\n.blob-1-3 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(33.333333333333336% - var(--gutter));\n}\n\n.blob-2-3 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(66.66666666666667% - var(--gutter));\n}\n\n.blob-1-4 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(25% - var(--gutter));\n}\n\n.blob-3-4 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(75% - var(--gutter));\n}\n\n.blob-1-6 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(16.666666666666668% - var(--gutter));\n}\n\n.blob-5-6 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(83.33333333333333% - var(--gutter));\n}\n\n.blob-btn {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 48px;\n  flex: 0 1 3rem;\n}\n\n.blob-3-4-btn {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 calc(75% - 6rem);\n  flex: 0 1 calc(75% - var(--gutter) - 3rem - var(--gutter));\n}\n\n@media (min-width: 22em) {\n  .mobile-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n  .mobile-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .mobile-blob {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 0;\n  }\n\n  .mobile-blob-auto {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 auto;\n  }\n\n  .mobile-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .mobile-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .mobile-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .mobile-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .mobile-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .mobile-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .mobile-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .mobile-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 42.5em) {\n  .container {\n    width: 42.5rem;\n    width: calc(2 * var(--col-width) + var(--gutter));\n  }\n\n  .tablet-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .tablet-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .tablet-blob {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 0;\n  }\n\n  .tablet-blob-auto {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 auto;\n  }\n\n  .tablet-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .tablet-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .tablet-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .tablet-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .tablet-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .tablet-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .tablet-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .tablet-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 63em) {\n  .container {\n    width: 63rem;\n    width: calc(3 * var(--col-width) + var(--gutter));\n  }\n\n  .desktop-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .desktop-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .desktop-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .desktop-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .desktop-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .desktop-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .desktop-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .desktop-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .desktop-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .desktop-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 83.5em) {\n  .container {\n    width: 83.5rem;\n    width: calc(4 * var(--col-width) + var(--gutter));\n  }\n\n  .large-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .large-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .large-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .large-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .large-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .large-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .large-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .large-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .large-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .large-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n/*\n    Utils\n-------------------------------\n*/\n\n/*\nhttp://cssmojo.com/the-very-latest-clearfix-reloaded/\n*/\n\n.clearfix::before,\n.clearfix::after {\n  content: '';\n  display: block;\n  clear: both;\n}\n\n.hide {\n  display: none;\n  visibility: hidden;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.pointer-none {\n  pointer-events: none;\n}\n\n.overflow-hidden {\n  overflow: hidden;\n}\n\n.inline-block {\n  display: inline-block;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-start {\n  align-items: flex-start;\n}\n\n.flex-direction-column {\n  flex-direction: column;\n}\n\n.left {\n  float: left;\n}\n\n.right {\n  float: right;\n}\n\n.flex-right {\n  margin-left: auto;\n}\n\n.relative {\n  position: relative;\n}\n\n.fixed {\n  position: fixed;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.center {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n.full {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.full-x {\n  width: 100%;\n}\n\n.full-y {\n  height: 100%;\n}\n\n/*\n      Margins\n-------------------------------\n\n*/\n\n.m {\n  margin: 24px;\n  margin: 1.5rem;\n  margin: var(--unit);\n}\n\n.m-xxs {\n  margin: 3px;\n  margin: 0.1875rem;\n  margin: var(--unit-xxs);\n}\n\n.m-xs {\n  margin: 6px;\n  margin: 0.375rem;\n  margin: var(--unit-xs);\n}\n\n.m-s {\n  margin: 12px;\n  margin: 0.75rem;\n  margin: var(--unit-s);\n}\n\n.m-m {\n  margin: 18px;\n  margin: 1.125rem;\n  margin: var(--unit-m);\n}\n\n.m-l {\n  margin: 36px;\n  margin: 2.25rem;\n  margin: var(--unit-l);\n}\n\n.m-xl {\n  margin: 48px;\n  margin: 3rem;\n  margin: var(--unit-xl);\n}\n\n.m-0 {\n  margin: 0;\n}\n\n.mr {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--unit);\n}\n\n.mr-xxs {\n  margin-right: 3px;\n  margin-right: 0.1875rem;\n  margin-right: var(--unit-xxs);\n}\n\n.mr-xs {\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n}\n\n.mr-s {\n  margin-right: 12px;\n  margin-right: 0.75rem;\n  margin-right: var(--unit-s);\n}\n\n.mr-m {\n  margin-right: 18px;\n  margin-right: 1.125rem;\n  margin-right: var(--unit-m);\n}\n\n.mr-l {\n  margin-right: 36px;\n  margin-right: 2.25rem;\n  margin-right: var(--unit-l);\n}\n\n.mr-xl {\n  margin-right: 48px;\n  margin-right: 3rem;\n  margin-right: var(--unit-xl);\n}\n\n.mr-0 {\n  margin-right: 0;\n}\n\n.ml {\n  margin-left: 24px;\n  margin-left: 1.5rem;\n  margin-left: var(--unit);\n}\n\n.ml-xxs {\n  margin-left: 3px;\n  margin-left: 0.1875rem;\n  margin-left: var(--unit-xxs);\n}\n\n.ml-xs {\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n}\n\n.ml-s {\n  margin-left: 12px;\n  margin-left: 0.75rem;\n  margin-left: var(--unit-s);\n}\n\n.ml-m {\n  margin-left: 18px;\n  margin-left: 1.125rem;\n  margin-left: var(--unit-m);\n}\n\n.ml-l {\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\n.ml-xl {\n  margin-left: 48px;\n  margin-left: 3rem;\n  margin-left: var(--unit-xl);\n}\n\n.ml-0 {\n  margin-left: 0;\n}\n\n.mt {\n  margin-top: 24px;\n  margin-top: 1.5rem;\n  margin-top: var(--unit);\n}\n\n.mt-xxs {\n  margin-top: 3px;\n  margin-top: 0.1875rem;\n  margin-top: var(--unit-xxs);\n}\n\n.mt-xs {\n  margin-top: 6px;\n  margin-top: 0.375rem;\n  margin-top: var(--unit-xs);\n}\n\n.mt-s {\n  margin-top: 12px;\n  margin-top: 0.75rem;\n  margin-top: var(--unit-s);\n}\n\n.mt-m {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n}\n\n.mt-l {\n  margin-top: 36px;\n  margin-top: 2.25rem;\n  margin-top: var(--unit-l);\n}\n\n.mt-xl {\n  margin-top: 48px;\n  margin-top: 3rem;\n  margin-top: var(--unit-xl);\n}\n\n.mt-xxl {\n  margin-top: 60px;\n  margin-top: 3.75rem;\n  margin-top: var(--unit-xxl);\n}\n\n.mt-0 {\n  margin-top: 0;\n}\n\n.mb {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.mb-xxs {\n  margin-bottom: 3px;\n  margin-bottom: 0.1875rem;\n  margin-bottom: var(--unit-xxs);\n}\n\n.mb-xs {\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n}\n\n.mb-s {\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\n.mb-m {\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: var(--unit-m);\n}\n\n.mb-l {\n  margin-bottom: 36px;\n  margin-bottom: 2.25rem;\n  margin-bottom: var(--unit-l);\n}\n\n.mb-xl {\n  margin-bottom: 48px;\n  margin-bottom: 3rem;\n  margin-bottom: var(--unit-xl);\n}\n\n.mb-xxl {\n  margin-bottom: 60px;\n  margin-bottom: 3.75rem;\n  margin-bottom: var(--unit-xxl);\n}\n\n.mb-0 {\n  margin-bottom: 0;\n}\n\n.mx {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--unit);\n  margin-left: 24px;\n  margin-left: 1.5rem;\n  margin-left: var(--unit);\n}\n\n.mx-xxs {\n  margin-right: 3px;\n  margin-right: 0.1875rem;\n  margin-right: var(--unit-xxs);\n  margin-left: 3px;\n  margin-left: 0.1875rem;\n  margin-left: var(--unit-xxs);\n}\n\n.mx-xs {\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n}\n\n.mx-s {\n  margin-right: 12px;\n  margin-right: 0.75rem;\n  margin-right: var(--unit-s);\n  margin-left: 12px;\n  margin-left: 0.75rem;\n  margin-left: var(--unit-s);\n}\n\n.mx-m {\n  margin-right: 18px;\n  margin-right: 1.125rem;\n  margin-right: var(--unit-m);\n  margin-left: 18px;\n  margin-left: 1.125rem;\n  margin-left: var(--unit-m);\n}\n\n.mx-l {\n  margin-right: 36px;\n  margin-right: 2.25rem;\n  margin-right: var(--unit-l);\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\n.mx-xl {\n  margin-right: 48px;\n  margin-right: 3rem;\n  margin-right: var(--unit-xl);\n  margin-left: 48px;\n  margin-left: 3rem;\n  margin-left: var(--unit-xl);\n}\n\n.mx-xxl {\n  margin-right: 60px;\n  margin-right: 3.75rem;\n  margin-right: var(--unit-xxl);\n  margin-left: 60px;\n  margin-left: 3.75rem;\n  margin-left: var(--unit-xxl);\n}\n\n.mx-0 {\n  margin-right: 0;\n  margin-left: 0;\n}\n\n.my {\n  margin-top: 24px;\n  margin-top: 1.5rem;\n  margin-top: var(--unit);\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.my-xxs {\n  margin-top: 3px;\n  margin-top: 0.1875rem;\n  margin-top: var(--unit-xxs);\n  margin-bottom: 3px;\n  margin-bottom: 0.1875rem;\n  margin-bottom: var(--unit-xxs);\n}\n\n.my-xs {\n  margin-top: 6px;\n  margin-top: 0.375rem;\n  margin-top: var(--unit-xs);\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n}\n\n.my-s {\n  margin-top: 12px;\n  margin-top: 0.75rem;\n  margin-top: var(--unit-s);\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\n.my-m {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: var(--unit-m);\n}\n\n.my-l {\n  margin-top: 36px;\n  margin-top: 2.25rem;\n  margin-top: var(--unit-l);\n  margin-bottom: 36px;\n  margin-bottom: 2.25rem;\n  margin-bottom: var(--unit-l);\n}\n\n.my-xl {\n  margin-top: 48px;\n  margin-top: 3rem;\n  margin-top: var(--unit-xl);\n  margin-bottom: 48px;\n  margin-bottom: 3rem;\n  margin-bottom: var(--unit-xl);\n}\n\n.my-0 {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.mt--s {\n  margin-top: -12px;\n  margin-top: -0.75rem;\n  margin-top: calc(var(--unit-s) * -1);\n}\n\n.mt--m {\n  margin-top: -18px;\n  margin-top: -1.125rem;\n  margin-top: calc(var(--unit-m) * -1);\n}\n\n.my--s {\n  margin-top: -12px;\n  margin-top: -0.75rem;\n  margin-top: calc(var(--unit-s) * -1);\n  margin-bottom: -12px;\n  margin-bottom: -0.75rem;\n  margin-bottom: calc(var(--unit-s) * -1);\n}\n\n.my--xs {\n  margin-top: -6px;\n  margin-top: -0.375rem;\n  margin-top: calc(var(--unit-xs) * -1);\n  margin-bottom: -6px;\n  margin-bottom: -0.375rem;\n  margin-bottom: calc(var(--unit-xs) * -1);\n}\n\n/*\n    Padding\n-------------------------------\n*/\n\n.p {\n  padding: 24px;\n  padding: 1.5rem;\n  padding: var(--unit);\n}\n\n.p-xxs {\n  padding: 3px;\n  padding: 0.1875rem;\n  padding: var(--unit-xxs);\n}\n\n.p-xs {\n  padding: 6px;\n  padding: 0.375rem;\n  padding: var(--unit-xs);\n}\n\n.p-s {\n  padding: 12px;\n  padding: 0.75rem;\n  padding: var(--unit-s);\n}\n\n.p-m {\n  padding: 18px;\n  padding: 1.125rem;\n  padding: var(--unit-m);\n}\n\n.p-l {\n  padding: 36px;\n  padding: 2.25rem;\n  padding: var(--unit-l);\n}\n\n.p-xl {\n  padding: 48px;\n  padding: 3rem;\n  padding: var(--unit-xl);\n}\n\n.p-xxl {\n  padding: 60px;\n  padding: 3.75rem;\n  padding: var(--unit-xxl);\n}\n\n.px {\n  padding-left: 24px;\n  padding-left: 1.5rem;\n  padding-left: var(--unit);\n  padding-right: 24px;\n  padding-right: 1.5rem;\n  padding-right: var(--unit);\n}\n\n.px-xxs {\n  padding-left: 3px;\n  padding-left: 0.1875rem;\n  padding-left: var(--unit-xxs);\n  padding-right: 3px;\n  padding-right: 0.1875rem;\n  padding-right: var(--unit-xxs);\n}\n\n.px-xs {\n  padding-left: 6px;\n  padding-left: 0.375rem;\n  padding-left: var(--unit-xs);\n  padding-right: 6px;\n  padding-right: 0.375rem;\n  padding-right: var(--unit-xs);\n}\n\n.px-s {\n  padding-left: 12px;\n  padding-left: 0.75rem;\n  padding-left: var(--unit-s);\n  padding-right: 12px;\n  padding-right: 0.75rem;\n  padding-right: var(--unit-s);\n}\n\n.px-m {\n  padding-left: 18px;\n  padding-left: 1.125rem;\n  padding-left: var(--unit-m);\n  padding-right: 18px;\n  padding-right: 1.125rem;\n  padding-right: var(--unit-m);\n}\n\n.px-l {\n  padding-left: 36px;\n  padding-left: 2.25rem;\n  padding-left: var(--unit-l);\n  padding-right: 36px;\n  padding-right: 2.25rem;\n  padding-right: var(--unit-l);\n}\n\n.px-xl {\n  padding-left: 48px;\n  padding-left: 3rem;\n  padding-left: var(--unit-xl);\n  padding-right: 48px;\n  padding-right: 3rem;\n  padding-right: var(--unit-xl);\n}\n\n.px-xxl {\n  padding-left: 60px;\n  padding-left: 3.75rem;\n  padding-left: var(--unit-xxl);\n  padding-right: 60px;\n  padding-right: 3.75rem;\n  padding-right: var(--unit-xxl);\n}\n\n.py {\n  padding-top: 24px;\n  padding-top: 1.5rem;\n  padding-top: var(--unit);\n  padding-bottom: 24px;\n  padding-bottom: 1.5rem;\n  padding-bottom: var(--unit);\n}\n\n.py-xxs {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n  padding-bottom: 3px;\n  padding-bottom: 0.1875rem;\n  padding-bottom: var(--unit-xxs);\n}\n\n.py-xs {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n  padding-bottom: 6px;\n  padding-bottom: 0.375rem;\n  padding-bottom: var(--unit-xs);\n}\n\n.py-s {\n  padding-top: 12px;\n  padding-top: 0.75rem;\n  padding-top: var(--unit-s);\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.py-m {\n  padding-top: 18px;\n  padding-top: 1.125rem;\n  padding-top: var(--unit-m);\n  padding-bottom: 18px;\n  padding-bottom: 1.125rem;\n  padding-bottom: var(--unit-m);\n}\n\n.py-l {\n  padding-top: 36px;\n  padding-top: 2.25rem;\n  padding-top: var(--unit-l);\n  padding-bottom: 36px;\n  padding-bottom: 2.25rem;\n  padding-bottom: var(--unit-l);\n}\n\n.py-xl {\n  padding-top: 48px;\n  padding-top: 3rem;\n  padding-top: var(--unit-xl);\n  padding-bottom: 48px;\n  padding-bottom: 3rem;\n  padding-bottom: var(--unit-xl);\n}\n\n.py-xxl {\n  padding-top: 60px;\n  padding-top: 3.75rem;\n  padding-top: var(--unit-xxl);\n  padding-bottom: 60px;\n  padding-bottom: 3.75rem;\n  padding-bottom: var(--unit-xxl);\n}\n\n.pt {\n  padding-top: 24px;\n  padding-top: 1.5rem;\n  padding-top: var(--unit);\n}\n\n.pt-xxs {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n}\n\n.pt-xs {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n}\n\n.pt-s {\n  padding-top: 12px;\n  padding-top: 0.75rem;\n  padding-top: var(--unit-s);\n}\n\n.pt-m {\n  padding-top: 18px;\n  padding-top: 1.125rem;\n  padding-top: var(--unit-m);\n}\n\n.pt-l {\n  padding-top: 36px;\n  padding-top: 2.25rem;\n  padding-top: var(--unit-l);\n}\n\n.pt-xl {\n  padding-top: 48px;\n  padding-top: 3rem;\n  padding-top: var(--unit-xl);\n}\n\n.pt-xxl {\n  padding-top: 60px;\n  padding-top: 3.75rem;\n  padding-top: var(--unit-xxl);\n}\n\n.pb {\n  padding-bottom: 24px;\n  padding-bottom: 1.5rem;\n  padding-bottom: var(--unit);\n}\n\n.pb-xxs {\n  padding-bottom: 3px;\n  padding-bottom: 0.1875rem;\n  padding-bottom: var(--unit-xxs);\n}\n\n.pb-xs {\n  padding-bottom: 6px;\n  padding-bottom: 0.375rem;\n  padding-bottom: var(--unit-xs);\n}\n\n.pb-s {\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.pb-m {\n  padding-bottom: 18px;\n  padding-bottom: 1.125rem;\n  padding-bottom: var(--unit-m);\n}\n\n.pb-l {\n  padding-bottom: 36px;\n  padding-bottom: 2.25rem;\n  padding-bottom: var(--unit-l);\n}\n\n.pb-xl {\n  padding-bottom: 48px;\n  padding-bottom: 3rem;\n  padding-bottom: var(--unit-xl);\n}\n\n.pb-xxl {\n  padding-bottom: 60px;\n  padding-bottom: 3.75rem;\n  padding-bottom: var(--unit-xxl);\n}\n\n/* Ui             ------------------------------- */\n\n/*\n    Colors\n-------------------------------\n*/\n\n.color-bg {\n  color: white;\n  color: var(--color-bg);\n}\n\n.color-highlight {\n  color: #f50;\n  color: var(--color-highlight);\n}\n\n.color-alt {\n  color: #f8f7f3;\n  color: var(--color-alt);\n}\n\n.color-neutral {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.color-inverse {\n  color: #3d3d35;\n  color: var(--color-inverse);\n}\n\n.bg-bg {\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\n.bg-highlight {\n  background-color: #f50;\n  background-color: var(--color-highlight);\n}\n\n.bg-alt {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n}\n\n.bg-neutral {\n  background-color: #bcb9af;\n  background-color: var(--color-neutral);\n}\n\n.bg-inverse {\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n}\n\n.bg-info {\n  background: #5798aa;\n  background: var(--color-info);\n}\n\n.bg-error {\n  background: #e82239;\n  background: var(--color-error);\n}\n\n.bg-warning {\n  background: #ff891c;\n  background: var(--color-warning);\n}\n\n.bg-success {\n  background: #6ea040;\n  background: var(--color-success);\n}\n\n.bg-bg-alpha {\n  background-color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.bg-alt-alpha {\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\n/*\n    UI elements\n-------------------------------\n*/\n\n.pill {\n  border-radius: 9999px;\n  border-radius: var(--unit-infinity);\n}\n\n.rnd {\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.rnd-top {\n  border-radius: 0.375rem 0.375rem 0 0;\n  border-radius: var(--unit-xs) var(--unit-xs) 0 0;\n}\n\n.border-bottom {\n  border-bottom: 1px dotted;\n  border-bottom: 0.0625rem dotted;\n  border-bottom: var(--unit-line) dotted;\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n  border-color: #bcb9af;\n  border-color: var(--border-color);\n}\n\n.border {\n  box-shadow: inset 0 0 0 0.0625rem #f8f7f3;\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-alt);\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.tooltip {\n  position: relative;\n}\n\n.tooltip span {\n  position: absolute;\n  color: #f8f7f3;\n  color: var(--color-alt);\n  background: #bcb9af;\n  background: var(--color-neutral);\n  text-align: center;\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n  top: -48px;\n  top: -3rem;\n  top: calc(var(--unit-xl) * -1);\n  right: 0;\n  padding: 6px;\n  padding: 0.375rem;\n  padding: var(--unit-xs);\n  z-index: 999;\n}\n\n.tooltip span::after {\n  content: '';\n  position: absolute;\n  top: 100%;\n  right: 24px;\n  right: 1.5rem;\n  right: var(--unit);\n  border-top: 6px solid #bcb9af;\n  border-top: 0.375rem solid #bcb9af;\n  border-top: var(--unit-xs) solid var(--color-neutral);\n  border-right: 6px solid transparent;\n  border-right: 0.375rem solid transparent;\n  border-right: var(--unit-xs) solid transparent;\n  border-left: 6px solid transparent;\n  border-left: 0.375rem solid transparent;\n  border-left: var(--unit-xs) solid transparent;\n}\n\n.shadow {\n  box-shadow: 0.375rem 0.375rem 1.5rem\n    rgba(188, 185, 175, 0.25);\n  box-shadow: var(--unit-xs) var(--unit-xs) var(--unit)\n    rgba(188, 185, 175, 0.25);\n}\n\n.shadow-inset {\n  box-shadow: inset 0.375rem 0.375rem 1.5rem\n    rgba(188, 185, 175, 0.25);\n  box-shadow: inset var(--unit-xs) var(--unit-xs) var(--unit)\n    rgba(188, 185, 175, 0.25);\n}\n\n.ribbon {\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  right: 0;\n  width: 150px;\n  height: 150px;\n}\n\n.ribbon-bloc {\n  transform: rotate(45deg);\n}\n\n.ribbon span {\n  display: inline-block;\n  width: 100%;\n  color: white;\n  color: var(--color-bg);\n  background-color: #ff891c;\n  background-color: var(--color-warning);\n  text-align: center;\n}\n\npre code {\n  display: block;\n}\n\ncode {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  padding: 6px 12px;\n  padding: 0.375rem 0.75rem;\n  padding: var(--unit-xs) var(--unit-s);\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n  white-space: pre;\n  -webkit-hyphens: none;\n      -ms-hyphens: none;\n          hyphens: none;\n  word-wrap: break-word;\n}\n\n.icon {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  background-size: cover;\n}\n\n.icon-8 {\n  width: 8px;\n  width: 0.5rem;\n  width: calc(var(--base-font-size) / 2);\n  height: 8px;\n  height: 0.5rem;\n  height: calc(var(--base-font-size) / 2);\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.icon-24 {\n  width: 24px;\n  width: 1.5rem;\n  width: var(--unit);\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n}\n\n.icon-48 {\n  width: 48px;\n  width: 3rem;\n  width: var(--unit-xl);\n  height: 48px;\n  height: 3rem;\n  height: var(--unit-xl);\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n}\n\n.icon-24-close {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M2 2l20 20m0-20L2 22'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-border:hover .icon-24-close {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M2 2l20 20m0-20L2 22'/%3E %3C/svg%3E\"\n  );\n}\n\n.icon-24-plus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M1.5 11.5h20m-10 10v-20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-alt .icon-24-plus,\n.btn-alt:hover .icon-24-plus,\n.btn-border:hover .icon-24-plus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M1.5 11.5h20m-10 10v-20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-alt .icon-24-minus,\n.btn-alt:hover .icon-24-minus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath d='M1.5 11.5h20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-menubar .icon-24-dot {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Ccircle cx='11.5' cy='11.5' r='6'/%3E %3C/svg%3E\"\n  );\n}\n\n.icon-24-dot.blink {\n  animation: blinker 0.2s ease infinite;\n}\n\n@keyframes blinker {\n  50% {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='white'%3E %3Ccircle cx='11.5' cy='11.5' r='6'/%3E %3C/svg%3E\");\n  }\n}\n\n/* .icon-48-close {\n  background-image: svg-load(\n    './icons/48-close.svg',\n    fill=none,\n    stroke=var(--color-highlight),\n    stroke-linecap=round,\n    stroke-linejoin=round,\n    stroke-miterlimit=10,\n    stroke-width=1px\n  );\n}\n\n.btn-icon:hover .icon-48-close {\n  background-image: svg-load(\n    './icons/48-close.svg',\n    stroke=var(--color-bg),\n    stroke-linecap=round,\n    stroke-linejoin=round,\n    stroke-miterlimit=10,\n    stroke-width=1px\n  );\n} */\n\n/* Tools          ------------------------------- */\n\n/* Debug trick -------------------------------\nhttp://qr.ae/ROqymT */\n\n.debug {\n  background-color: rgba(255, 0, 0, 0.2);\n}\n\n.debug * {\n  background-color: rgba(0, 255, 0, 0.2);\n}\n\n.debug * * {\n  background-color: rgba(0, 0, 255, 0.2);\n}\n\n.debug * * * {\n  background-color: rgba(255, 0, 255, 0.2);\n}\n\n.debug * * * * {\n  background-color: rgba(0, 255, 255, 0.2);\n}\n\n.debug * * * * * {\n  background-color: rgba(255, 255, 0, 0.2);\n}\n\n.debug * * * * * * {\n  background-color: rgba(255, 255, 0, 0.2);\n}\n\n.grid {\n  background-size: 20.5rem 0.75rem;\n  background-size: var(--col-width) calc(var(--unit) / 2);\n  background-position: center top;\n  background-image: linear-gradient(\n    rgba(0, 0, 0, 0.05) 0.01rem,\n    transparent 0.09rem\n  ),\n    linear-gradient(90deg, rgba(255, 0, 0, 0.25) 0, transparent 0.25%),\n    linear-gradient(\n    90deg,\n    transparent 50%,\n    rgba(255, 0, 0, 0.25) 50%,\n    transparent 50.25%\n  );\n}\n\n/* Theme          ------------------------------- */\n\n/*\n    Sticky footer\n-------------------------------\nhttp://mystrd.at/modern-clean-css-sticky-footer/\n*/\n\n:root {\n  --footer-height: 216px;\n  --footer-height: 13.5rem;\n  --footer-height: calc(var(--unit) * 9);\n}\n\nhtml {\n  position: relative;\n  height: 100%;\n}\n\nbody {\n  min-height: 100%;\n}\n\n.page {\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n}\n\n.main {\n  flex: 1;\n}\n\n.footer {\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n  color: white;\n  color: var(--color-bg);\n}\n\n@media (min-width: 63em) {\n  .footer {\n    height: 13.5rem;\n    height: var(--footer-height);\n  }\n}\n\n#loader-app {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n#loader-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\n#app {\n  overflow: hidden;\n}\n\n/*\n    Theme\n-------------------------------\n*/\n\n:root {\n  --header-height: 96px;\n  --header-height: 6rem;\n  --header-height: calc(var(--unit) * 4);\n}\n\n[v-cloak] {\n  display: none;\n}\n\n.menubar-infos {\n  padding-top: 0;\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.btn-menubar,.btn-menubar:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-bg);\n  background-color: var(--color-transparent);\n  font-weight: 700;\n  height: 48px;\n  height: 3rem;\n}\n\n.btn-menubar:active,.active .btn-menubar {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n}\n\n.btn-menubar:hover,.active:hover .btn-menubar {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.btn-menubar:disabled,.btn-menubar:disabled:active,.btn-menubar:disabled:hover,.disabled .btn-menubar,.disabled:active .btn-menubar,.disabled:hover .btn-menubar {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-bg);\n  background-color: var(--color-transparent);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.main {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n}\n\n.content {\n  overflow-y: scroll;\n  flex: 1 1 auto;\n}\n\n.messages {\n  bottom: 0;\n}\n\n.dropdown {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n}\n\n.menubar-infos {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n}\n\n.annotation {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n.handle {\n  width: 32px;\n  background-color: yellow;\n  cursor: ew-resize;\n}\n\n.handle-right {\n  right: -32px;\n  top: 0;\n  bottom: 0;\n}\n\n.handle-left {\n  left: -32px;\n  top: 0;\n  bottom: 0;\n}\n\n.handle-topleft {\n  top: 0;\n  left: 0;\n  height: 32px;\n}\n\n.handle-bottomright {\n  bottom: 0;\n  right: 0;\n  height: 32px;\n}\n\n.timeline-cursor {\n  left: 50%;\n  transform: translateX(-50%);\n  width: 1px;\n  width: 0.0625rem;\n  width: var(--unit-line);\n  background-color: rgb(0, 162, 255);\n  background-color: var(--color-brand);\n  top: 0;\n  bottom: 0;\n}\n\n.timeline-annotations {\n  z-index: 0;\n}\n\n.annotation {\n  top: 0;\n  bottom: 0;\n  text-align: center;\n}\n\n.annotation.active {\n  z-index: 1;\n  background-color: rgba(255, 0, 0, 1);\n}\n\n.popup-header {\n  height: 96px;\n  height: 6rem;\n  height: calc(4 * var(--unit));\n  border-bottom-width: 3px;\n  border-bottom-width: 0.1875rem;\n  border-bottom-width: var(--unit-xxs);\n  border-bottom-style: solid;\n  border-bottom-color: #f8f7f3;\n  border-bottom-color: var(--color-alt);\n  margin-bottom: -3px;\n  margin-bottom: -0.1875rem;\n  margin-bottom: calc(-1 * var(--unit-xxs));\n}\n\n.popup-content {\n  height: calc(100% - 6rem);\n  height: calc(100% - 4 * var(--unit));\n  overflow-y: auto;\n}\n\n@media (min-width: 42.5em) {\n  --header-height: 3rem;\n  --header-height: calc(var(--unit) * 2);\n\n  .menubar-infos {\n    padding-top: 1.125rem;\n    padding-top: var(--unit-m);\n    margin-top: 0;\n  }\n\n  .popup {\n    width: 39.5rem;\n    width: calc(2 * var(--col-width) - var(--gutter));\n    transform: translate(-50%, 0);\n    top: 6rem;\n    top: var(--header-height);\n    left: 50%;\n    right: auto;\n    bottom: auto;\n    z-index: 2;\n    border-radius: 0.375rem;\n    border-radius: var(--unit-xs);\n  }\n\n  .messages {\n    width: 39.5rem;\n    width: calc(2 * var(--col-width) - var(--gutter));\n  }\n\n  .dropdown {\n    position: absolute;\n    right: 1.5rem;\n    right: var(--gutter);\n    top: 0;\n  }\n}\n\n.transition-bottom-enter-active,\n.transition-bottom-leave-active,\n.transition-fade-enter-active,\n.transition-fade-leave-active,\n.transition-top-enter-active,\n.transition-top-leave-active,\n.transition-top-enter-active .pophover,\n.transition-top-leave-active .pophover {\n  transition: all 0.5s;\n}\n\n.transition-bottom-enter,\n.transition-bottom-leave-to {\n  opacity: 0;\n  margin-bottom: -60px;\n  margin-bottom: -3.75rem;\n  margin-bottom: calc(var(--unit-xxl) * -1);\n}\n\n.transition-fade-enter,\n.transition-fade-leave-to {\n  opacity: 0;\n}\n\n.transition-top-enter,\n.transition-top-leave-to {\n  opacity: 0;\n}\n\n.transition-top-enter .pophover,\n.transition-top-leave-to .pophover {\n  margin-top: -60px;\n  margin-top: -3.75rem;\n  margin-top: calc(var(--unit-xxl) * -1);\n}\n\n/* from https://github.com/PrismJS/prism/blob/gh-pages/themes/prism.css */\n\n:not(pre) > code[class*='language-'] {\n  padding: 0.1em;\n  white-space: normal;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.token.punctuation {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.namespace {\n  opacity: 0.7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n  color: rgba(212, 67, 74, 1);\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n  color: rgba(57, 119, 191, 1);\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n  color: #a67f59;\n  background: hsla(0, 0%, 100%, 0.5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n  color: rgba(105, 134, 46, 1);\n}\n\n.token.function {\n  color: #dd4a68;\n}\n\n.token.regex,\n.token.important,\n.token.variable {\n  color: #e90;\n}\n\n.token.important,\n.token.bold {\n  font-weight: bold;\n}\n\n.token.italic {\n  font-style: italic;\n}\n\n.token.entity {\n  cursor: help;\n}\n\n.spinner {\n  margin: 25% auto;\n  width: 160px;\n  width: 10rem;\n  text-align: center;\n}\n\n.spinner > div {\n  width: 24px;\n  width: 1.5rem;\n  width: var(--unit);\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n  border-radius: 100%;\n  display: inline-block;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n\n.spinner .bounce1 {\n  animation-delay: -0.32s;\n}\n\n.spinner .bounce2 {\n  animation-delay: -0.16s;\n}\n\n@keyframes sk-bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n\n  50% {\n    transform: scale(1);\n  }\n}\n\n.mediacontroller {\n  transition: all 0.3s;\n}\n\n.mediacontroller-button {\n  height: 36px;\n  height: 2.25rem;\n  height: var(--unit-l);\n  width: 48px;\n  width: 3rem;\n  width: var(--unit-xl);\n  padding: 0;\n  line-height: 1;\n  text-align: center;\n  float: left;\n}\n\n.mediacontroller-counter {\n  height: 36px;\n  height: 2.25rem;\n  height: var(--unit-l);\n  padding: 6px 12px;\n  padding: 0.375rem 0.75rem;\n  padding: var(--unit-xs) var(--unit-s);\n  float: left;\n}\n\n.mediacontroller-progress {\n  position: relative;\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\n.mediacontroller-progress.loaded {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  cursor: ew-resize;\n}\n\n.mediacontroller-progress-bar {\n  background: #f50;\n  background: var(--color-highlight);\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  top: 0;\n\n  /*transition: width 1s;*/\n}\n");var r=function(t,e){console.log("%c| "+t+": %c"+e,"padding:8px 0; color:#666; line-height:24px;","padding:8px 32px 8px 0; color:#f40; line-height:24px;")};function o(t){return{name:t.username,id:t._id,description:t.description||{},role:t.role}}function s(t){return{name:t.name,id:t._id,description:t.description||{},userIds:t.users}}function a(t){return{name:t.name,id:t._id,url:t.url,corpuId:t.id_corpus,description:t.description||{}}}function d(){return(new Date).valueOf()}var c={lists:{},actives:{},properties:{timeTotal:0,timeCurrent:0,isPlaying:!1,isLoaded:!1,seek:{seeking:!1}}},l={viewport:{namespaced:!0,state:{name:"",width:0,height:0,svg:{height:0,width:0,scale:1},animate:!1},mutations:{set:function(t,e){var n=e.animate,i=e.name,o=e.width,s=e.height;t.name=i,t.animate=n,t.width=o,t.height=s,r("Viewport",i)}},actions:{set:function(t){t.state;var e,n,i=t.commit,o=window.innerWidth,s=window.innerHeight;window.matchMedia("(min-width: 83.5em)").matches?(e="large",n=!0):window.matchMedia("(min-width: 63em)").matches?(e="desktop",n=!0):window.matchMedia("(min-width: 42.5em)").matches?(e="tablet",n=!1):window.matchMedia("(min-width: 22em)").matches?(e="mobile",n=!1):(r("Viewport","Default"),e="default",n=!1),i("set",{name:e,animate:n,width:o,height:s})}}},sync:{namespaced:!0,state:{list:[]},actions:{all:function(t){var e=t.dispatch;e("set",{},{root:!0}).then(function(t){e("messages/success","Synced with server",{root:!0})})},start:function(t,e){t.state.list.push(e)},stop:function(t,e){var n=t.state;n.list=n.list.filter(function(t){return t!==e})}},getters:{active:function(t){return t.list.length}}},popup:{namespaced:!0,state:{visible:!1,config:{},element:{}},mutations:{open:function(t,e){var n=e.config,i=e.element;t.visible=!0,t.config=n,t.element=JSON.parse(JSON.stringify(i))},close:function(t){t.visible=!1,t.config={}},fieldUpdate:function(e,n){var i=n.name,r=n.value;t.set(e.element,i,r)}}},dropdown:{namespaced:!0,state:{visible:!1,config:{}},mutations:{close:function(t){t.visible=!1,t.config={}},open:function(t,e){t.visible=!0,t.config=e}}},messages:{namespaced:!0,state:{list:[]},actions:{success:function(t,e){var n=t.commit;n("add",{content:e,type:"success",id:d()}),setTimeout(function(t){n("remove")},2e3)},error:function(t,e){var n=t.commit;n("add",{content:e,type:"error",id:d()}),setTimeout(function(t){n("remove")},2e3)}},mutations:{remove:function(t){t.list.shift()},add:function(t,e){t.list.push(e)}}},user:{namespaced:!0,state:{id:"",name:"",role:"",description:{},groupIds:[],isLogged:!1,isAdmin:!1,isRoot:!1},actions:{login:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState;return i("sync/start","userLogin",{root:!0}),r.api.login(e.user.name,e.user.password).then(function(t){return i("sync/stop","userLogin",{root:!0}),n("popup/close",null,{root:!0}),i("set"),t.message}).catch(function(t){throw i("sync/stop","userLogin",{root:!0}),i("messages/error",t.message,{root:!0}),i("reset",null,{root:!0}),t})},set:function(t){var e=t.commit,n=t.dispatch,i=t.rootState;return n("sync/start","userSet",{root:!0}),i.api.me().then(function(t){var i={id:t.data._id,name:t.data.username,role:t.data.role,description:t.data.description||{},groupIds:t.data.groups||[]};return n("sync/stop","userSet",{root:!0}),e("set",i),n("set",null,{root:!0}),i}).catch(function(t){throw n("sync/stop","userSet",{root:!0}),n("messages/error",t.message,{root:!0}),n("reset",null,{root:!0}),t})},logout:function(t){var e=t.commit,n=t.dispatch,i=t.rootState;return n("sync/start","userLogout",{root:!0}),i.api.logout().then(function(t){return n("sync/stop","userLogout",{root:!0}),n("reset",null,{root:!0}),e("popup/close",null,{root:!0}),e("dropdown/close",null,{root:!0}),t.message}).catch(function(t){throw n("sync/stop","userLogout",{root:!0}),n("messages/error",t.message,{root:!0}),n("reset",null,{root:!0}),t})}},getters:{isAdmin:function(t){return function(e){var n=e.users;void 0===n&&(n={});var i=e.groups;void 0===i&&(i={});var r=3===n[t.id],o=Object.keys(i).reduce(function(e,n){var r=3===i[n],o=t.groupIds.reduce(function(t,e){return t||e===n},!1);return e||r&&o},!1);return r||o}},isCurrentUser:function(t){return function(e){return t.id===e}},isInGroup:function(t){return function(e){return-1!==t.groupIds.indexOf(e)}},permission:function(t){return function(e){var n=e.users;void 0===n&&(n={});var i=e.groups;void 0===i&&(i={});var r=Object.keys(n).find(function(e){return e===t.id})&&n[t.id]||0,o=Object.keys(i).reduce(function(e,n){return Math.max(e,-1!==t.groupIds.indexOf(n)&&i[n])},0),s=t.isRoot?3:0;return Math.max(r,o,s)}}},mutations:{set:function(t,e){t.isLogged=!0,t.isAdmin="admin"===e.role,t.isRoot="root"===e.name,t.id=e.id,t.name=e.name,t.role=e.role,t.description=e.description,t.groupIds=e.groupIds},reset:function(t){t.isLogged=!1,t.isAdmin=!1,t.isRoot=!1,t.id="",t.name="",t.role="",t.description={},t.groupIds=[]},groupAdd:function(t,e){t.groupIds.push(e)},groupRemove:function(t,e){t.groupIds=t.groupIds.filter(function(t){return t!==e})}}},users:{namespaced:!0,state:{list:[]},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,s=e.element;return i("sync/start","usersAdd",{root:!0}),r.api.createUser(s.name,s.password,s.description,s.role).then(function(t){i("sync/stop","usersAdd",{root:!0});var e=o(t.data);return n("add",e),n("corpus/userAdd",e.id,{root:!0}),n("layers/userAdd",e.id,{root:!0}),i("messages/success","User added",{root:!0}),e}).catch(function(t){throw i("sync/stop","usersAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,s=e.element;return i("sync/start","usersUpdate",{root:!0}),r.api.updateUser(s.id,{password:s.password,role:s.role,description:s.description}).then(function(t){i("sync/stop","usersUpdate",{root:!0});var e=o(t.data);return n("update",e),e.name===r.user.name&&n("user/set",e,{root:!0}),i("messages/success","User updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","usersUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","usersRemove",{root:!0}),r.api.deleteUser(o).then(function(t){return i("sync/stop","usersRemove",{root:!0}),n("remove",o),n("corpus/userRemove",o,{root:!0}),n("layers/userRemove",o,{root:!0}),i("messages/success","User removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","usersRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},list:function(t){var e=t.commit,n=t.dispatch,i=t.rootState;return n("sync/start","usersList",{root:!0}),i.api.getUsers().then(function(t){n("sync/stop","usersList",{root:!0});var i=t.data.map(function(t){return o(t)});return e("list",i),i}).catch(function(t){throw n("sync/stop","usersList",{root:!0}),n("messages/error",t.message,{root:!0}),t})}},getters:{permissions:function(t){return function(e){return t.list.reduce(function(t,n){var i;return Object.assign(t,((i={})[n.id]=e&&e[n.id]?e[n.id]:0,i))},{})}}},mutations:{reset:function(e){t.set(e,"list",[])},add:function(t,e){t.list.push(e)},update:function(e,n){var i=e.list.findIndex(function(t){return t.id===n.id});t.set(e.list,i,n)},remove:function(e,n){var i=e.list.findIndex(function(t){return t.id===n});t.delete(e.list,i)},list:function(e,n){t.set(e,"list",n)}}},groups:{namespaced:!0,state:{list:[]},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","groupsAdd",{root:!0}),r.api.createGroup(o.name,o.description).then(function(t){i("sync/stop","groupsAdd",{root:!0});var e=s(t.data);return n("add",e),n("corpus/groupAdd",e.id,{root:!0}),n("layers/groupAdd",e.id,{root:!0}),i("messages/success","Group added",{root:!0}),e}).catch(function(t){throw i("sync/stop","groupsAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","groupsRemove",{root:!0}),r.api.deleteGroup(o).then(function(t){return i("sync/stop","groupsRemove",{root:!0}),n("remove",o),n("corpus/groupRemove",o,{root:!0}),n("layers/groupRemove",o,{root:!0}),i("messages/success","Group removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","groupsRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","groupsUpdate",{root:!0}),r.api.updateGroup(o.id,{description:o.description}).then(function(t){i("sync/stop","groupsUpdate",{root:!0});var e=s(t.data);return n("update",e),i("messages/success","Group updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","groupsUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},list:function(t){var e=t.commit,n=t.dispatch,i=t.rootState;return n("sync/start","groupsList",{root:!0}),i.api.getGroups().then(function(t){n("sync/stop","groupsList",{root:!0});var i=t.data.map(function(t){return s(t)});return e("list",i),i}).catch(function(t){throw n("sync/stop","groupsList",{root:!0}),n("messages/error",t.message,{root:!0}),t})},userAdd:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.userId,a=e.group;return i("sync/start","groupsUserAdd",{root:!0}),r.api.addUserToGroup(o,a.id).then(function(t){i("sync/stop","groupsUserAdd",{root:!0});var e=s(t.data);return n("update",e),i("messages/success","User added to group",{root:!0}),o===r.user.id&&(n("user/groupAdd",e.id,{root:!0}),i("corpus/listAll",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","groupsUserAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.userId,a=e.group;return i("sync/start","groupsUserRemove",{root:!0}),r.api.removeUserFromGroup(o,a.id).then(function(t){i("sync/stop","groupsUserRemove",{root:!0});var e=s(t.data);return n("update",e),i("messages/success","User removed from group",{root:!0}),o===r.user.id&&(n("user/groupRemove",e.id,{root:!0}),i("corpus/listAll",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","groupsUserRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})}},getters:{permissions:function(t){return function(e){return t.list.reduce(function(t,n){var i;return Object.assign(t,((i={})[n.id]=e&&e[n.id]?e[n.id]:0,i))},{})}}},mutations:{reset:function(e){t.set(e,"list",[])},add:function(t,e){t.list.push(e)},update:function(e,n){var i=e.list.findIndex(function(t){return t.id===n.id});t.set(e.list,i,n)},remove:function(e,n){var i=e.list.findIndex(function(t){return t.id===n});t.delete(e.list,i)},list:function(e,n){t.set(e,"list",n)}}},corpus:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.element;return i("sync/start","corpusAdd",{root:!0}),r.api.createCorpus(s.name,s.description,{}).then(function(t){i("sync/stop","corpusAdd",{root:!0});var e={name:t.data.name,id:t.data._id,permission:3,permissions:{users:o["users/permissions"]({}),groups:o["groups/permissions"]({})},description:t.data.description||{}};return e.permissions.users[r.user.id]=3,n("add",{corpu:e}),i("messages/success","Corpus added",{root:!0}),e}).catch(function(t){throw i("sync/stop","corpusAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","corpusRemove",{root:!0}),r.api.deleteCorpus(o).then(function(t){return i("sync/stop","corpusRemove",{root:!0}),n("remove",{id:o}),i("messages/success","Corpus removed",{root:!0}),i("setAll",{id:o}),o}).catch(function(t){throw i("sync/stop","corpusRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","corpusUpdate",{root:!0}),r.api.updateCorpus(o.id,{name:o.name,description:o.description}).then(function(t){i("sync/stop","corpusUpdate",{root:!0});var e=Object.assign({},o);return e.name=t.data.name,e.description=t.data.description||{},n("update",{corpu:e}),i("messages/success","Corpus updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","corpusUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.groupId,d=e.permission;return i("sync/start","corpusGroupPermissionSet",{root:!0}),o.api.setCorpusPermissionsForGroup(s,a,d).then(function(t){var e=t.data;return i("sync/stop","corpusGroupPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.groups&&e.groups[a]||0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),r["user/isInGroup"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusGroupPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.groupId;return i("sync/start","corpusGroupPermissionRemove",{root:!0}),o.api.removeCorpusPermissionsForGroup(s,a).then(function(t){var e=t.data;return i("sync/stop","corpusGroupPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),r["user/isInGroup"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusGroupPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.userId,d=e.permission;return i("sync/start","corpusUserPermissionSet",{root:!0}),o.api.setCorpusPermissionsForUser(s,a,d).then(function(t){var e=t.data;return i("sync/stop","corpusUserPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.users&&e.users[a]||0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),r["user/isCurrentUser"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusUserPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.userId;return i("sync/start","corpusUserPermissionRemove",{root:!0}),o.api.removeCorpusPermissionsForUser(s,a).then(function(t){var e=t.data;return i("sync/stop","corpusUserPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),r["user/isCurrentUser"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusUserPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},listAll:function(t){var e=t.state,n=t.dispatch;Object.keys(e.lists).forEach(function(t){n("list",t)})},list:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState;return i("sync/start","corpusList-"+e,{root:!0}),o.api.getCorpora().then(function(t){i("sync/stop","corpusList-"+e,{root:!0});var o=t.data.map(function(t){return{name:t.name,id:t._id,description:t.description||{},permission:r["user/permission"](t.permissions||{}),permissions:{users:r["users/permissions"](t.permissions&&t.permissions.users||{}),groups:r["groups/permissions"](t.permissions&&t.permissions.groups||{})}}});return n("list",{corpus:o,uid:e}),i("set",{uid:e}),o}).catch(function(t){throw i("sync/stop","corpusList-"+e,{root:!0}),i("messages/error",t.message,{root:!0}),t})},setAll:function(t,e){var n=t.state,i=t.dispatch,r=e.id;Object.keys(n.actives).forEach(function(t){n.actives[t]===r&&i("set",{uid:t})})},set:function(t,e){var n=t.state,i=t.getters,r=t.dispatch,o=t.commit,s=(t.rootState,e.id),a=e.uid;o("set",{id:s||i.id(a),uid:a}),n.actives[a]&&(r("medias/list",{corpuId:n.actives[a],corpuUid:a},{root:!0}),r("layers/list",{corpuId:n.actives[a],corpuUid:a},{root:!0}))}},getters:{id:function(t){return function(e){return t.actives[e]&&t.lists[e].find(function(n){return n.id===t.actives[e]}).id||t.lists[e][0]&&t.lists[e][0].id||null}},permission:function(t){return function(e){var n=t.lists[e]&&t.lists[e].find(function(n){return n.id===t.actives[e]});return n?n.permission:0}}},mutations:{register:function(e,n){t.set(e.lists,n,[]),t.set(e.actives,n,null)},resetAll:function(e){t.set(e,"lists",{}),t.set(e,"actives",{})},add:function(e,n){var i=n.corpu;Object.keys(e.lists).forEach(function(n){var r=e.lists[n].length;t.set(e.lists[n],r,i)})},update:function(e,n){var i=n.corpu;Object.keys(e.lists).forEach(function(n){var r=e.lists[n].findIndex(function(t){return t.id===i.id});-1!==r&&t.set(e.lists[n],r,i)})},remove:function(e,n){var i=n.id;Object.keys(e.lists).forEach(function(n){var r=e.lists[n].findIndex(function(t){return t.id===i});-1!==r&&t.delete(e.lists[n],r)})},groupAdd:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.set(e.permissions.groups,n,0)})})},groupRemove:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.delete(e.permissions.groups,n)})})},userAdd:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.set(e.permissions.users,n,0)})})},userRemove:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.delete(e.permissions.users,n)})})},permissionsUpdate:function(e,n){var i=n.id,r=n.typeId,o=n.permission,s=n.type;Object.keys(e.lists).forEach(function(n){var a=e.lists[n].findIndex(function(t){return t.id===i});-1!==a&&t.set(e.lists[n][a].permissions[s],r,o)})},list:function(e,n){var i=n.corpus,r=n.uid;t.set(e.lists,r,i)},set:function(e,n){var i=n.id,r=n.uid;t.set(e.actives,r,i)}}},medias:{namespaced:!0,state:c,actions:{add:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,d=e.element;return r("sync/start","mediasAdd",{root:!0}),o.api.createMedium(d.corpuId,d.name,d.url,d.description).then(function(t){r("sync/stop","mediasAdd",{root:!0});var e=a(t.data);return Object.keys(n.lists).forEach(function(t){s["corpus/id"](t)===d.corpuId&&(i("add",{media:e,corpuUid:t}),Object.keys(n.actives).forEach(function(i){n.actives[i].corpuUid===t&&r("set",{id:e.id,corpuUid:t,uid:i})}))}),r("messages/success","Medium added",{root:!0}),e}).catch(function(t){throw r("sync/stop","mediasAdd",{root:!0}),r("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=e.id;return r("sync/start","mediasRemove",{root:!0}),o.api.deleteMedium(s).then(function(t){return r("sync/stop","mediasRemove",{root:!0}),Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===s});-1!==e&&i("remove",{listIndex:e,corpuUid:t})}),r("unsetAll",{id:s}),r("messages/success","Medium removed",{root:!0}),s}).catch(function(t){throw r("sync/stop","mediasRemove",{root:!0}),r("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,a=e.element;return r("sync/start","mediasUpdate",{root:!0}),o.api.updateMedium(a.id,{name:a.name,description:a.description,url:a.url}).then(function(t){r("sync/stop","mediasUpdate",{root:!0});var e=Object.assign({},a);return e.name=t.data.name,e.url=t.data.url,e.description=t.data.description||{},Object.keys(n.lists).forEach(function(t){s["corpus/id"](t)===a.corpuId&&i("update",{media:e,corpuUid:t})}),r("messages/success","Medium updated",{root:!0}),e}).catch(function(t){throw r("sync/stop","mediasUpdate",{root:!0}),r("messages/error",t.message,{root:!0}),t})},list:function(t,e){var n=t.dispatch,i=t.commit,r=t.rootState,o=e.corpuId,s=e.corpuUid;return n("sync/start","mediasList-"+s,{root:!0}),r.api.getMedia({filter:{id_corpus:o}}).then(function(t){n("sync/stop","mediasList-"+s,{root:!0});var e=t.data.map(function(t){return a(t)});return i("list",{medias:e,corpuUid:s}),Object.keys(c.actives).forEach(function(t){c.actives[t].corpuUid===s&&n("set",{corpuUid:s,uid:t})}),e}).catch(function(t){throw n("sync/stop","mediasList-"+s,{root:!0}),n("messages/error",t.message,{root:!0}),t})},unsetAll:function(t,e){var n=t.state,i=t.dispatch,r=e.id;Object.keys(n.actives).forEach(function(t){n.actives[t].id===r&&i("set",{corpuUid:n.actives[t].corpuUid,uid:t})})},set:function(t,e){var n=t.state,i=t.getters,r=t.dispatch,o=t.commit,s=e.id,a=e.corpuUid,d=e.uid;n.properties[d]&&n.properties[d].isPlaying&&r("pause",{uid:d}),o("set",{id:s||i.id({corpuUid:a,uid:d}),uid:d}),r("annotations/mediaSet",{mediaId:n.actives[d].id,mediaUid:d},{root:!0})},play:function(e,n){var i=e.state,r=e.commit,o=n.uid,s=Date.now(),a=i.properties[o].timeCurrent;i.properties[o].interval=setInterval(function(){var e=Date.now()-s;t.set(i.properties[o],"timeCurrent",a+e)},0),r("play",{uid:o})},pause:function(t,e){var n=t.state,i=t.commit,r=e.uid;clearInterval(n.properties[r].interval),i("pause",{uid:r})},buffering:function(t,e){var n=t.state,i=(t.commit,e.uid);clearInterval(n.properties[i].interval)},stop:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=e.uid;clearInterval(n.properties[o].interval),i("pause",{uid:o}),r("seek",{ratio:0,serverRequest:!0,uid:o})},seek:function(e,n){var i=e.state,r=e.commit,o=(e.dispatch,n.ratio),s=n.serverRequest,a=n.uid;i.properties[a].isPlaying&&clearInterval(i.properties[a].interval),t.set(i.properties[a],"timeCurrent",o*i.properties[a].timeTotal),r("seek",{options:{seeking:!0,serverRequest:s},uid:a})}},getters:{id:function(t){return function(e){var n=e.corpuUid,i=e.uid;return t.actives[i]&&t.lists[n].find(function(e){return e.id===t.actives[i].id})&&t.actives[i].id||t.lists[n][0]&&t.lists[n][0].id||null}},properties:function(t,e){return function(n,i){return e.active(n,i)?t.properties[n]:{}}},filter:function(t){return function(e,n){var i=t.actives[e];return i&&t.lists[i.corpuUid]?n(t.lists[i.corpuUid].find(function(t){return t.id===i.id})):null}},active:function(t){return function(e){var n=t.actives[e];return n&&t.lists[n.corpuUid]?t.lists[n.corpuUid].find(function(t){return t.id===n.id}):null}}},mutations:{register:function(e,n){var i=n.uid,r=n.corpuUid;t.set(e.actives,i,{corpuUid:r,description:{}}),t.set(e.properties,i,null)},descriptionRegister:function(e,n){var i=n.uid,r=n.description;t.set(e.actives[i],"description",r)},resetAll:function(e){t.set(e,"lists",{}),t.set(e,"actives",{}),t.set(e,"properties",{})},add:function(e,n){var i=n.media,r=n.corpuUid,o=e.lists[r].length;t.set(e.lists[r],o,i)},update:function(e,n){var i=n.media,r=n.corpuUid,o=e.lists[r].findIndex(function(t){return t.id===i.id});t.set(e.lists[r],o,i)},remove:function(e,n){var i=n.listIndex,r=n.corpuUid;t.delete(e.lists[r],i)},list:function(e,n){var i=n.medias,r=n.corpuUid;t.set(e.lists,r,i)},set:function(e,n){var i=n.id,r=n.uid;t.set(e.actives[r],"id",i),t.set(e.properties,r,{timeTotal:0,timeCurrent:0,isPlaying:!1,isLoaded:!1,seek:{seeking:!1}})},loaded:function(e,n){var i=n.isLoaded,r=n.uid;t.set(e.properties[r],"isLoaded",i)},play:function(e,n){var i=n.uid;t.set(e.properties[i],"isPlaying",!0)},pause:function(e,n){var i=n.uid;t.set(e.properties[i],"isPlaying",!1)},timeTotal:function(e,n){var i=n.time,r=n.uid;t.set(e.properties[r],"timeTotal",i)},seek:function(e,n){var i=n.options,r=n.uid;t.set(e.properties[r],"seek",i)}}},layers:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,a=e.element;return r("sync/start","layersAdd",{root:!0}),o.api.createLayer(a.corpuId,a.name,a.description,a.fragmentType,a.metadataType,a.annotations).then(function(t){r("sync/stop","layersAdd",{root:!0});var e={name:t.data.name,id:t.data._id,permission:3,permissions:{users:s["users/permissions"]({}),groups:s["groups/permissions"]({})},description:t.data.description||{},fragmentType:t.data.fragment_type||{},metadataType:t.data.data_type||{},annotations:t.data.annotations};return e.permissions.users[o.user.id]=3,Object.keys(n.lists).forEach(function(t){s["corpus/id"](t)===a.corpuId&&i("add",{layer:e,corpuUid:t}),Object.keys(n.actives).forEach(function(i){n.actives[i].corpuUid===t&&r("set",{uid:i,id:e.id})})}),r("messages/success","Layer added",{root:!0}),e}).catch(function(t){throw r("sync/stop","layersAdd",{root:!0}),r("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=e.id;return r("sync/start","layersRemove",{root:!0}),o.api.deleteLayer(s).then(function(t){return r("sync/stop","layersRemove",{root:!0}),Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===s});-1!==e&&i("remove",{listIndex:e,corpuUid:t})}),Object.keys(n.actives).forEach(function(t){-1!==n.actives[t].ids.findIndex(function(t){return t.id===s})&&r("unset",{id:s,uid:t})}),r("messages/success","Layer removed",{root:!0}),s}).catch(function(t){throw r("sync/stop","layersRemove",{root:!0}),r("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,a=e.element;return r("sync/start","layersUpdate",{root:!0}),o.api.updateLayer(a.id,{name:a.name,description:a.description,fragment_type:a.fragmentType,data_type:a.metadataType}).then(function(t){r("sync/stop","layersUpdate",{root:!0});var e=Object.assign({},a);return e.description=t.data.description||{},e.fragmentType=t.data.fragment_type||{},e.metadataType=t.data.data_type||{},Object.keys(n.lists).forEach(function(t){s["corpus/id"](t)===a.corpuId&&i("update",{layer:e,corpuUid:t})}),r("messages/success","Layer updated",{root:!0}),e}).catch(function(t){throw r("sync/stop","layersUpdate",{root:!0}),r("messages/error",t.message,{root:!0}),t})},groupPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.groupId,d=e.permission;return i("sync/start","layersGroupPermissionSet",{root:!0}),r.api.setLayerPermissionsForGroup(s,a,d).then(function(t){var e=t.data;return i("sync/stop","layersGroupPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.groups&&e.groups[a]||0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),o["user/isInGroup"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersGroupPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.groupId;return i("sync/start","layersGroupPermissionRemove",{root:!0}),r.api.removeLayerPermissionsForGroup(s,a).then(function(t){var e=t.data;return i("sync/stop","layersGroupPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),o["user/isInGroup"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersGroupPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.userId,d=e.permission;return i("sync/start","layersUserPermissionSet",{root:!0}),r.api.setLayerPermissionsForUser(s,a,d).then(function(t){var e=t.data;return i("sync/stop","layersUserPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.users&&e.users[a]||0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),o["user/isCurrentUser"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersUserPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.userId;return i("sync/start","layersUserPermissionRemove",{root:!0}),r.api.removeLayerPermissionsForUser(s,a).then(function(t){var e=t.data;return i("sync/stop","layersUserPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),o["user/isCurrentUser"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersUserPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},listAll:function(t){var e=t.state,n=t.dispatch,i=t.rootState;Object.keys(e.lists).forEach(function(t){n("list",{corpuId:i.corpus.actives[t],corpuUid:t})})},list:function(t,e){var n=t.dispatch,i=t.commit,r=t.rootState,o=t.rootGetters,s=e.corpuId,a=e.corpuUid;return n("sync/start","layersList-"+a,{root:!0}),r.api.getLayers({filter:{id_corpus:s}}).then(function(t){n("sync/stop","layersList-"+a,{root:!0});var e=t.data.map(function(t){return{name:t.name,id:t._id,description:t.description||{},permission:o["user/permission"](t.permissions),permissions:{users:o["users/permissions"](t.permissions&&t.permissions.users||{}),groups:o["groups/permissions"](t.permissions&&t.permissions.groups||{})},fragmentType:t.fragment_type||{},metadataType:t.data_type||{},annotations:t.annotations||[]}});return i("list",{layers:e,corpuUid:a}),e}).catch(function(t){throw n("sync/stop","layersList-"+a,{root:!0}),n("messages/error",t.message,{root:!0}),t})},setAll:function(t,e){var n=t.state,i=t.dispatch,r=(t.commit,e.corpuUid);Object.keys(n.actives).forEach(function(t){n.lists[r].forEach(function(e){i("set",{id:e.id,corpuUid:r,uid:t})})})},set:function(t,e){var n=t.dispatch,i=t.commit,r=e.id,o=e.uid;i("set",{id:r,uid:o}),n("annotations/layerSet",{layersUid:o,layerId:r},{root:!0})},unset:function(t,e){var n=t.dispatch,i=t.commit,r=e.id,o=e.uid;i("unset",{id:r,uid:o}),n("annotations/layerUnset",{layersUid:o,layerId:r},{root:!0})}},getters:{activeIds:function(t){return function(e){return t.actives[e]&&t.actives[e].ids||[]}},actives:function(t){return function(e){var n=t.actives[e],i=t.lists[n.corpuUid];return n&&i?i.filter(function(t){return-1!==n.ids.indexOf(t.id)}):{}}},details:function(t){return function(e,n){var i=t.actives[e],r=t.lists[i.corpuUid];return i&&r?r.find(function(t){return t.id===n}):{}}}},mutations:{register:function(e,n){var i=n.uid,r=n.corpuUid;t.set(e.actives,i,{corpuUid:r,ids:[],fragmentType:{},metadataType:{}})},typesRegister:function(t,e){var n=e.uid,i=e.fragmentType,r=e.metadataType;i&&Object.assign(t.actives[n].fragmentType,i),r&&Object.assign(t.actives[n].metadataType,r)},resetAll:function(e){t.set(e,"lists",{}),t.set(e,"actives",{})},add:function(e,n){var i=n.layer,r=n.corpuUid,o=e.lists[r].length;t.set(e.lists[r],o,i)},remove:function(e,n){var i=n.listIndex,r=n.corpuUid;t.delete(e.lists[r],i)},update:function(e,n){var i=n.layer,r=n.corpuUid,o=e.lists[r].findIndex(function(t){return t.id===i.id});t.set(e.lists[r],o,i)},groupAdd:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.set(e.permissions.groups,n,0)})})},groupRemove:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.delete(e.permissions.groups,n)})})},userAdd:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.set(e.permissions.users,n,0)})})},userRemove:function(e,n){Object.keys(e.lists).forEach(function(i){e.lists[i].forEach(function(e){t.delete(e.permissions.users,n)})})},permissionsUpdate:function(e,n){var i=n.id,r=n.typeId,o=n.permission,s=n.type;Object.keys(e.lists).forEach(function(n){var a=e.lists[n].findIndex(function(t){return t.id===i});-1!==a&&t.set(e.lists[n][a].permissions[s],r,o)})},list:function(e,n){var i=n.layers,r=n.corpuUid;t.set(e.lists,r,i)},set:function(e,n){var i=n.id,r=n.uid;t.set(e.actives[r].ids,e.actives[r].ids.length,i)},unset:function(e,n){var i=n.id,r=n.uid,o=e.actives[r].ids.findIndex(function(t){return t===i});-1!==o&&t.delete(e.actives[r].ids,o)}}},annotations:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","annotationsAdd",{root:!0}),r.api.createAnnotation(o.layerId,o.mediaId||null,o.fragment,o.metadata).then(function(t){i("sync/stop","annotationsAdd",{root:!0});var e={id:t.data._id,fragment:t.data.fragment||{},metadata:t.data.data||{},layerId:t.data.id_layer,mediaId:t.data.id_medium||null};return n("add",{annotation:e,layerId:o.layerId}),i("messages/success","Annotation added",{root:!0}),e}).catch(function(t){throw i("sync/stop","annotationsAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","annotationsRemove",{root:!0}),r.api.deleteAnnotation(o).then(function(t){return i("sync/stop","annotationsRemove",{root:!0}),n("remove",{id:o}),i("messages/success","Annotation removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","annotationsRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","annotationsUpdate",{root:!0}),r.api.updateAnnotation(o.id,{fragment:o.fragment,data:o.metadata}).then(function(t){i("sync/stop","annotationsUpdate",{root:!0});var e=Object.assign({},o);return e.fragment=t.data.fragment||{},e.metadata=t.data.data||{},n("update",{annotation:e,layerId:o.layerId}),i("messages/success","Annotation updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","annotationsUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},layerSet:function(t,e){var n=t.state,i=t.dispatch,r=t.rootState,o=e.layersUid,s=e.layerId;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].mediaUid;n.lists[t].layersUid===o&&r.medias.actives[e]&&i("list",{uid:t,layerId:s,layersUid:o,mediaId:r.medias.actives[e].id})})},layerUnset:function(t,e){(0,t.commit)("reset",{layersUid:e.layersUid,layerId:e.layerId})},mediaSet:function(t,e){var n=t.state,i=t.dispatch,r=t.rootState,o=e.mediaUid,s=e.mediaId;Object.keys(n.lists).forEach(function(t){var e=n.lists[t];e.mediaUid===o&&r.layers.actives[e.layersUid]&&Object.keys(e.layers).forEach(function(n){i("list",{uid:t,layerId:n,layersUid:e.layersUid,mediaId:s})})})},list:function(t,e){t.state;var n=t.dispatch,i=t.commit,r=t.rootState,o=e.uid,s=e.layerId,a=e.layersUid,d=e.mediaId;return n("sync/start","annotationsList-"+o,{root:!0}),r.api.getAnnotations({filter:{id_layer:s,id_medium:d}}).then(function(t){n("sync/stop","annotationsList-"+o,{root:!0});var e=t.data.map(function(t){return{id:t._id,fragment:t.fragment||{},metadata:t.data||{},layerId:t.id_layer,mediaId:t.id_medium||null}});return i("list",{annotations:e,uid:o,layerId:s,layersUid:a}),e}).catch(function(t){throw n("sync/stop","annotationsList-"+a,{root:!0}),n("messages/error",t.message,{root:!0}),t})}},getters:{lists:function(t){return function(e){return t.lists[e]&&t.lists[e].layers||{}}},filter:function(t){return function(e,n){return t.lists[e]&&Object.keys(t.lists[e].layers).reduce(function(i,r){var o;return Object.assign(i,((o={})[r]=t.lists[e].layers[r].filter(function(t){return n(t)}),o))},{})}},filtered:function(t){return function(e){return t.lists[e]&&t.lists[e].filters.reduce(function(t,e){return Object.keys(t).reduce(function(n,i){var r;return Object.assign(n,((r={})[i]=t[i].filter(function(t){return e(t)}),r))},{})},t.lists[e].layers)}},active:function(t){return function(e){return Object.keys(t.lists[e].layers).reduce(function(n,i){return n||t.lists[e].layers[i].find(function(n){return n.id===t.actives[e]})},null)}}},mutations:{register:function(e,n){var i=n.uid,r=n.mediaUid,o=n.layersUid;t.set(e.actives,i,null),t.set(e.lists,i,{mediaUid:r,layersUid:o,layers:{},filters:[]})},filterRegister:function(t,e){var n=e.uid,i=e.filter;t.lists[n].filters.push(i)},resetAll:function(e){t.set(e,"lists",{}),t.set(e,"actives",{})},reset:function(e,n){var i=n.layersUid,r=n.layerId;Object.keys(e.lists).forEach(function(n){var o=e.lists[n];o.layersUid===i&&(t.delete(o,r),t.set(e.actives,n,null))})},add:function(e,n){var i=n.annotation,r=n.layerId;Object.keys(e.lists).forEach(function(n){var o=e.lists[n].layers[r];o&&t.set(o,o.length,i)})},update:function(e,n){var i=n.annotation,r=n.layerId;Object.keys(e.lists).forEach(function(n){var o=e.lists[n].layers[r];if(o){var s=o.findIndex(function(t){return t.id===i.id});t.set(o,s,i)}})},remove:function(e,n){var i=n.id;Object.keys(e.lists).forEach(function(n){Object.keys(e.lists[n].layers).forEach(function(r){var o=e.lists[n].layers[r],s=o.findIndex(function(t){return t.id===i});-1!==s&&(t.delete(o,s),e.actives[n]===i&&t.set(e.actives,n,null))})})},list:function(e,n){var i=n.annotations,r=n.uid,o=n.layerId;n.layersUid;t.set(e.lists[r].layers,o,i)},set:function(e,n){var i=n.id,r=n.uid;t.set(e.actives,r,i)},unset:function(e,n){n.id;var i=n.uid;t.set(e.actives,i,null)}}}},u={set:function(t){var e=t.dispatch;Promise.all([].concat(["users","groups"].map(function(t){return e(t+"/list",{},{root:!0}).then(function(t){return t}).catch(function(t){return t})}))).then(function(t){e("corpus/listAll",null,{root:!0})})},reset:function(t){var e=t.commit;e("user/reset",null,{root:!0}),e("users/reset",null,{root:!0}),e("groups/reset",null,{root:!0}),e("corpus/resetAll",null,{root:!0}),e("medias/resetAll",null,{root:!0}),e("layers/resetAll",null,{root:!0}),e("annotations/resetAll",null,{root:!0})}},p={register:function(t,e){var i=e.url,r=e.title,o=e.user;t.config={url:i,title:r,user:o},t.api=new n(i)}};t.use(i),t.filter("stringEnd",function(t){return t.substr(t.length-6)});var m=new i.Store({actions:u,mutations:p,modules:l});!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var g={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[],name:"CamomileUtilsViewport",mounted:function(){window.addEventListener("resize",this.resize),this.resize()},methods:{resize:function(){return this.$store.dispatch("viewport/set")}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"absolute full bg-alpha",on:{click:t.closeDefault}}),t._v(" "),n("div",{staticClass:"popup fixed shadow full bg-bg"},[n("div",{staticClass:"popup-header flex flex-start p"},[n("h2",{staticClass:"mb-0 mt-s"},[t._v(t._s(t.config.title))]),t._v(" "),t.config.closeBtn?n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:t.close}},[n("i",{staticClass:"icon-24 icon-24-close"})]):t._e()]),t._v(" "),n("div",{staticClass:"popup-content px pt"},[n(t.config.component,{tag:"component",on:{"popup-close":t.close}})],1)])])},staticRenderFns:[],name:"CamomilePopup",computed:{config:function(){return this.$store.state.popup.config}},created:function(){this.config.closeBtn&&document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){this.config.closeBtn&&document.removeEventListener("keyup",this.keyup)},methods:{close:function(){this.$store.commit("popup/close")},closeDefault:function(){this.config.closeBtn&&this.close()},keyup:function(t){27===(t.which||t.keyCode)&&this.close()}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"pt-s"},[t._v(t._s(t.title))]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fields,expression:"fields"}],ref:"field",staticClass:"mb",domProps:{value:t.fields},on:{keyup:t.resize,input:function(e){e.target.composing||(t.fields=e.target.value)}}})])},staticRenderFns:[],name:"CamomilePopupEditJson",props:{name:{type:String,default:"default"},title:{type:String,default:"default"}},computed:{fields:{get:function(){return JSON.stringify(this.$store.state.popup.element[this.name],void 0,2)},set:function(t){this.jsonCheck(t)&&this.$store.commit("popup/fieldUpdate",{name:this.name,value:JSON.parse(t)})}}},mounted:function(){var t=this.$refs.field;t.style.height=t.scrollHeight+"px"},methods:{jsonCheck:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},resize:function(t){var e=t.target;e.style.height=e.scrollHeight+"px"}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["annotations"!==t.type?n("div",{staticClass:"tablet-blobs"},[t._m(0),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.name,expression:"element.name"}],ref:"name",staticClass:"mb",attrs:{disabled:t.element.id&&("users"===t.type||"groups"===t.type),type:"text",placeholder:"Name"},domProps:{value:t.element.name},on:{input:function(e){e.target.composing||t.$set(t.element,"name",e.target.value)}}})])]):t._e(),t._v(" "),"users"===t.type?n("div",{staticClass:"tablet-blobs"},[t._m(1),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.element.role,expression:"element.role"}],staticClass:"mb",attrs:{disabled:!t.rolesPermission,type:"text"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.element,"role",e.target.multiple?n:n[0])}}},t._l(t.roles,function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))])]):t._e(),t._v(" "),"users"===t.type?n("div",{staticClass:"tablet-blobs"},[t._m(2),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.password,expression:"element.password"}],staticClass:"mb",attrs:{type:"password",placeholder:"••••••••"},domProps:{value:t.element.password},on:{input:function(e){e.target.composing||t.$set(t.element,"password",e.target.value)}}})])]):t._e(),t._v(" "),"medias"===t.type?n("div",{staticClass:"tablet-blobs"},[t._m(3),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.url,expression:"element.url"}],staticClass:"mb",attrs:{type:"text",placeholder:"http://…"},domProps:{value:t.element.url},on:{input:function(e){e.target.composing||t.$set(t.element,"url",e.target.value)}}})])]):t._e(),t._v(" "),"annotations"===t.type?n("object-field",{attrs:{name:"fragment",title:"Fragment"}}):t._e(),t._v(" "),"annotations"===t.type?n("object-field",{attrs:{name:"metadata",title:"Meta-data"}}):t._e(),t._v(" "),"layers"===t.type?n("object-field",{attrs:{name:"fragmentType",title:"Fragment type"}}):t._e(),t._v(" "),"layers"===t.type?n("object-field",{attrs:{name:"metadataType",title:"Meta-data type"}}):t._e(),t._v(" "),"annotations"!==t.type?n("object-field",{attrs:{name:"description",title:"Description"}}):t._e(),t._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-4"}),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",attrs:{disabled:!t.element.name&&"annotations"!==t.type},on:{click:t.save,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.save(e):null}}},[t._v("Save")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Role")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Password")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Url")])])}],name:"CamomilePopupEdit",components:{objectField:f},data:function(){return{roles:["admin","user"]}},computed:Object.assign({},e.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type},rolesPermission:function(t){return t.user.id!==t.popup.element.id}})),created:function(){document.addEventListener("keyup",this.keyup)},mounted:function(){"annotations"!==this.type&&this.$refs.name.focus()},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{save:function(){this.element.id?this.$store.dispatch(this.type+"/update",{element:this.element}):this.$store.dispatch(this.type+"/add",{element:this.element}),this.$store.commit("popup/close")},keyup:function(t){13===(t.which||t.keyCode)&&this.save()}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown"},[t.isAdmin?n("div",[n("button",{staticClass:"btn px-m py-s full-x",on:{click:function(e){t.popupOpen({config:t.popupEditConfig,element:t.user})}}},[t._v("Settings…")])]):t._e(),t._v(" "),n("div",[n("button",{staticClass:"btn px-m py-s full-x mr home",on:{click:t.logout}},[t._v("Logout")])])])},staticRenderFns:[],name:"CamomileHeaderUserbuttonDropdown",data:function(){return{popupEditConfig:{type:"users",closeBtn:!0,title:"Edit user",component:v}}},computed:{user:function(){return this.$store.state.user},isAdmin:function(){return this.$store.state.user.isAdmin}},methods:{close:function(){this.$store.commit("dropdown/close")},logout:function(){return this.$store.dispatch("user/logout")},popupOpen:function(t){var e=t.config,n=t.element;this.$store.commit("popup/open",{config:e,element:n}),this.close()}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var y={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn-menubar px-m py-s full-x",class:{active:this.visible},on:{click:this.dropdownToggle}},[this._v(this._s(this.user.name))])},staticRenderFns:[],name:"CamomileHeaderUserbutton",computed:Object.assign({},e.mapState({user:function(t){return t.user},visible:function(t){return t.dropdown.visible}})),methods:{dropdownToggle:function(){this.visible?this.$store.commit("dropdown/close"):this.$store.commit("dropdown/open",{component:b})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blobs"},[e("div",{staticClass:"tablet-blob-1-4"},[e("cml-title")],1),this._v(" "),this.isLogged?e("div",{staticClass:"tablet-blob-1-2"},[e("div",{staticClass:"blobs"},[e("div",{staticClass:"blob"},[e("cml-sync",{staticClass:"mb-0"})],1),this._v(" "),e("div",{staticClass:"blob-auto"},[e("cml-infos")],1)])]):this._e(),this._v(" "),this.isLogged?e("div",{staticClass:"blob flex-right"},[e("cml-userbutton")],1):this._e()])},staticRenderFns:[],name:"CamomileHeader",components:{cmlTitle:{render:function(){var t=this.$createElement;return(this._self._c||t)("h1",{staticClass:"mb-0"},[this._v(this._s(this.title))])},staticRenderFns:[],name:"CamomileHeaderTitle",computed:{title:function(){return this.$store.state.config.title}}},cmlInfos:{render:function(){var t=this.$createElement;return(this._self._c||t)("h6",{staticClass:"menubar-infos mb-0"},[this._v(this._s(this.url))])},staticRenderFns:[],name:"CamomileHeaderInfos",computed:{url:function(){return this.$store.state.config.url}}},cmlUserbutton:y,cmlSync:{render:function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn-menubar px-m py-s full-x",on:{click:this.sync}},[e("i",{staticClass:"icon-24 icon-24-dot",class:{blink:this.active}})])},staticRenderFns:[],name:"CamomileHeaderSyncbutton",computed:{active:function(){return this.$store.getters["sync/active"]}},methods:{sync:function(){this.$store.dispatch("sync/all")}}}},computed:{isLogged:function(){return this.$store.state.user.isLogged}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tablet-blobs"},[t._m(0),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.user.name,expression:"config.user.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.config.user.name},on:{input:function(e){e.target.composing||t.$set(t.config.user,"name",e.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.user.password,expression:"config.user.password"}],staticClass:"mb",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.config.user.password},on:{input:function(e){e.target.composing||t.$set(t.config.user,"password",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"tablet-blob-1-4"}),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",on:{click:function(e){t.login(t.config)}}},[t._v("Login")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Password")])])}],name:"CamomileLoginPopup",computed:{config:function(){return this.$store.state.config}},created:function(){document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{login:function(t){return this.$store.dispatch("user/login",t)},keyup:function(t){13===(t.which||t.keyCode)&&this.login(this.config)}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var _={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[],name:"CamomileLogin",created:function(){this.$store.commit("popup/open",{config:{title:"Login",closeBtn:!1,component:C},element:{}})}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page relative"},[n("header",{staticClass:"header bg-inverse color-bg shadow"},[n("div",{staticClass:"container"},[n("cml-header")],1)]),t._v(" "),n("main",{staticClass:"main"},[n("div",{staticClass:"container pt"},[t.isLogged?t._t("default"):n("cml-login")],2),t._v(" "),n("transition",{attrs:{name:"transition-top"}},[t.popup.visible?n("cml-popup"):t._e()],1),t._v(" "),n("cml-messages"),t._v(" "),n("cml-dropdown"),t._v(" "),n("viewport")],1)])},staticRenderFns:[],store:m,name:"Camomile",components:{viewport:g,cmlHeader:x,cmlLogin:_,cmlPopup:h,cmlMessages:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"messages absolute center"},[n("transition-group",{attrs:{name:"transition-bottom",tag:"div"}},t._l(t.messages,function(e){return e.content?n("div",{key:e.id,staticClass:"px-m py-s mb color-bg b",class:"bg-"+e.type},[t._v(t._s(e.content)+" ")]):t._e()}))],1)},staticRenderFns:[],name:"CamomileUtilsMessages",computed:{messages:function(){return this.$store.state.messages.list}}},cmlDropdown:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"transition-top"}},[t.dropdown.visible?n("div",{staticClass:"absolute full bg-alpha",on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}},[n("div",{staticClass:"container relative"},[n(t.dropdown.config.component,{tag:"component"})],1)]):t._e()])},staticRenderFns:[],name:"CamomileUtilsDropdown",computed:{dropdown:function(){return this.$store.state.dropdown}},methods:{close:function(){this.$store.commit("dropdown/close")}}}},props:{userName:{type:String,default:""},userPassword:{type:String,default:""},url:{type:String,default:"http://localhost:3000"},title:{type:String,default:"Camomile UI"}},computed:Object.assign({},e.mapState({isLogged:function(t){return t.user.isLogged},popup:function(t){return t.popup}})),created:function(){this.$store.commit("register",{url:this.url,title:this.title,user:{name:this.userName,password:this.userPassword}})}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["annotations"!==t.type?n("div",{staticClass:"tablet-blobs"},[t._m(0),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.name,expression:"element.name"}],staticClass:"mb",attrs:{disabled:t.element.id,type:"text",placeholder:"Name"},domProps:{value:t.element.name},on:{input:function(e){e.target.composing||t.$set(t.element,"name",e.target.value)}}})])]):t._e(),t._v(" "),"annotations"===t.type?n("div",{staticClass:"tablet-blobs"},[t._m(1),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.id,expression:"element.id"}],staticClass:"mb",attrs:{disabled:t.element.id,type:"text",placeholder:"Name"},domProps:{value:t.element.id},on:{input:function(e){e.target.composing||t.$set(t.element,"id",e.target.value)}}})])]):t._e(),t._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-4"}),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",on:{click:t.remove,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.remove(e):null}}},[t._v("Remove")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Id")])])}],name:"CamomilePopupRemove",computed:Object.assign({},e.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type}})),created:function(){document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{remove:function(){this.$store.dispatch(this.type+"/remove",{id:this.element.id}),this.$store.commit("popup/close")},keyup:function(t){13===(t.which||t.keyCode)&&this.remove()}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tablet-blobs"},[t._m(0),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Name",disabled:"disabled"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1"},[n("h3",{staticClass:"mb-s"},[t._v("Groups")]),t._v(" "),n("ul",{staticClass:"list-inline clearfix"},t._l(t.groups,function(e){return n("li",{key:e.id,staticClass:"tag",class:{active:t.groupActive(e.id)}},[n("button",{staticClass:"btn px-m py-xs h5 pill",on:{click:function(n){t.groupToggle(e)}}},[t._v(t._s(e.name))])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])}],name:"CamomilePopupGroups",computed:{groups:function(){return this.$store.state.groups.list},user:function(){var t=this;return this.$store.state.users.list.find(function(e){return e.id===t.$store.state.popup.element.id})}},methods:{groupToggle:function(t){this.groupActive(t.id)?this.$store.dispatch("groups/userRemove",{userId:this.user.id,group:t}):this.$store.dispatch("groups/userAdd",{userId:this.user.id,group:t})},groupActive:function(t){return-1!==this.groups.find(function(e){return e.id===t}).userIds.indexOf(this.user.id)}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAdmin?n("div",{staticClass:"p bg-bg mb"},[n("div",{staticClass:"flex flex-start"},[n("h2",{staticClass:"mt-xs"},[t._v("Users")]),t._v(" "),n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(e){t.popupOpen({config:t.popupAddConfig,element:{description:{},role:"user"}})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})])]),t._v(" "),n("div",[n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.users,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.role))]),t._v(" "),n("td",{staticClass:"text-right"},[n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupGroupsConfig,element:e})}}},[t._v("Groups")]),t._v(" "),n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupEditConfig,element:e})}}},[t._v("Edit")]),t._v(" "),e.id!==t.userId?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupRemoveConfig,element:e})}}},[t._v("Remove")]):t._e()])])})],2)])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Name")]),e("th",[this._v("Role")]),e("th")])}],name:"CamomileUsers",data:function(){return{popupEditConfig:{type:"users",closeBtn:!0,title:"Edit user",component:v},popupAddConfig:{type:"users",closeBtn:!0,title:"Add user",component:v},popupGroupsConfig:{closeBtn:!0,title:"User groups",component:E},popupRemoveConfig:{type:"users",closeBtn:!0,title:"Remove user",component:w}}},computed:Object.assign({},e.mapState({isAdmin:function(t){return t.user.isAdmin},users:function(t){return t.users.list},userId:function(t){return t.user.id}})),methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var $={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tablet-blobs"},[t._m(0),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.group.name,expression:"group.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name",disabled:"disabled"},domProps:{value:t.group.name},on:{input:function(e){e.target.composing||t.$set(t.group,"name",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1"},[n("h3",{staticClass:"pt-s mb-s"},[t._v("Users")]),t._v(" "),n("ul",{staticClass:"list-inline"},t._l(t.users,function(e){return n("li",{key:e.id,staticClass:"tag",class:{active:t.userActive(e.id)}},[n("button",{staticClass:"btn px-m py-xs h5 pill",on:{click:function(n){t.userToggle(e.id)}}},[t._v(t._s(e.name))])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])}],name:"CamomilePopupUsers",computed:{users:function(){return this.$store.state.users.list},group:function(){var t=this;return this.$store.state.groups.list.find(function(e){return e.id===t.$store.state.popup.element.id})}},methods:{userToggle:function(t){this.userActive(t)?this.$store.dispatch("groups/userRemove",{userId:t,group:this.group}):this.$store.dispatch("groups/userAdd",{userId:t,group:this.group})},userActive:function(t){return this.group.userIds.indexOf(t)>-1}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAdmin?n("div",{staticClass:"p bg-bg mb"},[n("div",{staticClass:"flex flex-start"},[n("h2",{staticClass:"mt-xs"},[t._v("Groups")]),t._v(" "),n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(e){t.popupOpen({config:t.popupAddConfig,element:{description:{}}})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})])]),t._v(" "),n("div",[n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.groups,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.userIds.length))]),t._v(" "),n("td",{staticClass:"text-right"},[n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupUsersConfig,element:e})}}},[t._v("Users")]),t._v(" "),n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupEditConfig,element:e})}}},[t._v("Edit")]),t._v(" "),t.isRoot?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupRemoveConfig,element:e})}}},[t._v("Remove")]):t._e()])])})],2)])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Name")]),e("th",[this._v("Users")]),e("th")])}],name:"CamomileGroups",data:function(){return{popupRemoveConfig:{type:"groups",closeBtn:!0,title:"Remove group",component:w},popupEditConfig:{type:"groups",closeBtn:!0,title:"Edit group",component:v},popupAddConfig:{type:"groups",closeBtn:!0,title:"Add group",component:v},popupUsersConfig:{closeBtn:!0,title:"Group users",component:$}}},computed:Object.assign({},e.mapState({isAdmin:function(t){return t.user.isAdmin},groups:function(t){return t.groups.list},isRoot:function(t){return t.user.isRoot}})),methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},refresh:function(){return this.$store.dispatch("groups/list")}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var U={render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[],name:"CamomileCorpus",props:{uid:{type:String,default:"default"}},created:function(){this.$store.commit("corpus/register",this.uid)}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"tag",class:{active:t.isActive(1)}},[n("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(e){t.toggle(1)}}},[t._v("R")])]),t._v(" "),n("li",{staticClass:"tag",class:{active:t.isActive(2)}},[n("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(e){t.toggle(2)}}},[t._v("W")])]),t._v(" "),n("li",{staticClass:"tag",class:{active:t.isActive(3)}},[n("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(e){t.toggle(3)}}},[t._v("A")])])])},staticRenderFns:[],name:"CamomilePopupPermissionsEdit",props:{element:{type:Object,default:function(){return{}}},type:{type:String,default:"default"}},computed:{id:function(){return this.$store.state.popup.element.id},uid:function(){return this.$store.state.popup.config.uid},permission:function(){var t=this;return this.$store.state[this.type+"s"].lists[this.uid].find(function(e){return e.id===t.id}).permissions[this.element.type+"s"][this.element.id]}},methods:{toggle:function(t){var e,n;this.isActive(t)?this.$store.dispatch(this.type+"s/"+this.element.type+"PermissionRemove",((e={id:this.id})[this.element.type+"Id"]=this.element.id,e)):this.$store.dispatch(this.type+"s/"+this.element.type+"PermissionSet",((n={id:this.id})[this.element.type+"Id"]=this.element.id,n.permission=t,n))},isActive:function(t){return this.permission===t}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tablet-blobs"},[t._m(0),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.resource.name,expression:"resource.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name",disabled:"disabled"},domProps:{value:t.resource.name},on:{input:function(e){e.target.composing||t.$set(t.resource,"name",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"tablet-blob-1-2"},[n("h3",{staticClass:"pt-s"},[t._v("Users")]),t._v(" "),n("ul",{staticClass:"list-sans"},t._l(t.users,function(e){return n("li",{key:e.id},[n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-2 mb-s"},[t._v(" "+t._s(e.name)+" ")]),t._v(" "),n("div",{staticClass:"tablet-blob-1-2 mb-s"},[n("permissions-edit",{attrs:{type:t.type.slice(0,-1),element:{id:e.id,type:"user"}}})],1)])])}))]),t._v(" "),n("div",{staticClass:"tablet-blob-1-2"},[n("h3",{staticClass:"pt-s"},[t._v("Groups")]),t._v(" "),n("ul",{staticClass:"list-sans"},t._l(t.groups,function(e){return n("li",{key:e.id},[n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-2 mb-s"},[t._v(" "+t._s(e.name)+" ")]),t._v(" "),n("div",{staticClass:"tablet-blob-1-2 mb-s"},[n("permissions-edit",{attrs:{type:t.type.slice(0,-1),element:{id:e.id,type:"group"}}})],1)])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])}],name:"CamomilePermissions",components:{permissionsEdit:I},computed:Object.assign({},e.mapState({resource:function(t){return t.popup.element},users:function(t){return t.users.list},groups:function(t){return t.groups.list},type:function(t){return t.popup.config.type}}))};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("div",{staticClass:"flex flex-start"},[n("h2",{staticClass:"mt-xs"},[t._v("Corpora")]),t._v(" "),t.isAdmin?n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(e){t.popupOpen({config:t.popupAddConfig,element:{id:null,description:{}}})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})]):t._e()]),t._v(" "),t.corpus&&t.corpus.length>0?n("div",[n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.corpus,function(e){return n("tr",{key:e.id},[n("td",[n("input",{attrs:{type:"radio"},domProps:{value:e.id,checked:e.id===t.corpuId},on:{change:t.set}})]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",{staticClass:"text-right"},[3===e.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupPermissionsConfig,element:e})}}},[t._v("Permissions")]):t._e(),t._v(" "),3===e.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupEditConfig,element:e})}}},[t._v("Edit")]):t._e(),t._v(" "),t.isAdmin&&3===e.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupRemoveConfig,element:e})}}},[t._v("Remove")]):t._e()])])})],2)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}],name:"CamomileCorpusList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"corpus",closeBtn:!0,title:"Edit corpus",component:v},popupAddConfig:{type:"corpus",closeBtn:!0,title:"Add corpus",component:v},popupRemoveConfig:{type:"corpus",closeBtn:!0,title:"Remove corpus",component:w},popupPermissionsConfig:{type:"corpus",closeBtn:!0,title:"Corpus permissions",component:L,uid:this.uid}}},computed:{corpus:function(){return this.$store.state.corpus.lists[this.uid]},corpuId:function(){return this.$store.state.corpus.actives[this.uid]},isAdmin:function(){return this.$store.state.user.isAdmin}},methods:{popupOpen:function(t){var e=t.config,n=t.element;this.$store.commit("popup/open",{config:e,element:n})},set:function(t){this.$store.dispatch("corpus/set",{id:t.target.value,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[t._v("Corpora")]),t._v(" "),t.corpus&&t.corpus.length>0?n("select",{on:{change:t.set}},t._l(t.corpus,function(e){return n("option",{key:e.id,domProps:{value:e.id,selected:e.id===t.corpuId}},[t._v(" "+t._s(e.name)+" ")])})):t._e()])},staticRenderFns:[],name:"CamomileCorpusSelect",props:{uid:{type:String,default:"default"}},computed:{corpus:function(){return this.$store.state.corpus.lists[this.uid]},corpuId:function(){return this.$store.state.corpus.actives[this.uid]}},methods:{set:function(t){this.$store.dispatch("corpus/set",{id:t.target.value,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var A={render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[],name:"CamomileMedias",props:{uid:{type:String,default:"default"},corpusUid:{type:String,default:"default"}},created:function(){this.$store.commit("medias/register",{uid:this.uid,corpuUid:this.corpusUid})}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("div",{staticClass:"flex flex-start"},[n("h2",{staticClass:"mt-xs"},[t._v("Media")]),t._v(" "),3===t.corpuPermission?n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(e){t.popupOpen({config:t.popupAddConfig,element:t.mediaNew})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})]):t._e()]),t._v(" "),t.medias&&t.medias.length>0?n("div",[n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.medias,function(e){return n("tr",{key:e.id},[n("td",[n("input",{attrs:{type:"radio"},domProps:{value:e.id,checked:e.id===t.mediaId},on:{change:t.set}})]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",{staticClass:"text-right"},[3===t.corpuPermission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupEditConfig,element:e})}}},[t._v("Edit")]):t._e(),t._v(" "),3===t.corpuPermission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupRemoveConfig,element:e})}}},[t._v("Remove")]):t._e()])])})],2)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}],name:"CamomileMediasList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"medias",closeBtn:!0,title:"Edit medium",component:v},popupAddConfig:{type:"medias",closeBtn:!0,title:"Add medium",component:v},popupRemoveConfig:{type:"medias",closeBtn:!0,title:"Remove medium",component:w}}},computed:{corpuUid:function(){return this.$store.state.medias.actives[this.uid].corpuUid},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},mediaId:function(){return this.$store.state.medias.actives[this.uid].id},medias:function(){return this.$store.state.medias.lists[this.corpuUid]},mediaActive:function(){return this.$store.state.medias.actives[this.uid]},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},mediaNew:function(){return{id:null,corpuId:this.corpuId,description:this.mediaActive.description}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t){this.$store.dispatch("medias/set",{id:t.target.value,corpuUid:this.corpuUid,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[t._v("Media")]),t._v(" "),t.medias&&t.medias.length>0?n("select",{on:{change:t.set}},t._l(t.medias,function(e){return n("option",{key:e.id,domProps:{value:e.id,selected:e.id===t.mediaId}},[t._v(" "+t._s(e.name)+" ")])})):t._e()])},staticRenderFns:[],name:"CamomileMediasSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.medias.actives[this.uid].corpuUid},mediaId:function(){return this.$store.state.medias.actives[this.uid].id},medias:function(){return this.$store.state.medias.lists[this.corpuUid]}},methods:{set:function(t){this.$store.dispatch("medias/set",{id:t.target.value,corpuUid:this.corpuUid,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var B={render:function(){var t=this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bounce1"}),this._v(" "),e("div",{staticClass:"bounce2"}),this._v(" "),e("div",{staticClass:"bounce3"})])}],name:"CamomileUtilsSpinner"};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var j={render:function(){var t=this.$createElement,e=this._self._c||t;return this.media?e("div",{ref:"container",staticClass:"mb"},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isLoaded,expression:"isLoaded"}]},[e("div",{attrs:{id:"player"}})]),this._v(" "),this.isLoaded?this._e():e("spinner")],1):this._e()},staticRenderFns:[],name:"CamomileMediaYoutube",components:{spinner:B},props:{uid:{type:String,default:"default"}},data:function(){return{player:null,videoNew:!1,description:{type:"youtube"}}},computed:{media:function(){return this.$store.getters["medias/filter"](this.uid,this.filter)},properties:function(){return this.$store.getters["medias/properties"](this.uid,this.filter)},isPlaying:function(){return this.properties.isPlaying||!1},isLoaded:function(){return this.properties.isLoaded||!1},seek:function(){return this.properties.seek||{}},timeCurrent:function(){return this.properties.timeCurrent||0},viewportWidth:function(){return this.$store.state.viewport.width||0}},watch:{isPlaying:function(t){t?this.player.playVideo():this.player.pauseVideo()},seek:function(t){t.seeking&&this.videoSeek(t.serverRequest)},viewportWidth:function(){if(this.media){var t=this.$refs.container.offsetWidth,e=9*t/16;this.player.setSize(t,e)}},media:function(t,e){t&&t.url&&e&&e.url&&t.url!==e.url&&this.videoLoad(t.url)}},created:function(){this.$store.commit("medias/descriptionRegister",{uid:this.uid,description:this.description})},mounted:function(){this.media&&this.media.url&&this.playerLoad(this.media.url)},beforeDestroy:function(){null!==this.player&&this.player.destroy&&this.player.destroy(),this.player=null},methods:{filter:function(t){return t&&t.description&&t.description.type&&"youtube"===t.description.type&&t},videoLoad:function(t){if(this.player){var e=this.parseYouTubeId(t);this.player.loadVideoById(e)}else this.playerLoad(this.media.url)},playerLoad:function(t){var e=this,n=this.parseYouTubeId(t),i=this.$refs.container.offsetWidth,r=9*i/16,o={onReady:function(t){e.$store.commit("medias/loaded",{isLoaded:!0,uid:e.uid}),e.$store.commit("medias/timeTotal",{time:1e3*e.player.getDuration(),uid:e.uid})},onStateChange:function(t){-1===t.data||(1===t.data?e.videoNew?(e.videoNew=!1,e.$store.commit("medias/loaded",{isLoaded:!0,uid:e.uid}),e.$store.commit("medias/timeTotal",{time:1e3*e.player.getDuration(),uid:e.uid}),e.player.pauseVideo()):e.$store.dispatch("medias/play",{uid:e.uid}):2===t.data?e.$store.dispatch("medias/pause",{uid:e.uid}):3===t.data?e.$store.dispatch("medias/buffering",{uid:e.uid}):0===t.data?e.$store.dispatch("medias/stop",{uid:e.uid}):5===t.data&&(e.$store.commit("medias/loaded",{isLoaded:!0,uid:e.uid}),e.$store.commit("medias/timeTotal",{time:1e3*e.player.getDuration(),uid:e.uid})))},onApiChange:function(t){e.isLoaded||(e.videoNew=!0)}},s={autoplay:0,controls:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,enablejsapi:1,disablekb:1},a=document.createElement("script"),d=document.getElementsByTagName("script"),c=d[d.length-1];a.src="https://www.youtube.com/iframe_api",c.parentNode.insertBefore(a,c.nextSibling),window.onYouTubeIframeAPIReady=function(){e.player=new YT.Player("player",{width:i,height:r,videoId:n,playerVars:s,events:o})}},videoSeek:function(t){this.player.seekTo(this.timeCurrent/1e3,t),this.$store.commit("medias/seek",{options:{seeking:!1},uid:this.uid})},parseYouTubeId:function(t){return t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.media?n("div",{ref:"container",staticClass:"mb"},[n("video",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],ref:"video",staticClass:"object-fit",attrs:{id:"bgvid"},on:{ended:t.videoEnded,click:t.videoToggle,play:t.buttonToggle,pause:t.buttonToggle,timeupdate:t.videoTimeupdate,canplay:t.videoLoad}},[n("source",{attrs:{src:t.media.url,type:"video/mp4"}})]),t._v(" "),t.isLoaded?t._e():n("spinner")],1):t._e()},staticRenderFns:[],name:"CamomileMediaVideo",components:{spinner:B},props:{uid:{type:String,default:"default"}},data:function(){return{mousedown:!1,videoLoaded:!1,timeTotal:0,description:{type:"video"}}},computed:{media:function(){return this.$store.getters["medias/filter"](this.uid,this.filter)},properties:function(){return this.$store.getters["medias/properties"](this.uid,this.filter)},isPlaying:function(){return this.properties.isPlaying||!1},isLoaded:function(){return this.properties.isLoaded||!1},seek:function(){return this.properties.seek||{}},timeCurrent:function(){return this.properties.timeCurrent||0},viewportWidth:function(){return this.$store.state.viewport.width||0}},watch:{isPlaying:function(t){t?this.$refs.video.play():this.$refs.video.pause()},seek:function(t){t.seeking&&this.videoSeek()},viewportWidth:function(){this.$refs.container.offsetWidth},media:function(t,e){t&&t.url&&e&&e.url&&t.url!==e.url&&this.videoLoad()}},created:function(){this.$store.commit("medias/descriptionRegister",{uid:this.uid,description:this.description})},methods:{filter:function(t){return t&&t.description&&t.description.type&&"video"===t.description.type&&t},videoEnded:function(){this.$store.dispatch("medias/stop",{uid:this.uid})},videoToggle:function(){this.$refs.video.paused?this.$refs.video.play():this.$refs.video.pause()},buttonToggle:function(){this.$refs.video.paused?this.$store.dispatch("medias/pause",{uid:this.uid}):this.$store.dispatch("medias/play",{uid:this.uid})},videoTimeupdate:function(){if(this.$refs.video)this.$refs.video.currentTime,this.$refs.video.duration},videoSeek:function(t){this.$refs.video.currentTime=this.timeCurrent/1e3},videoLoad:function(){this.$store.commit("medias/loaded",{isLoaded:!0,uid:this.uid}),this.$store.commit("medias/timeTotal",{time:1e3*this.$refs.video.duration,uid:this.uid}),this.$refs.video.volume=0}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mediacontroller mb"},[n("div",{staticClass:"mediacontroller-controls clearfix pb-s"},[n("button",{ref:"button",staticClass:"mediacontroller-button btn-alt",attrs:{disabled:!t.isLoaded},on:{click:t.mediaToggle}},[t._v(t._s(t.playButton))]),t._v(" "),n("div",{ref:"counter",staticClass:"mediacontroller-counter"},[t._v(t._s(t.msToMinutesAndSeconds(t.timeCurrent))+" / "+t._s(t.msToMinutesAndSeconds(t.timeTotal))+" ")])]),t._v(" "),n("div",{ref:"progress",staticClass:"mediacontroller-progress",class:{loaded:t.isLoaded},on:{mousedown:function(e){t.progressMousedown(e)}}},[n("div",{staticClass:"pointer-none full-y bg-bg"},[n("div",{staticClass:"mediacontroller-progress-bar",style:{width:t.progressBarWidth}})])])])},staticRenderFns:[],props:{mediaUid:{type:String,default:"default"}},data:function(){return{mousedown:!1}},computed:{properties:function(){return this.$store.state.medias.properties[this.mediaUid]||{}},timeCurrent:function(){return this.properties.timeCurrent||0},timeTotal:function(){return this.properties.timeTotal||0},playButton:function(){return this.properties.isPlaying?"❚ ❚":"►"},isLoaded:function(){return this.properties.isLoaded||!1},progressBarWidth:function(){return this.timeTotal?this.timeCurrent/this.timeTotal*100+"%":0}},methods:{mediaToggle:function(){this.properties.isPlaying?this.$store.commit("medias/pause",{uid:this.mediaUid}):this.$store.commit("medias/play",{uid:this.mediaUid})},progressMousemove:function(t){var e;e=t.clientX-this.$refs.progress.offsetLeft<0?0:t.clientX>this.$refs.progress.offsetLeft+this.$refs.progress.offsetWidth?1:(t.clientX-this.$refs.progress.offsetLeft)/this.$refs.progress.offsetWidth,this.seek(e,!1)},progressMousedown:function(t){document.addEventListener("mousemove",this.progressMousemove),document.addEventListener("mouseup",this.progressMouseup),this.progressMousemove(t)},progressMouseup:function(){document.removeEventListener("mousemove",this.progressMousemove),document.removeEventListener("mouseup",this.progressMouseup)},seek:function(t,e,n){this.properties.isLoaded&&this.$store.dispatch("medias/seek",{ratio:t,serverRequest:e,uid:this.mediaUid})},msToMinutesAndSeconds:function(t){var e=t%6e4/1e3;return Math.floor(t/6e4)+":"+(e<10?"0":"")+e.toFixed(0)}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var G={render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[],name:"CamomileLayers",props:{uid:{type:String,default:"default"},corpusUid:{type:String,default:"default"}},created:function(){this.$store.commit("layers/register",{uid:this.uid,corpuUid:this.corpusUid})}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("div",{staticClass:"flex flex-start"},[n("h2",{staticClass:"mt-xs"},[t._v("Layers")]),t._v(" "),3===t.corpuPermission?n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(e){t.popupOpen({config:t.popupAddConfig,element:t.layerNew})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})]):t._e()]),t._v(" "),t.layers&&t.layers.length>0?n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.layers,function(e){return n("tr",{key:e.id},[n("td",[n("input",{attrs:{type:"checkbox"},domProps:{value:e.id,checked:-1!==t.activeIds.indexOf(e.id)},on:{change:t.set}})]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",{staticClass:"text-right"},[3===e.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupPermissionsConfig,element:e})}}},[t._v("Permissions")]):t._e(),t._v(" "),3===e.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupEditConfig,element:e})}}},[t._v("Edit")]):t._e(),t._v(" "),3===e.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(n){t.popupOpen({config:t.popupRemoveConfig,element:e})}}},[t._v("Remove")]):t._e()])])})],2):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}],name:"CamomileLayersList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:v},popupAddConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:v},popupRemoveConfig:{type:"layers",closeBtn:!0,title:"Remove layer",component:w}}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},layersActive:function(){return this.$store.state.layers.actives[this.uid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)},corpus:function(){return this.$store.state.corpus.lists[this.corpuUid]},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},layerNew:function(){return{id:null,corpuId:this.corpuId,description:{},metadataType:this.layersActive.metadataType,fragmentType:this.layersActive.fragmentType}},popupPermissionsConfig:function(){return{type:"layers",closeBtn:!0,title:"Layer permissions",component:L,uid:this.corpuUid}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t){t.target.checked?this.$store.dispatch("layers/set",{id:t.target.value,uid:this.uid}):this.$store.dispatch("layers/unset",{id:t.target.value,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[t._v("Layers")]),t._v(" "),t.layers&&t.layers.length>0?n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.layers,function(e){return n("tr",{key:e.id},[n("td",[n("input",{attrs:{type:"checkbox"},domProps:{value:e.id,checked:-1!==t.activeIds.indexOf(e.id)},on:{change:t.set}})]),t._v(" "),n("td",[t._v(" "+t._s(e.name)+" ")])])})],2):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}],name:"CamomileLayersSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)}},methods:{set:function(t){t.target.checked?this.$store.dispatch("layers/set",{id:t.target.value,uid:this.uid}):this.$store.dispatch("layers/unset",{id:t.target.value,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[t._v("Layers")]),t._v(" "),t.layers&&t.layers.length>0?n("select",{on:{change:t.setTarget}},t._l(t.layers,function(e){return n("option",{key:e.id,domProps:{value:e.id,selected:-1!==t.activeIds.indexOf(e.id)}},[t._v(" "+t._s(e.name)+" ")])})):t._e()])},staticRenderFns:[],name:"CamomileLayersSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)}},watch:{layers:function(t,e){e||this.set(t[0])}},methods:{set:function(t){var e=this;this.layers.forEach(function(t){return e.$store.dispatch("layers/unset",{id:t.id,uid:e.uid})}),this.$store.dispatch("layers/set",{id:t.id,uid:this.uid})},setTarget:function(t){this.set({id:t.target.value})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",[t._v("Layers")]),t._v(" "),3===t.corpuPermission?n("button",{staticClass:"btn px-s py-xs",on:{click:function(e){t.popupOpen({config:t.popupAddConfig,element:t.layerNew})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})]):t._e()])},staticRenderFns:[],name:"CamomileLayers",props:{uid:{type:String,default:"default"}},data:function(){return{popupAddConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:v}}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},layersActive:function(){return this.$store.state.layers.actives[this.uid]},layerNew:function(){return{id:null,corpuId:this.corpuId,description:{},metadataType:this.layersActive.metadataType,fragmentType:this.layersActive.fragmentType}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var q={render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[],name:"CamomileAnnotations",props:{mediaUid:{type:String,default:"default"},layersUid:{type:String,default:"default"},uid:{type:String,default:"default"}},created:function(){this.$store.commit("annotations/register",{uid:this.uid,mediaUid:this.mediaUid,layersUid:this.layersUid})}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{class:{"bg-alt":t.disabled}},[n("td",[n("input",{attrs:{disabled:t.disabled,type:"radio"},domProps:{value:t.annotation.id,checked:t.activeId&&t.activeId===t.annotation.id},on:{change:function(e){t.set(e)}}})]),t._v(" "),n("td",[n("span",{staticClass:"h6 bold bg-neutral color-bg py-xxs px-xs rnd"},[t._v("…"+t._s(t._f("stringEnd")(t.annotation.id)))])]),t._v(" "),n("td",[t._v(t._s(t.mediaName))]),t._v(" "),n("td",{staticClass:"text-right"},[3===t.layerPermission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(e){t.popupOpen({config:t.popupEditConfig,element:t.annotation})}}},[t._v("Edit")]):t._e(),t._v(" "),3===t.layerPermission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(e){t.popupOpen({config:t.popupRemoveConfig,element:t.annotation})}}},[t._v("Remove")]):t._e()])])},staticRenderFns:[],name:"CamomileAnnotations",props:{uid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!0},layerPermission:{type:Number,default:0},mediaName:{type:String,default:"hash"},mediaId:{type:String,default:"hash"},activeId:{type:String,default:"hash"}},data:function(){return{popupEditConfig:{type:"annotations",closeBtn:!0,title:"Edit annotation",component:v},popupRemoveConfig:{type:"annotations",closeBtn:!0,title:"Remove annotation",component:w}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t){t.target.checked?this.$store.commit("annotations/set",{id:t.target.value,uid:this.uid}):this.$store.commit("annotations/unset",{id:t.target.value,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"flex flex-start"},[n("h2",{staticClass:"mt-s"},[t._v(t._s(t.layer.name))]),t._v(" "),3===t.layer.permission?n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(e){t.popupOpen({config:t.popupAddConfig,element:{id:null,layerId:t.layer.id,mediaId:t.mediaId,fragment:t.layer.fragmentType,metadata:t.layer.metadataType}})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})]):t._e()]),t._v(" "),n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.annotations,function(e){return n("annotations-layer-detail",{key:e.id,attrs:{annotation:e,disabled:-1===t.annotationsFiltered.findIndex(function(t){return t.id===e.id}),uid:t.uid,"layer-permission":t.layer.permission,"media-name":t.mediaName,"media-id":t.mediaId,"active-id":t.activeId}})})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Id")]),e("th",[this._v("Medium")]),e("th")])}],name:"CamomileLayers",components:{annotationsLayerDetail:V},props:{uid:{type:String,default:"default"},layer:{type:Object,default:function(){return{}}},annotations:{type:Array,default:function(){return[]}},annotationsFiltered:{type:Array,default:function(){return[]}},activeId:{type:String,default:"hash"},mediaId:{type:String,default:"hash"},mediaName:{type:String,default:"hash"}},data:function(){return{popupAddConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:v}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t,e){t.target.checked?this.$store.commit("annotations/set",{id:t.target.value,uid:this.uid}):this.$store.commit("annotations/unset",{id:t.target.value,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[t._m(0),t._v(" "),t._l(t.layers,function(e){return t.annotations[e.id]?n("annotations-layer",{key:e.id,staticClass:"mt",attrs:{layer:e,annotations:t.annotations[e.id],"annotations-filtered":t.annotationsFiltered[e.id],"active-id":t.activeId,"media-id":t.mediaId,"media-name":t.mediaName}}):t._e()})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-start"},[e("h2",{staticClass:"mt-xs"},[this._v("Annotations")])])}],name:"CamomileAnnotationsList",components:{annotationsLayer:X},props:{uid:{type:String,default:"default"}},computed:{annotations:function(){return this.$store.getters["annotations/lists"](this.uid)},annotationsFiltered:function(){return this.$store.getters["annotations/filtered"](this.uid)},activeId:function(){return this.$store.state.annotations.actives[this.uid]||null},mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)},mediaId:function(){return this.$store.state.medias.actives[this.mediaUid].id},mediaName:function(){var t=this.$store.getters["medias/active"](this.mediaUid);return t?t.name:""}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tablet-blobs"},[t._m(0),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.metadata.label,expression:"element.metadata.label"}],ref:"label",staticClass:"mb",attrs:{type:"text",placeholder:"Label"},domProps:{value:t.element.metadata.label},on:{input:function(e){e.target.composing||t.$set(t.element.metadata,"label",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-4"}),t._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",attrs:{disabled:!t.element.name&&"annotations"!==t.type},on:{click:t.save,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.save(e):null}}},[t._v("Save")]),t._v(" "),t.error?n("div",{staticClass:"p-s bg-error color-bg italic mt mb"},[t._v(t._s(t.error))]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Label")])])}],name:"CamomileAnnotationsPopupEdit",data:function(){return{error:null}},computed:Object.assign({},e.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type},rolesPermission:function(t){return t.user.id!==t.popup.element.id}})),created:function(){document.addEventListener("keyup",this.keyup)},mounted:function(){this.$refs.label.focus()},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{save:function(){""!==this.element.metadata.label?(this.$store.dispatch("annotations/add",{element:this.element}),this.$store.commit("popup/close")):this.error="Fill in the label."},keyup:function(t){13===(t.which||t.keyCode)&&this.save()}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn px-s py-s mr-s h5 full-x flex",on:{click:this.popupAnnotationLabelOpen}},[this._v(" "+this._s(this.layerName)+" "),e("i",{staticClass:"icon-24 icon-24-plus mr-xs flex-right"})])},staticRenderFns:[],props:{layerId:{type:String,default:"layerIdHash"},layerName:{type:String,default:""},mediaId:{type:String,default:"mediaIdHash"},annotations:{type:Array,default:function(){return[]}},fragmentType:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0}},data:function(){return{popupAnnotationLabelConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:Y}}},methods:{popupAnnotationLabelOpen:function(){var t={id:null,layerId:this.layerId,mediaId:this.mediaId,fragment:this.fragmentTypeFormat(this.fragmentType),metadata:{label:""}};return this.$store.commit("popup/open",{config:this.popupAnnotationLabelConfig,element:t})},fragmentTypeFormat:function(t){return t.time||(t.time={}),t.time.start=this.timeCurrent,t.time.end=this.timeCurrent+this.timeTotal/10,t}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",[t._v("Layers")]),t._v(" "),t._l(t.layers,function(e){return t.annotations[e.id]&&3===e.permission?n("annotation-button",{key:"annotation-button-"+e.id,attrs:{"layer-id":e.id,"layer-name":e.name,"media-id":t.mediaId,"time-current":t.timeCurrent,"time-total":t.timeTotal,"fragment-type":e.fragmentType}}):t._e()})],2)},staticRenderFns:[],components:{annotationButton:K},props:{uid:{type:String,default:"default"}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.getters["medias/properties"](this.mediaUid)},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/lists"](this.uid)},mediaId:function(){return this.$store.state.medias.actives[this.mediaUid].id},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)}},methods:{resize:function(){}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"annotation",style:{left:t.left+"px",right:t.right+"px"}},[n("div",{staticClass:"relative full-y",on:{mousedown:function(e){t.set(e)},dblclick:t.popupAnotationLabelOpen}},[n("div",{staticClass:"absolute handle handle-left",on:{mousedown:function(e){t.dragLeftOn(e)}}}),t._v(" "),n("div",{staticClass:"absolute handle handle-right",on:{mousedown:function(e){t.dragRightOn(e)}}})])])},staticRenderFns:[],props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},fragmentType:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},containerWidth:{type:Number,default:0},containerLeft:{type:Number,default:0}},data:function(){return{leftDragging:null,rightDragging:null,handleWidth:32,popupAnnotationLabelConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:Y}}},computed:{time:function(){return this.annotation.fragment.time},left:function(){return null!==this.leftDragging?this.leftDragging:this.time.start*this.containerWidth/this.timeTotal},right:function(){return null!==this.rightDragging?this.rightDragging:(this.timeTotal-this.time.end)*this.containerWidth/this.timeTotal}},methods:{timeUpdate:function(t,e){var n=Object.assign({},this.annotation);return n.fragment.time[e]=t,this.$store.dispatch("annotations/update",{element:n})},dragLeftOn:function(t){document.addEventListener("mousemove",this.dragLeft),document.addEventListener("mouseup",this.dragLeftOff)},dragLeftOff:function(t){document.removeEventListener("mousemove",this.dragLeft),document.removeEventListener("mouseup",this.dragLeftOff);var e=Math.round(this.$refs.annotation.offsetLeft*this.timeTotal/this.containerWidth);this.timeUpdate(e,"start"),this.leftDragging=null},dragLeft:function(t){var e=t.clientX-this.containerLeft+this.handleWidth/2;e<0?this.leftDragging=0:e>this.containerWidth-this.right?this.leftDragging=this.containerWidth-this.right:this.leftDragging=e},dragRightOn:function(t){document.addEventListener("mousemove",this.dragRight),document.addEventListener("mouseup",this.dragRightOff)},dragRightOff:function(t){document.removeEventListener("mousemove",this.dragRight),document.removeEventListener("mouseup",this.dragRightOff);var e=Math.round((this.$refs.annotation.offsetLeft+this.$refs.annotation.offsetWidth)*this.timeTotal/this.containerWidth);this.timeUpdate(e,"end"),this.rightDragging=null},dragRight:function(t){var e=this.containerWidth+this.containerLeft-t.clientX+this.handleWidth/2;this.rightDragging=e>0?e:0},set:function(t){this.$store.commit("annotations/set",{id:this.annotation.id,uid:this.uid})},popupAnotationLabelOpen:function(){var t=this.annotation;return this.$store.commit("popup/open",{config:this.popupAnnotationLabelConfig,element:t})},fragmentTypeFormat:function(t){return t.time||(t.time={}),t.time.start=this.timeCurrent,t.time.end=this.timeCurrent+25e3,t}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.annotations,function(e){return n("annotations-bloc",{key:e.id,staticClass:"absolute annotation",class:{active:e.id===t.activeId},attrs:{annotation:e,uid:t.uid,"layers-uid":t.layersUid,"layer-id":t.layerId,"time-total":t.timeTotal,"container-width":t.width,"container-left":t.left}})}))},staticRenderFns:[],components:{annotationsBloc:Q},props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},layerId:{type:String,default:"layerIdHash"},annotations:{type:Array,default:function(){return[]}},timeTotal:{type:Number,default:0},width:{type:Number,default:0},left:{type:Number,default:0}},computed:{activeId:function(){return this.$store.state.annotations.actives[this.uid]}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"p bg-bg mb"},[n("h2",[t._v("Timeline")]),t._v(" "),t.layers?n("div",{staticClass:"relative overflow-hidden",style:{height:48*t.layers.length+"px"}},[n("div",{staticClass:"absolute timeline-cursor"}),t._v(" "),n("div",{staticClass:"absolute timeline-annotations",style:{top:0,bottom:0,left:t.left+"px",width:t.width+"px"}},t._l(t.layers,function(e){return t.annotations[e.id]?n("timeline-annotations",{key:"annotations-"+e.id,staticClass:"relative",style:{height:"48px"},attrs:{uid:t.uid,"layers-uid":t.layersUid,"layer-id":e.id,annotations:t.annotations[e.id],"time-total":t.timeTotal,width:t.width,left:t.left+t.containerLeft,"fragment-type":e.fragmentType}}):t._e()}))]):t._e()])},staticRenderFns:[],components:{timelineAnnotations:tt},props:{uid:{type:String,default:"default"}},data:function(){return{width:3e3,containerWidth:0,containerLeft:0,fragmentType:{time:{start:0,end:0}},metadataType:{label:""}}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.getters["medias/properties"](this.mediaUid)},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/filtered"](this.uid)},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)},left:function(){return this.containerWidth/2-this.timeCurrent/this.timeTotal*this.width}},created:function(){this.$store.commit("annotations/filterRegister",{uid:this.uid,filter:this.filter}),this.$store.commit("layers/typesRegister",{uid:this.layersUid,fragmentType:this.fragmentType,metadataType:this.metadataType})},mounted:function(){window.addEventListener("resize",this.resize),this.containerWidth=this.$refs.container.offsetWidth,this.containerLeft=this.$refs.container.offsetLeft},methods:{filter:function(t){return t.fragment&&t.fragment.time&&!isNaN(t.fragment.time.start)&&!isNaN(t.fragment.time.end)&&t},resize:function(){}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",[t._v("Annotation")]),t._v(" "),n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t.annotation?n("tr",[n("td",[t._v(t._s(t.annotation.metadata.label))]),t._v(" "),n("td",[n("span",{staticClass:"h6 bold bg-neutral color-bg py-xxs px-xs rnd mt-xxs"},[t._v("…"+t._s(t._f("stringEnd")(t.annotation.id)))])]),t._v(" "),n("td",{staticClass:"text-right"},[3===t.layer.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:t.popupEditOpen}},[t._v("Edit")]):t._e(),t._v(" "),3===t.layer.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:t.popupRemoveOpen}},[t._v("Remove")]):t._e()])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Label")]),e("th",[this._v("ID")]),e("th")])}],props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"annotations",closeBtn:!0,title:"Edit annotation",component:v},popupRemoveConfig:{type:"annotations",closeBtn:!0,title:"Remove annotation",component:w},layerPermission:3}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},annotation:function(){return this.$store.getters["annotations/active"](this.uid)},layer:function(){return this.annotation?this.$store.getters["layers/details"](this.layersUid,this.annotation.layerId):{}}},methods:{popupEditOpen:function(){return this.$store.commit("popup/open",{config:this.popupEditConfig,element:this.annotation})},popupRemoveOpen:function(){return this.$store.commit("popup/open",{config:this.popupRemoveConfig,element:this.annotation})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var it={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{ref:"annotation",style:{left:t.left+"%",top:t.top+"%",width:t.width+"%",height:t.height+"%"}},[n("div",{staticClass:"relative full-y",on:{mousedown:function(e){t.set(e)}}},[n("div",{staticClass:"absolute handle handle-topleft",on:{mousedown:function(e){t.dragTopleftOn(e)}}}),t._v(" "),n("div",{staticClass:"absolute handle handle-bottomright",on:{mousedown:function(e){t.dragBottomrightOn(e)}}})])]):t._e()},staticRenderFns:[],props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0},containerWidth:{type:Number,default:0}},data:function(){return{leftDragging:null,topDragging:null,rightDragging:null,bottomDragging:null,handleWidth:32}},computed:{timeStart:function(){return this.annotation.fragment.time.start},timeEnd:function(){return this.annotation.fragment.time.end},positionIndex:function(){var t=this;return this.annotation.fragment.positions.slice().reverse().findIndex(function(e){return e.time<=t.timeCurrent})},visible:function(){return-1!==this.positionIndex&&this.timeStart<=this.timeCurrent&&this.timeEnd>=this.timeCurrent},position:function(){return this.annotation.fragment.positions[this.positionIndex]},left:function(){if(this.visible)return null!==this.leftDragging?this.leftDragging:this.position.left},top:function(){if(this.visible)return null!==this.topDragging?this.topDragging:this.position.top},width:function(){if(this.visible)return null!==this.bottomDragging?this.bottomDragging:this.position.width},height:function(){if(this.visible)return null!==this.bottomDragging?this.bottomDragging:this.position.height}},methods:{positionUpdate:function(t){var e=Object.assign({},this.annotation);return t.forEach(function(t){return e.fragment.position[t.type]=t.value}),this.$store.dispatch("annotations/update",{element:e})},dragTopleftOn:function(t){document.addEventListener("mousemove",this.dragTopleft),document.addEventListener("mouseup",this.dragTopleftOff)},dragTopleftOff:function(t){document.removeEventListener("mousemove",this.dragTopleft),document.removeEventListener("mouseup",this.dragTopleftOff);var e=[{type:"top",value:this.$refs.annotation.offsetTop},{type:"top",value:this.$refs.annotation.offsetLeft}];this.positionUpdate(e),this.topleftDragging=null},dragTopleft:function(t){var e=t.clientX-this.containerLeft+this.handleWidth/2;e<0?this.topDragging=0:e>this.containerWidth-this.right?this.topDragging=this.containerWidth-this.right:this.topDragging=e},dragBottomrightOn:function(t){document.addEventListener("mousemove",this.dragRight),document.addEventListener("mouseup",this.dragRightOff)},dragRightOff:function(t){document.removeEventListener("mousemove",this.dragRight),document.removeEventListener("mouseup",this.dragRightOff);var e=Math.round((this.$refs.annotation.offsetLeft+this.$refs.annotation.offsetWidth)*this.timeTotal/this.containerWidth);this.positionUpdate(e,"end"),this.bottomDragging=null},dragRight:function(t){var e=this.containerWidth+this.containerLeft-t.clientX+this.handleWidth/2;this.bottomDragging=e>0?e:0},set:function(t){this.$store.commit("annotations/set",{id:this.annotation.id,uid:this.uid})}}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var rt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container"},t._l(t.annotations,function(e){return n("annotations-bloc",{key:e.id,staticClass:"absolute annotation",style:{zIndex:e.id===t.activeId?1:0},attrs:{annotation:e,uid:t.uid,"layers-uid":t.layersUid,"time-total":t.timeTotal,"time-current":t.timeCurrent,"container-width":t.containerWidth,"container-height":t.containerHeight}})}))},staticRenderFns:[],components:{annotationsBloc:it},props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotations:{type:Array,default:function(){return[]}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0}},data:function(){return{containerWidth:0,containerHeight:0}},computed:{activeId:function(){return this.$store.state.annotations.actives[this.uid]}},mounted:function(){window.addEventListener("resize",this.resize),this.containerWidth=this.$refs.container.offsetWidth,this.containerHeight=this.$refs.container.offsetHeight},methods:{resize:function(){}}};return function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}(),{App:k,AdminUsers:T,AdminGroups:S,Corpus:U,CorpusList:N,CorpusSelect:R,Medias:A,MediasList:O,MediasSelect:P,MediasYoutube:j,MediasVideo:z,MediasController:F,Layers:G,LayersList:M,LayersListSimple:D,LayersSelect:W,LayersAdd:H,Annotations:q,AnnotationsList:J,AnnotationsButtons:Z,AnnotationsTimeline:et,AnnotationsEdit:nt,AnnotationsZoning:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"relative full-y mb"},[t._l(t.layers,function(e){return t.annotations[e.id]?n("zoning-annotations",{key:"annotations-"+e.id,staticClass:"absolute full",attrs:{uid:t.uid,"layers-uid":t.layersUid,"layer-id":e.id,annotations:t.annotations[e.id],"time-total":t.timeTotal,"time-current":t.timeCurrent}}):t._e()}),t._v(" "),t._t("default",null,{mediaUid:t.mediaUid})],2)},staticRenderFns:[],components:{zoningAnnotations:rt},props:{uid:{type:String,default:"default"}},data:function(){return{fragmentType:{positions:[{left:.25,width:.5,time:0,top:.25,height:.5}]}}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.state.medias.properties[this.mediaUid]||{}},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/filter"](this.uid,this.filter)},layers:function(){var t=this.$store.state.layers.actives[this.layersUid];return t?this.$store.state.layers.lists[t.corpuUid]:[]}},created:function(){this.$store.commit("annotations/filterRegister",{uid:this.uid,filter:this.filter}),this.$store.commit("layers/typesRegister",{uid:this.layersUid,fragmentType:this.fragmentType,metadataType:this.metadataType})},methods:{filter:function(t){return t.fragment&&t.fragment.time&&!isNaN(t.fragment.time.start)&&!isNaN(t.fragment.time.end)&&t.fragment.positions&&t.fragment.positions instanceof Array&&t}}}}});
