!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue"),require("vuex"),require("camomile-client")):"function"==typeof define&&define.amd?define(["vue","vuex","camomile-client"],e):t.camomileUi=e(t.Vue,t.Vuex,t.Camomile)}(this,function(a,t,o){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;var e="default"in t?t.default:t;o=o&&o.hasOwnProperty("default")?o.default:o;!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}("/* Settings        ------------------------------- */\n\n/* system.css / settings\n-------------------------------\nhttp://francoisromain.github.io/postcss-structure\n*/\n\n:root {\n  /* Colors        ------------------------------- */\n  --color-text: #666;\n  --color-bg: white;\n  --color-transparent: rgba(248, 247, 243, 0);\n  --color-inverse: #3d3d35;\n  --color-neutral: #bcb9af;\n  --color-alt: #f8f7f3;\n  --color-highlight: #f50;\n  --color-brand: rgb(0, 162, 255);\n  --color-error: #e82239;\n  --color-warning: #ff891c;\n  --color-info: #5798aa;\n  --color-success: #6ea040;\n\n  /* Base units    ------------------------------- */\n\n  /* font-size: 1rem = 16 px */\n  --base-font-size: 16px;\n  --base-font-size: 1rem;\n\n  /* base: 1.5rem = 24 px */\n  --unit: 24px;\n  --unit: 1.5rem;\n\n  /* line: 0.0625rem = 1px */\n  --unit-line: 1px;\n  --unit-line: 0.0625rem;\n  --unit-line: calc(var(--unit) / 24);\n\n  /* xxs: 0.1875rem = 3px */\n  --unit-xxs: 3px;\n  --unit-xxs: 0.1875rem;\n  --unit-xxs: calc(var(--unit) / 8);\n\n  /* xs: 0.375rem = 6px */\n  --unit-xs: 6px;\n  --unit-xs: 0.375rem;\n  --unit-xs: calc(var(--unit) / 4);\n\n  /* s: 0.75rem = 12px */\n  --unit-s: 12px;\n  --unit-s: 0.75rem;\n  --unit-s: calc(var(--unit) / 2);\n\n  /* m: 1.125rem = 18px */\n  --unit-m: 18px;\n  --unit-m: 1.125rem;\n  --unit-m: calc(var(--unit) * 3 / 4);\n\n  /* l: 2.25rem = 36 px */\n  --unit-l: 36px;\n  --unit-l: 2.25rem;\n  --unit-l: calc(var(--unit) * 3 / 2);\n\n  /* xl: 3rem = 48px */\n  --unit-xl: 48px;\n  --unit-xl: 3rem;\n  --unit-xl: calc(var(--unit) * 2);\n\n  /* xxl: 3.75rem = 60 px */\n  --unit-xxl: 60px;\n  --unit-xxl: 3.75rem;\n  --unit-xxl: calc(var(--unit) * 2.5);\n\n  /*  */\n  --unit-infinity: 9999px;\n\n  /* Lists         ------------------------------- */\n  --list-postfix: ',';\n  --list-prefix: '―';\n\n  /* Grid          ------------------------------- */\n\n  /*\n  postcss-grid-system configuration\n  https://github.com/francoisromain/postcss-grid-system#configuration\n  */\n\n  /* width of a single bloc in rem */\n  --col-width: 328px;\n  --col-width: 20.5rem;\n\n  /* width of the gutter in rem */\n  --gutter: 24px;\n  --gutter: 1.5rem;\n  --gutter: var(--unit);\n\n  /* padding of the main container in rem */\n  --container-padding: 24px;\n  --container-padding: 1.5rem;\n  --container-padding: var(--unit);\n\n  /* transition */\n  --transition: opacity 0.5s, background-color 0.5s, border 0.5s,\n    box-shadow 0.5s, fill 0.5s;\n\n  /* hr */\n  --border-style: dotted;\n  --border-color: #bcb9af;\n  --border-color: var(--color-neutral);\n  --border-width: 1px;\n  --border-width: 0.0625rem;\n  --border-width: var(--unit-line);\n}\n\n/* media queries: x * col-width + gutter */\n\n/* Reset           ------------------------------- */\n\n/*\n    Print\n-------------------------------\n\nFrom HTML5 Boilerplate\nhttps://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css\n\nBlack prints faster: http://www.sanbeiji.com/archives/953\n*/\n\n@media print {\n  *,\n  *::before,\n  *::after,\n  *::first-letter,\n  *::first-line {\n    background: transparent !important;\n    color: #000 !important;\n    box-shadow: none !important;\n    text-shadow: none !important;\n  }\n\n  a,\n  a:visited {\n    text-decoration: underline;\n  }\n\n  a[href]::after {\n    content: ' (' attr(href) ')';\n  }\n\n  abbr[title]::after {\n    content: ' (' attr(title) ')';\n  }\n\n  /*\n  Don't show links that are fragment identifiers,\n  or use the `javascript:` pseudo protocol\n  */\n  a[href^='#']::after,\n  a[href^='javascript:']::after {\n    content: '';\n  }\n}\n\n/*\n    Reset\n-------------------------------\n*/\n\n/*\n  css-tricks.com/inheriting-box-sizing-probably-slightly-better-best-practice\n  paulirish.com/2012/box-sizing-border-box-ftw\n*/\n\nhtml,\n* {\n  box-sizing: border-box;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\nhtml {\n  overflow-y: scroll;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  text-rendering: optimizeLegibility;\n  background-color: white;\n  background-color: var(--color-bg);\n  color: #666;\n  color: var(--color-text);\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue;\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nbody,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\ndl,\ndd,\nol,\nul,\nform,\nfieldset,\nlegend,\nfigure,\ntable,\nth,\ntd,\ncaption,\nhr {\n  margin: 0;\n  padding: 0;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-weight: normal;\n  font-style: normal;\n  text-decoration: none;\n}\n\nabbr[title],\ndfn[title] {\n  cursor: help;\n}\n\nbutton,\ninput,\ntextarea,\nselect,\noptgroup {\n  font: inherit;\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n  text-align: left;\n}\n\nfieldset {\n  border: 0 none transparent;\n}\n\n*:focus,\ntextarea:focus,\ninput:focus {\n  outline: none;\n  outline: 0;\n}\n\nlabel {\n  cursor: pointer;\n  display: block;\n}\n\nu,\nins {\n  text-decoration: none;\n}\n\nins {\n  border-bottom: 1px solid;\n}\n\nimg, video {\n  max-width: 100%;\n  font-style: italic;\n  vertical-align: middle;\n  height: auto;\n  outline: 0;\n}\n\n/* remove yellow bg on automplete in chrome */\n\ninput:-webkit-autofill,\nselect:-webkit-autofill {\n  -webkit-box-shadow: 0 0 0 1000px white inset;\n}\n\n/* remove round corner on iOs */\n\ninput:not([type='radio']):not([type='checkbox']):not(.rnd),\nselect {\n  -webkit-appearance: none;\n  border-radius: 0;\n}\n\n/* https://github.com/necolas/normalize.css/pull/697/commits/c3762f068feca8e218e69f54daf397cd0f33176d */\n\nbutton,\nhtml [type='button'],\n[type='reset'],\n[type='submit'] {\n  border-radius: 0;\n}\n\n/* Elements        ------------------------------- */\n\n/*\n    Typography\n-------------------------------\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nul,\nol,\ndl,\nblockquote,\np,\naddress,\ntable,\nfieldset,\nfigure,\npre {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.h0 {\n  font-size: 95.367px;\n  font-size: 5.96046rem;\n  font-size: calc(5.96046 * var(--base-font-size));\n  line-height: 144px;\n  line-height: 9rem;\n  line-height: calc(6 * var(--unit));\n}\n\nh1,\n.h1 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 48px;\n  line-height: 3rem;\n  line-height: calc(2 * var(--unit));\n}\n\nh2,\n.h2 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh3,\nh4,\nh5,\n.h5 {\n  font-weight: 700;\n}\n\nh3,\n.h3 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n  border-bottom: 1px dotted #bcb9af;\n  border-bottom: 0.0625rem dotted #bcb9af;\n  border-bottom: var(--unit-line) var(--border-style) var(--border-color);\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n}\n\nh4,\n.h4 {\n  font-size: 16px;\n  font-size: 1rem;\n  font-size: calc(1 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh5,\n.h5 {\n  font-size: 12.8px;\n  font-size: 0.8rem;\n  font-size: calc(0.8 * var(--base-font-size));\n  line-height: 24px;\n  line-height: 1.5rem;\n  line-height: calc(1 * var(--unit));\n}\n\nh6,\n.h6,\nsmall {\n  font-size: 11.448px;\n  font-size: 0.71554rem;\n  font-size: calc(0.71554 * var(--base-font-size));\n  line-height: 12px;\n  line-height: 0.75rem;\n  line-height: calc(0.5 * var(--unit));\n}\n\nlabel,\nh6 {\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\nh1,\nh2,\nh5 {\n  font-weight: 700;\n}\n\nblockquote {\n  font-size: 17.888px;\n  font-size: 1.11803rem;\n  font-size: calc(1.11803 * var(--base-font-size));\n  line-height: 36px;\n  line-height: 2.25rem;\n  line-height: calc(1.5 * var(--unit));\n  font-style: italic;\n  background: #f8f7f3;\n  background: var(--color-alt);\n  padding: 24px;\n  padding: 1.5rem;\n  padding: var(--unit);\n  border-left: 1px dotted #bcb9af;\n  border-left: 0.0625rem dotted #bcb9af;\n  border-left: var(--unit-line) var(--border-style) var(--border-color);\n}\n\nblockquote :last-child {\n  margin-bottom: 0;\n}\n\nhr {\n  clear: both;\n  border: 0;\n  height: 0;\n  border-top-width: 1px;\n  border-top-width: 0.0625rem;\n  border-top-width: var(--border-width);\n  border-top-style: dotted;\n  border-top-style: var(--border-style);\n  border-top-color: #bcb9af;\n  border-top-color: var(--border-color);\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n}\n\na {\n  text-decoration: none;\n  color: #f50;\n  color: var(--color-highlight)\n}\n\na:visited {\n  color: #f50;\n  color: var(--color-highlight);\n}\n\na:hover,\n  a:active,\n  a:focus {\n  color: #f50;\n  color: var(--color-highlight);\n}\n\nb,\nstrong,\n.strong,\n.bold {\n  font-weight: 700;\n}\n\ni,\n.italic {\n  font-style: italic;\n}\n\n.cap {\n  text-transform: capitalize;\n}\n\n.caps {\n  text-transform: uppercase;\n  letter-spacing: 0.25em;\n}\n\n.line-through {\n  color: #bcb9af;\n  color: var(--color-neutral);\n  text-decoration: line-through;\n}\n\n.underline {\n  border-bottom: 1px solid;\n}\n\n.nowrap {\n  white-space: nowrap;\n}\n\n.truncate {\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-left {\n  text-align: right;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.mono {\n  font-family: 'Lucida Sans Typewriter', monaco, 'Lucida Console', monospace;\n  font-weight: bold;\n}\n\n/*\n      Lists\n-------------------------------\n\n*/\n\nul,\nol,\ndd {\n  list-style-position: inside;\n\n  /* overflow: auto; */\n}\n\nul > li > ul,\nul > li > ol,\nol > li > ul,\nol > li > ol {\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\nol {\n  list-style-type: decimal;\n}\n\nli > ul,\n  li > ol {\n  margin-bottom: 0;\n}\n\n.list-sans {\n  padding: 0;\n  list-style: none;\n}\n\n.list-inline {\n  padding: 0;\n  list-style: none;\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: calc(var(--unit) - var(--unit-xs))\n}\n\n.list-inline > li:not(.right) {\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n  float: left;\n}\n\n.list-inline > li.right {\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n  float: right;\n}\n\n.list-prefix {\n  list-style: none\n}\n\n.list-prefix > li::before {\n  content: '―';\n  content: var(--list-prefix);\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.list-postfix {\n  list-style: none\n}\n\n.list-postfix > li::after {\n  content: ',';\n  content: var(--list-postfix);\n}\n\n.list-inline.list-postfix li:last-child::after {\n  content: none;\n}\n\n/*\n    Table\n-------------------------------\n*/\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: none;\n}\n\nth {\n  text-align: left;\n  font-weight: 700;\n  font-size: 12.8px;\n  font-size: 0.8rem;\n  font-size: calc(0.8 * var(--base-font-size));\n  line-height: 12px;\n  line-height: 0.75rem;\n  line-height: calc(0.5 * var(--unit));\n}\n\ntr {\n  border-bottom: 1px dotted #bcb9af;\n  border-bottom: 0.0625rem dotted #bcb9af;\n  border-bottom: var(--unit-line) var(--border-style) var(--border-color);\n}\n\ntd,\nth {\n  vertical-align: top;\n  word-wrap: break-word;\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n  padding-top: 11px;\n  padding-top: 0.6875rem;\n  padding-top: calc(var(--unit-s) - var(--unit-line));\n}\n\n.table-xs td,\n.table-xs th {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n  padding-bottom: 5px;\n  padding-bottom: 0.3125rem;\n  padding-bottom: calc(var(--unit-xs) - var(--unit-line));\n}\n\n.table-xxs td,\n.table-xxs th {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n  padding-bottom: 2px;\n  padding-bottom: 0.125rem;\n  padding-bottom: calc(var(--unit-xxs) - var(--unit-line));\n}\n\n.table-fixed {\n  display: table;\n  table-layout: fixed;\n}\n\n/*\n      Buttons\n-------------------------------\n*/\n\n.btn,.btn:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n}\n\n.btn:active,.active .btn {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n}\n\n.btn:hover,.active:hover .btn {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.btn:disabled,.btn:disabled:active,.btn:disabled:hover,.disabled .btn,.disabled:active .btn,.disabled:hover .btn {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.btn-border,.btn-border:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:active,.active .btn-border {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:hover,.active:hover .btn-border {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.btn-border:disabled,.btn-border:disabled:active,.btn-border:disabled:hover,.disabled .btn-border,.disabled:active .btn-border,.disabled:hover .btn-border {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-text);\n  background-color: var(--color-alt);\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-bg);\n}\n\n.tag .btn,.tag:visited .btn,\n.btn-alt,.btn-alt:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-bg);\n  background-color: var(--color-neutral);\n}\n\n.tag:active .btn,.tag.active .btn, .btn-alt:active,.active .btn-alt {\n  color: var(--color-bg);\n  background-color: var(--color-inverse);\n}\n\n.tag:hover .btn,.tag.active:hover .btn, .btn-alt:hover,.active:hover .btn-alt {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.tag:disabled .btn,.tag:disabled:active .btn,.tag:disabled:hover .btn,.tag.disabled .btn,.tag.disabled:active .btn,.tag.disabled:hover .btn, .btn-alt:disabled,.btn-alt:disabled:active,.btn-alt:disabled:hover,.disabled .btn-alt,.disabled:active .btn-alt,.disabled:hover .btn-alt {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-bg);\n  background-color: var(--color-neutral);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.btn,\n.btn-alt,\n.btn-border,\n.btn-transparent {\n  transition: opacity 0.5s, background-color 0.5s, border 0.5s,\n    box-shadow 0.5s, fill 0.5s;\n  transition: var(--transition);\n  font-weight: 700;\n}\n\n.btn-border {\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.btn-icon {\n  line-height: 16px;\n  line-height: 1rem;\n}\n\n/*\n      Forms\n-------------------------------\n*/\n\ninput[type='text'],\ninput[type='email'],\ninput[type='search'],\ninput[type='password'],\ninput[type='tel'],\nselect,\ntextarea {\n  width: 100%;\n  padding: 12px;\n  padding: 0.75rem;\n  padding: var(--unit-s);\n  border: 0 none;\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  height: auto;\n  color: inherit;\n}\n\nselect {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath d='M22 9L12 19 2 9'/%3E %3C/svg%3E\"\n  );\n  background-position: right 12px center;\n  background-position: right 0.75rem center;\n  background-position: right var(--unit-s) center;\n  background-repeat: no-repeat;\n\n  /* for FF: http://stackoverflow.com/a/18317228/2112538 */\n  -moz-appearance: none;\n  text-indent: 0.01px;\n  text-overflow: ellipsis;\n}\n\ntextarea {\n  /* http://stackoverflow.com/a/5196591/2112538 */\n  vertical-align: top;\n  resize: vertical;\n}\n\ntextarea:focus,\ninput:focus,\nselect:focus {\n  border-right: 12px solid #f50;\n  border-right: 0.75rem solid #f50;\n  border-right: var(--unit-s) solid var(--color-highlight);\n}\n\ninput[type='text'].bg-bg,\ninput[type='email'].bg-bg,\ninput[type='search'].bg-bg,\ninput[type='password'].bg-bg,\ninput[type='tel'].bg-bg,\nselect.bg-bg,\ntextarea.bg-bg {\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\ninput.success {\n  border-right: 12px solid #6ea040;\n  border-right: 0.75rem solid #6ea040;\n  border-right: var(--unit-s) solid var(--color-success);\n}\n\ninput.error {\n  border-right: 12px solid #e82239;\n  border-right: 0.75rem solid #e82239;\n  border-right: var(--unit-s) solid var(--color-error);\n}\n\ninput:disabled,\ntextarea:disabled,\nselect:disabled {\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\ninput.bg-bg:disabled,\ntextarea.bg-bg:disabled,\nselect.bg-bg:disabled {\n  background-color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n*::-webkit-input-placeholder {\n  /* WebKit, Blink, Edge */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n*:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #bcb9af;\n  color: var(--color-neutral);\n  opacity: 1;\n}\n\n*::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #bcb9af;\n  color: var(--color-neutral);\n  opacity: 1;\n}\n\n*:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n*::-ms-input-placeholder {\n  /* Microsoft Edge */\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n/* Layout          ------------------------------- */\n\n/* @import 'system/grid-system.css'; */\n\n/*\n      postcss-grid-fluid\n-------------------------------\n\nhttps://github.com/francoisromain/postcss-grid-fluid\n*/\n\n.container {\n  padding-left: 24px;\n  padding-left: 1.5rem;\n  padding-left: var(--container-padding);\n  padding-right: 24px;\n  padding-right: 1.5rem;\n  padding-right: var(--container-padding);\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n}\n\n.blobs {\n  clear: both;\n  margin-right: calc(-1 * var(--gutter));\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n\n.blobs::after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\n.blob {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 0;\n}\n\n.blob-auto {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 auto;\n}\n\n.blob-1 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(100% - var(--gutter));\n}\n\n.blob-code,\n.blob-1-2 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(50% - var(--gutter));\n}\n\n.blob-1-3 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(33.333333333333336% - var(--gutter));\n}\n\n.blob-2-3 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(66.66666666666667% - var(--gutter));\n}\n\n.blob-1-4 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(25% - var(--gutter));\n}\n\n.blob-3-4 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(75% - var(--gutter));\n}\n\n.blob-1-6 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(16.666666666666668% - var(--gutter));\n}\n\n.blob-5-6 {\n  margin-right: var(--gutter);\n  flex: 0 1 calc(83.33333333333333% - var(--gutter));\n}\n\n.blob-btn {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 48px;\n  flex: 0 1 3rem;\n}\n\n.blob-3-4-btn {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--gutter);\n  flex: 0 1 calc(75% - 6rem);\n  flex: 0 1 calc(75% - var(--gutter) - 3rem - var(--gutter));\n}\n\n@media (min-width: 22em) {\n  .mobile-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n  .mobile-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .mobile-blob {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 0;\n  }\n\n  .mobile-blob-auto {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 auto;\n  }\n\n  .mobile-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .mobile-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .mobile-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .mobile-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .mobile-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .mobile-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .mobile-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .mobile-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 42.5em) {\n  .container {\n    width: 42.5rem;\n    width: calc(2 * var(--col-width) + var(--gutter));\n  }\n\n  .tablet-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .tablet-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .tablet-blob {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 0;\n  }\n\n  .tablet-blob-auto {\n    margin-right: 1.5rem;\n    margin-right: var(--gutter);\n    flex: 0 1 auto;\n  }\n\n  .tablet-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .tablet-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .tablet-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .tablet-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .tablet-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .tablet-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .tablet-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .tablet-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 63em) {\n  .container {\n    width: 63rem;\n    width: calc(3 * var(--col-width) + var(--gutter));\n  }\n\n  .desktop-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .desktop-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .desktop-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .desktop-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .desktop-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .desktop-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .desktop-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .desktop-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .desktop-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .desktop-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n@media (min-width: 83.5em) {\n  .container {\n    width: 83.5rem;\n    width: calc(4 * var(--col-width) + var(--gutter));\n  }\n\n  .large-blobs {\n    clear: both;\n    margin-right: calc(-1 * var(--gutter));\n    display: flex;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n  }\n\n  .large-blobs::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .large-blob-1 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(100% - var(--gutter));\n  }\n\n  .large-blob-1-2 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(50% - var(--gutter));\n  }\n\n  .large-blob-1-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(33.333333333333336% - var(--gutter));\n  }\n\n  .large-blob-2-3 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(66.66666666666667% - var(--gutter));\n  }\n\n  .large-blob-1-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(25% - var(--gutter));\n  }\n\n  .large-blob-3-4 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(75% - var(--gutter));\n  }\n\n  .large-blob-1-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(16.666666666666668% - var(--gutter));\n  }\n\n  .large-blob-5-6 {\n    margin-right: var(--gutter);\n    flex: 0 1 calc(83.33333333333333% - var(--gutter));\n  }\n}\n\n/*\n    Utils\n-------------------------------\n*/\n\n/*\nhttp://cssmojo.com/the-very-latest-clearfix-reloaded/\n*/\n\n.clearfix::before,\n.clearfix::after {\n  content: '';\n  display: block;\n  clear: both;\n}\n\n.hide {\n  display: none;\n  visibility: hidden;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.pointer-none {\n  pointer-events: none;\n}\n\n.overflow-hidden {\n  overflow: hidden;\n}\n\n.inline-block {\n  display: inline-block;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-start {\n  align-items: flex-start;\n}\n\n.flex-direction-column {\n  flex-direction: column;\n}\n\n.left {\n  float: left;\n}\n\n.right {\n  float: right;\n}\n\n.flex-right {\n  margin-left: auto;\n}\n\n.relative {\n  position: relative;\n}\n\n.fixed {\n  position: fixed;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.center {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n.full {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.full-x {\n  width: 100%;\n}\n\n.full-y {\n  height: 100%;\n}\n\n/*\n      Margins\n-------------------------------\n\n*/\n\n.m {\n  margin: 24px;\n  margin: 1.5rem;\n  margin: var(--unit);\n}\n\n.m-xxs {\n  margin: 3px;\n  margin: 0.1875rem;\n  margin: var(--unit-xxs);\n}\n\n.m-xs {\n  margin: 6px;\n  margin: 0.375rem;\n  margin: var(--unit-xs);\n}\n\n.m-s {\n  margin: 12px;\n  margin: 0.75rem;\n  margin: var(--unit-s);\n}\n\n.m-m {\n  margin: 18px;\n  margin: 1.125rem;\n  margin: var(--unit-m);\n}\n\n.m-l {\n  margin: 36px;\n  margin: 2.25rem;\n  margin: var(--unit-l);\n}\n\n.m-xl {\n  margin: 48px;\n  margin: 3rem;\n  margin: var(--unit-xl);\n}\n\n.m-0 {\n  margin: 0;\n}\n\n.mr {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--unit);\n}\n\n.mr-xxs {\n  margin-right: 3px;\n  margin-right: 0.1875rem;\n  margin-right: var(--unit-xxs);\n}\n\n.mr-xs {\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n}\n\n.mr-s {\n  margin-right: 12px;\n  margin-right: 0.75rem;\n  margin-right: var(--unit-s);\n}\n\n.mr-m {\n  margin-right: 18px;\n  margin-right: 1.125rem;\n  margin-right: var(--unit-m);\n}\n\n.mr-l {\n  margin-right: 36px;\n  margin-right: 2.25rem;\n  margin-right: var(--unit-l);\n}\n\n.mr-xl {\n  margin-right: 48px;\n  margin-right: 3rem;\n  margin-right: var(--unit-xl);\n}\n\n.mr-0 {\n  margin-right: 0;\n}\n\n.ml {\n  margin-left: 24px;\n  margin-left: 1.5rem;\n  margin-left: var(--unit);\n}\n\n.ml-xxs {\n  margin-left: 3px;\n  margin-left: 0.1875rem;\n  margin-left: var(--unit-xxs);\n}\n\n.ml-xs {\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n}\n\n.ml-s {\n  margin-left: 12px;\n  margin-left: 0.75rem;\n  margin-left: var(--unit-s);\n}\n\n.ml-m {\n  margin-left: 18px;\n  margin-left: 1.125rem;\n  margin-left: var(--unit-m);\n}\n\n.ml-l {\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\n.ml-xl {\n  margin-left: 48px;\n  margin-left: 3rem;\n  margin-left: var(--unit-xl);\n}\n\n.ml-0 {\n  margin-left: 0;\n}\n\n.mt {\n  margin-top: 24px;\n  margin-top: 1.5rem;\n  margin-top: var(--unit);\n}\n\n.mt-xxs {\n  margin-top: 3px;\n  margin-top: 0.1875rem;\n  margin-top: var(--unit-xxs);\n}\n\n.mt-xs {\n  margin-top: 6px;\n  margin-top: 0.375rem;\n  margin-top: var(--unit-xs);\n}\n\n.mt-s {\n  margin-top: 12px;\n  margin-top: 0.75rem;\n  margin-top: var(--unit-s);\n}\n\n.mt-m {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n}\n\n.mt-l {\n  margin-top: 36px;\n  margin-top: 2.25rem;\n  margin-top: var(--unit-l);\n}\n\n.mt-xl {\n  margin-top: 48px;\n  margin-top: 3rem;\n  margin-top: var(--unit-xl);\n}\n\n.mt-xxl {\n  margin-top: 60px;\n  margin-top: 3.75rem;\n  margin-top: var(--unit-xxl);\n}\n\n.mt-0 {\n  margin-top: 0;\n}\n\n.mb {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.mb-xxs {\n  margin-bottom: 3px;\n  margin-bottom: 0.1875rem;\n  margin-bottom: var(--unit-xxs);\n}\n\n.mb-xs {\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n}\n\n.mb-s {\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\n.mb-m {\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: var(--unit-m);\n}\n\n.mb-l {\n  margin-bottom: 36px;\n  margin-bottom: 2.25rem;\n  margin-bottom: var(--unit-l);\n}\n\n.mb-xl {\n  margin-bottom: 48px;\n  margin-bottom: 3rem;\n  margin-bottom: var(--unit-xl);\n}\n\n.mb-xxl {\n  margin-bottom: 60px;\n  margin-bottom: 3.75rem;\n  margin-bottom: var(--unit-xxl);\n}\n\n.mb-0 {\n  margin-bottom: 0;\n}\n\n.mx {\n  margin-right: 24px;\n  margin-right: 1.5rem;\n  margin-right: var(--unit);\n  margin-left: 24px;\n  margin-left: 1.5rem;\n  margin-left: var(--unit);\n}\n\n.mx-xxs {\n  margin-right: 3px;\n  margin-right: 0.1875rem;\n  margin-right: var(--unit-xxs);\n  margin-left: 3px;\n  margin-left: 0.1875rem;\n  margin-left: var(--unit-xxs);\n}\n\n.mx-xs {\n  margin-right: 6px;\n  margin-right: 0.375rem;\n  margin-right: var(--unit-xs);\n  margin-left: 6px;\n  margin-left: 0.375rem;\n  margin-left: var(--unit-xs);\n}\n\n.mx-s {\n  margin-right: 12px;\n  margin-right: 0.75rem;\n  margin-right: var(--unit-s);\n  margin-left: 12px;\n  margin-left: 0.75rem;\n  margin-left: var(--unit-s);\n}\n\n.mx-m {\n  margin-right: 18px;\n  margin-right: 1.125rem;\n  margin-right: var(--unit-m);\n  margin-left: 18px;\n  margin-left: 1.125rem;\n  margin-left: var(--unit-m);\n}\n\n.mx-l {\n  margin-right: 36px;\n  margin-right: 2.25rem;\n  margin-right: var(--unit-l);\n  margin-left: 36px;\n  margin-left: 2.25rem;\n  margin-left: var(--unit-l);\n}\n\n.mx-xl {\n  margin-right: 48px;\n  margin-right: 3rem;\n  margin-right: var(--unit-xl);\n  margin-left: 48px;\n  margin-left: 3rem;\n  margin-left: var(--unit-xl);\n}\n\n.mx-xxl {\n  margin-right: 60px;\n  margin-right: 3.75rem;\n  margin-right: var(--unit-xxl);\n  margin-left: 60px;\n  margin-left: 3.75rem;\n  margin-left: var(--unit-xxl);\n}\n\n.mx-0 {\n  margin-right: 0;\n  margin-left: 0;\n}\n\n.my {\n  margin-top: 24px;\n  margin-top: 1.5rem;\n  margin-top: var(--unit);\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n}\n\n.my-xxs {\n  margin-top: 3px;\n  margin-top: 0.1875rem;\n  margin-top: var(--unit-xxs);\n  margin-bottom: 3px;\n  margin-bottom: 0.1875rem;\n  margin-bottom: var(--unit-xxs);\n}\n\n.my-xs {\n  margin-top: 6px;\n  margin-top: 0.375rem;\n  margin-top: var(--unit-xs);\n  margin-bottom: 6px;\n  margin-bottom: 0.375rem;\n  margin-bottom: var(--unit-xs);\n}\n\n.my-s {\n  margin-top: 12px;\n  margin-top: 0.75rem;\n  margin-top: var(--unit-s);\n  margin-bottom: 12px;\n  margin-bottom: 0.75rem;\n  margin-bottom: var(--unit-s);\n}\n\n.my-m {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n  margin-bottom: 18px;\n  margin-bottom: 1.125rem;\n  margin-bottom: var(--unit-m);\n}\n\n.my-l {\n  margin-top: 36px;\n  margin-top: 2.25rem;\n  margin-top: var(--unit-l);\n  margin-bottom: 36px;\n  margin-bottom: 2.25rem;\n  margin-bottom: var(--unit-l);\n}\n\n.my-xl {\n  margin-top: 48px;\n  margin-top: 3rem;\n  margin-top: var(--unit-xl);\n  margin-bottom: 48px;\n  margin-bottom: 3rem;\n  margin-bottom: var(--unit-xl);\n}\n\n.my-0 {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.mt--s {\n  margin-top: -12px;\n  margin-top: -0.75rem;\n  margin-top: calc(var(--unit-s) * -1);\n}\n\n.mt--m {\n  margin-top: -18px;\n  margin-top: -1.125rem;\n  margin-top: calc(var(--unit-m) * -1);\n}\n\n.my--s {\n  margin-top: -12px;\n  margin-top: -0.75rem;\n  margin-top: calc(var(--unit-s) * -1);\n  margin-bottom: -12px;\n  margin-bottom: -0.75rem;\n  margin-bottom: calc(var(--unit-s) * -1);\n}\n\n.my--xs {\n  margin-top: -6px;\n  margin-top: -0.375rem;\n  margin-top: calc(var(--unit-xs) * -1);\n  margin-bottom: -6px;\n  margin-bottom: -0.375rem;\n  margin-bottom: calc(var(--unit-xs) * -1);\n}\n\n/*\n    Padding\n-------------------------------\n*/\n\n.p {\n  padding: 24px;\n  padding: 1.5rem;\n  padding: var(--unit);\n}\n\n.p-xxs {\n  padding: 3px;\n  padding: 0.1875rem;\n  padding: var(--unit-xxs);\n}\n\n.p-xs {\n  padding: 6px;\n  padding: 0.375rem;\n  padding: var(--unit-xs);\n}\n\n.p-s {\n  padding: 12px;\n  padding: 0.75rem;\n  padding: var(--unit-s);\n}\n\n.p-m {\n  padding: 18px;\n  padding: 1.125rem;\n  padding: var(--unit-m);\n}\n\n.p-l {\n  padding: 36px;\n  padding: 2.25rem;\n  padding: var(--unit-l);\n}\n\n.p-xl {\n  padding: 48px;\n  padding: 3rem;\n  padding: var(--unit-xl);\n}\n\n.p-xxl {\n  padding: 60px;\n  padding: 3.75rem;\n  padding: var(--unit-xxl);\n}\n\n.px {\n  padding-left: 24px;\n  padding-left: 1.5rem;\n  padding-left: var(--unit);\n  padding-right: 24px;\n  padding-right: 1.5rem;\n  padding-right: var(--unit);\n}\n\n.px-xxs {\n  padding-left: 3px;\n  padding-left: 0.1875rem;\n  padding-left: var(--unit-xxs);\n  padding-right: 3px;\n  padding-right: 0.1875rem;\n  padding-right: var(--unit-xxs);\n}\n\n.px-xs {\n  padding-left: 6px;\n  padding-left: 0.375rem;\n  padding-left: var(--unit-xs);\n  padding-right: 6px;\n  padding-right: 0.375rem;\n  padding-right: var(--unit-xs);\n}\n\n.px-s {\n  padding-left: 12px;\n  padding-left: 0.75rem;\n  padding-left: var(--unit-s);\n  padding-right: 12px;\n  padding-right: 0.75rem;\n  padding-right: var(--unit-s);\n}\n\n.px-m {\n  padding-left: 18px;\n  padding-left: 1.125rem;\n  padding-left: var(--unit-m);\n  padding-right: 18px;\n  padding-right: 1.125rem;\n  padding-right: var(--unit-m);\n}\n\n.px-l {\n  padding-left: 36px;\n  padding-left: 2.25rem;\n  padding-left: var(--unit-l);\n  padding-right: 36px;\n  padding-right: 2.25rem;\n  padding-right: var(--unit-l);\n}\n\n.px-xl {\n  padding-left: 48px;\n  padding-left: 3rem;\n  padding-left: var(--unit-xl);\n  padding-right: 48px;\n  padding-right: 3rem;\n  padding-right: var(--unit-xl);\n}\n\n.px-xxl {\n  padding-left: 60px;\n  padding-left: 3.75rem;\n  padding-left: var(--unit-xxl);\n  padding-right: 60px;\n  padding-right: 3.75rem;\n  padding-right: var(--unit-xxl);\n}\n\n.py {\n  padding-top: 24px;\n  padding-top: 1.5rem;\n  padding-top: var(--unit);\n  padding-bottom: 24px;\n  padding-bottom: 1.5rem;\n  padding-bottom: var(--unit);\n}\n\n.py-xxs {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n  padding-bottom: 3px;\n  padding-bottom: 0.1875rem;\n  padding-bottom: var(--unit-xxs);\n}\n\n.py-xs {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n  padding-bottom: 6px;\n  padding-bottom: 0.375rem;\n  padding-bottom: var(--unit-xs);\n}\n\n.py-s {\n  padding-top: 12px;\n  padding-top: 0.75rem;\n  padding-top: var(--unit-s);\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.py-m {\n  padding-top: 18px;\n  padding-top: 1.125rem;\n  padding-top: var(--unit-m);\n  padding-bottom: 18px;\n  padding-bottom: 1.125rem;\n  padding-bottom: var(--unit-m);\n}\n\n.py-l {\n  padding-top: 36px;\n  padding-top: 2.25rem;\n  padding-top: var(--unit-l);\n  padding-bottom: 36px;\n  padding-bottom: 2.25rem;\n  padding-bottom: var(--unit-l);\n}\n\n.py-xl {\n  padding-top: 48px;\n  padding-top: 3rem;\n  padding-top: var(--unit-xl);\n  padding-bottom: 48px;\n  padding-bottom: 3rem;\n  padding-bottom: var(--unit-xl);\n}\n\n.py-xxl {\n  padding-top: 60px;\n  padding-top: 3.75rem;\n  padding-top: var(--unit-xxl);\n  padding-bottom: 60px;\n  padding-bottom: 3.75rem;\n  padding-bottom: var(--unit-xxl);\n}\n\n.pt {\n  padding-top: 24px;\n  padding-top: 1.5rem;\n  padding-top: var(--unit);\n}\n\n.pt-xxs {\n  padding-top: 3px;\n  padding-top: 0.1875rem;\n  padding-top: var(--unit-xxs);\n}\n\n.pt-xs {\n  padding-top: 6px;\n  padding-top: 0.375rem;\n  padding-top: var(--unit-xs);\n}\n\n.pt-s {\n  padding-top: 12px;\n  padding-top: 0.75rem;\n  padding-top: var(--unit-s);\n}\n\n.pt-m {\n  padding-top: 18px;\n  padding-top: 1.125rem;\n  padding-top: var(--unit-m);\n}\n\n.pt-l {\n  padding-top: 36px;\n  padding-top: 2.25rem;\n  padding-top: var(--unit-l);\n}\n\n.pt-xl {\n  padding-top: 48px;\n  padding-top: 3rem;\n  padding-top: var(--unit-xl);\n}\n\n.pt-xxl {\n  padding-top: 60px;\n  padding-top: 3.75rem;\n  padding-top: var(--unit-xxl);\n}\n\n.pb {\n  padding-bottom: 24px;\n  padding-bottom: 1.5rem;\n  padding-bottom: var(--unit);\n}\n\n.pb-xxs {\n  padding-bottom: 3px;\n  padding-bottom: 0.1875rem;\n  padding-bottom: var(--unit-xxs);\n}\n\n.pb-xs {\n  padding-bottom: 6px;\n  padding-bottom: 0.375rem;\n  padding-bottom: var(--unit-xs);\n}\n\n.pb-s {\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.pb-m {\n  padding-bottom: 18px;\n  padding-bottom: 1.125rem;\n  padding-bottom: var(--unit-m);\n}\n\n.pb-l {\n  padding-bottom: 36px;\n  padding-bottom: 2.25rem;\n  padding-bottom: var(--unit-l);\n}\n\n.pb-xl {\n  padding-bottom: 48px;\n  padding-bottom: 3rem;\n  padding-bottom: var(--unit-xl);\n}\n\n.pb-xxl {\n  padding-bottom: 60px;\n  padding-bottom: 3.75rem;\n  padding-bottom: var(--unit-xxl);\n}\n\n/* Ui             ------------------------------- */\n\n/*\n    Colors\n-------------------------------\n*/\n\n.color-bg {\n  color: white;\n  color: var(--color-bg);\n}\n\n.color-highlight {\n  color: #f50;\n  color: var(--color-highlight);\n}\n\n.color-alt {\n  color: #f8f7f3;\n  color: var(--color-alt);\n}\n\n.color-neutral {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.color-inverse {\n  color: #3d3d35;\n  color: var(--color-inverse);\n}\n\n.bg-bg {\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\n.bg-highlight {\n  background-color: #f50;\n  background-color: var(--color-highlight);\n}\n\n.bg-alt {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n}\n\n.bg-neutral {\n  background-color: #bcb9af;\n  background-color: var(--color-neutral);\n}\n\n.bg-inverse {\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n}\n\n.bg-info {\n  background: #5798aa;\n  background: var(--color-info);\n}\n\n.bg-error {\n  background: #e82239;\n  background: var(--color-error);\n}\n\n.bg-warning {\n  background: #ff891c;\n  background: var(--color-warning);\n}\n\n.bg-success {\n  background: #6ea040;\n  background: var(--color-success);\n}\n\n.bg-bg-alpha {\n  background-color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.bg-alt-alpha {\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\n/*\n    UI elements\n-------------------------------\n*/\n\n.pill {\n  border-radius: 9999px;\n  border-radius: var(--unit-infinity);\n}\n\n.rnd {\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.rnd-top {\n  border-radius: 0.375rem 0.375rem 0 0;\n  border-radius: var(--unit-xs) var(--unit-xs) 0 0;\n}\n\n.border-bottom {\n  border-bottom: 1px dotted;\n  border-bottom: 0.0625rem dotted;\n  border-bottom: var(--unit-line) dotted;\n  margin-bottom: 23px;\n  margin-bottom: 1.4375rem;\n  margin-bottom: calc(var(--unit) - var(--unit-line));\n  border-color: #bcb9af;\n  border-color: var(--border-color);\n}\n\n.border {\n  box-shadow: inset 0 0 0 0.0625rem #f8f7f3;\n  box-shadow: inset 0 0 0 var(--unit-line) var(--color-alt);\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n}\n\n.tooltip {\n  position: relative;\n}\n\n.tooltip span {\n  position: absolute;\n  color: #f8f7f3;\n  color: var(--color-alt);\n  background: #bcb9af;\n  background: var(--color-neutral);\n  text-align: center;\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n  top: -48px;\n  top: -3rem;\n  top: calc(var(--unit-xl) * -1);\n  right: 0;\n  padding: 6px;\n  padding: 0.375rem;\n  padding: var(--unit-xs);\n  z-index: 999;\n}\n\n.tooltip span::after {\n  content: '';\n  position: absolute;\n  top: 100%;\n  right: 24px;\n  right: 1.5rem;\n  right: var(--unit);\n  border-top: 6px solid #bcb9af;\n  border-top: 0.375rem solid #bcb9af;\n  border-top: var(--unit-xs) solid var(--color-neutral);\n  border-right: 6px solid transparent;\n  border-right: 0.375rem solid transparent;\n  border-right: var(--unit-xs) solid transparent;\n  border-left: 6px solid transparent;\n  border-left: 0.375rem solid transparent;\n  border-left: var(--unit-xs) solid transparent;\n}\n\n.shadow {\n  box-shadow: 0.375rem 0.375rem 1.5rem\n    rgba(188, 185, 175, 0.25);\n  box-shadow: var(--unit-xs) var(--unit-xs) var(--unit)\n    rgba(188, 185, 175, 0.25);\n}\n\n.shadow-inset {\n  box-shadow: inset 0.375rem 0.375rem 1.5rem\n    rgba(188, 185, 175, 0.25);\n  box-shadow: inset var(--unit-xs) var(--unit-xs) var(--unit)\n    rgba(188, 185, 175, 0.25);\n}\n\n.ribbon {\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  right: 0;\n  width: 150px;\n  height: 150px;\n}\n\n.ribbon-bloc {\n  transform: rotate(45deg);\n}\n\n.ribbon span {\n  display: inline-block;\n  width: 100%;\n  color: white;\n  color: var(--color-bg);\n  background-color: #ff891c;\n  background-color: var(--color-warning);\n  text-align: center;\n}\n\npre code {\n  display: block;\n}\n\ncode {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  padding: 6px 12px;\n  padding: 0.375rem 0.75rem;\n  padding: var(--unit-xs) var(--unit-s);\n  border-radius: 0.375rem;\n  border-radius: var(--unit-xs);\n  white-space: pre;\n  -webkit-hyphens: none;\n      -ms-hyphens: none;\n          hyphens: none;\n  word-wrap: break-word;\n}\n\n.icon {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  background-size: cover;\n}\n\n.icon-8 {\n  width: 8px;\n  width: 0.5rem;\n  width: calc(var(--base-font-size) / 2);\n  height: 8px;\n  height: 0.5rem;\n  height: calc(var(--base-font-size) / 2);\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.icon-24 {\n  width: 24px;\n  width: 1.5rem;\n  width: var(--unit);\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n}\n\n.icon-48 {\n  width: 48px;\n  width: 3rem;\n  width: var(--unit-xl);\n  height: 48px;\n  height: 3rem;\n  height: var(--unit-xl);\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n}\n\n.icon-24-close {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M2 2l20 20m0-20L2 22'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-border:hover .icon-24-close {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M2 2l20 20m0-20L2 22'/%3E %3C/svg%3E\"\n  );\n}\n\n.icon-24-plus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M1.5 11.5h20m-10 10v-20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-alt .icon-24-plus,\n.btn-alt:hover .icon-24-plus,\n.btn-border:hover .icon-24-plus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath class='st0' d='M1.5 11.5h20m-10 10v-20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-alt .icon-24-minus,\n.btn-alt:hover .icon-24-minus {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Cpath d='M1.5 11.5h20'/%3E %3C/svg%3E\"\n  );\n}\n\n.btn-menubar .icon-24-dot {\n  background-image: url(\n    \"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' stroke-width='1px'%3E %3Ccircle cx='11.5' cy='11.5' r='6'/%3E %3C/svg%3E\"\n  );\n}\n\n.icon-24-dot.blink {\n  animation: blinker 0.2s ease infinite;\n}\n\n@keyframes blinker {\n  50% {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='white'%3E %3Ccircle cx='11.5' cy='11.5' r='6'/%3E %3C/svg%3E\");\n  }\n}\n\n/* .icon-48-close {\n  background-image: svg-load(\n    './icons/48-close.svg',\n    fill=none,\n    stroke=var(--color-highlight),\n    stroke-linecap=round,\n    stroke-linejoin=round,\n    stroke-miterlimit=10,\n    stroke-width=1px\n  );\n}\n\n.btn-icon:hover .icon-48-close {\n  background-image: svg-load(\n    './icons/48-close.svg',\n    stroke=var(--color-bg),\n    stroke-linecap=round,\n    stroke-linejoin=round,\n    stroke-miterlimit=10,\n    stroke-width=1px\n  );\n} */\n\n/* Tools          ------------------------------- */\n\n/* Debug trick -------------------------------\nhttp://qr.ae/ROqymT */\n\n.debug {\n  background-color: rgba(255, 0, 0, 0.2);\n}\n\n.debug * {\n  background-color: rgba(0, 255, 0, 0.2);\n}\n\n.debug * * {\n  background-color: rgba(0, 0, 255, 0.2);\n}\n\n.debug * * * {\n  background-color: rgba(255, 0, 255, 0.2);\n}\n\n.debug * * * * {\n  background-color: rgba(0, 255, 255, 0.2);\n}\n\n.debug * * * * * {\n  background-color: rgba(255, 255, 0, 0.2);\n}\n\n.debug * * * * * * {\n  background-color: rgba(255, 255, 0, 0.2);\n}\n\n.grid {\n  background-size: 20.5rem 0.75rem;\n  background-size: var(--col-width) calc(var(--unit) / 2);\n  background-position: center top;\n  background-image: linear-gradient(\n    rgba(0, 0, 0, 0.05) 0.01rem,\n    transparent 0.09rem\n  ),\n    linear-gradient(90deg, rgba(255, 0, 0, 0.25) 0, transparent 0.25%),\n    linear-gradient(\n    90deg,\n    transparent 50%,\n    rgba(255, 0, 0, 0.25) 50%,\n    transparent 50.25%\n  );\n}\n\n/* Theme          ------------------------------- */\n\n/*\n    Sticky footer\n-------------------------------\nhttp://mystrd.at/modern-clean-css-sticky-footer/\n*/\n\n:root {\n  --footer-height: 216px;\n  --footer-height: 13.5rem;\n  --footer-height: calc(var(--unit) * 9);\n}\n\nhtml {\n  position: relative;\n  height: 100%;\n}\n\nbody {\n  min-height: 100%;\n}\n\n.page {\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n}\n\n.main {\n  flex: 1;\n}\n\n.footer {\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n  color: white;\n  color: var(--color-bg);\n}\n\n@media (min-width: 63em) {\n  .footer {\n    height: 13.5rem;\n    height: var(--footer-height);\n  }\n}\n\n#loader-app {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n#loader-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  background-color: white;\n  background-color: var(--color-bg);\n}\n\n#app {\n  overflow: hidden;\n}\n\n/*\n    Theme\n-------------------------------\n*/\n\n:root {\n  --header-height: 96px;\n  --header-height: 6rem;\n  --header-height: calc(var(--unit) * 4);\n}\n\n[v-cloak] {\n  display: none;\n}\n\n.menubar-infos {\n  padding-top: 0;\n  padding-bottom: 12px;\n  padding-bottom: 0.75rem;\n  padding-bottom: var(--unit-s);\n}\n\n.btn-menubar,.btn-menubar:visited {\n  cursor: pointer;\n  text-decoration: none;\n  border: none;\n  display: inline-block;\n  color: var(--color-bg);\n  background-color: var(--color-transparent);\n  font-weight: 700;\n  height: 48px;\n  height: 3rem;\n}\n\n.btn-menubar:active,.active .btn-menubar {\n  color: var(--color-inverse);\n  background-color: var(--color-alt);\n}\n\n.btn-menubar:hover,.active:hover .btn-menubar {\n  color: var(--color-bg);\n  background-color: var(--color-highlight);\n}\n\n.btn-menubar:disabled,.btn-menubar:disabled:active,.btn-menubar:disabled:hover,.disabled .btn-menubar,.disabled:active .btn-menubar,.disabled:hover .btn-menubar {\n  opacity: 0.25;\n  cursor: default;\n  color: var(--color-bg);\n  background-color: var(--color-transparent);\n  box-shadow: inset 0 0 0 0 grey;\n}\n\n.main {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n}\n\n.content {\n  overflow-y: scroll;\n  flex: 1 1 auto;\n}\n\n.messages {\n  bottom: 0;\n}\n\n.dropdown {\n  margin-bottom: 24px;\n  margin-bottom: 1.5rem;\n  margin-bottom: var(--unit);\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n}\n\n.menubar-infos {\n  margin-top: 18px;\n  margin-top: 1.125rem;\n  margin-top: var(--unit-m);\n}\n\n.annotation {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n.handle {\n  width: 32px;\n  background-color: yellow;\n  cursor: ew-resize;\n}\n\n.handle-right {\n  right: -32px;\n  top: 0;\n  bottom: 0;\n}\n\n.handle-left {\n  left: -32px;\n  top: 0;\n  bottom: 0;\n}\n\n.handle-topleft {\n  top: 0;\n  left: 0;\n  height: 32px;\n}\n\n.handle-bottomright {\n  bottom: 0;\n  right: 0;\n  height: 32px;\n}\n\n.timeline-cursor {\n  left: 50%;\n  transform: translateX(-50%);\n  width: 1px;\n  width: 0.0625rem;\n  width: var(--unit-line);\n  background-color: rgb(0, 162, 255);\n  background-color: var(--color-brand);\n  top: 0;\n  bottom: 0;\n}\n\n.timeline-annotations {\n  z-index: 0;\n}\n\n.annotation {\n  top: 0;\n  bottom: 0;\n  text-align: center;\n}\n\n.annotation.active {\n  z-index: 1;\n  background-color: rgba(255, 0, 0, 1);\n}\n\n.popup-header {\n  height: 96px;\n  height: 6rem;\n  height: calc(4 * var(--unit));\n  border-bottom-width: 3px;\n  border-bottom-width: 0.1875rem;\n  border-bottom-width: var(--unit-xxs);\n  border-bottom-style: solid;\n  border-bottom-color: #f8f7f3;\n  border-bottom-color: var(--color-alt);\n  margin-bottom: -3px;\n  margin-bottom: -0.1875rem;\n  margin-bottom: calc(-1 * var(--unit-xxs));\n}\n\n.popup-content {\n  height: calc(100% - 6rem);\n  height: calc(100% - 4 * var(--unit));\n  overflow-y: auto;\n}\n\n@media (min-width: 42.5em) {\n  --header-height: 3rem;\n  --header-height: calc(var(--unit) * 2);\n\n  .menubar-infos {\n    padding-top: 1.125rem;\n    padding-top: var(--unit-m);\n    margin-top: 0;\n  }\n\n  .popup {\n    width: 39.5rem;\n    width: calc(2 * var(--col-width) - var(--gutter));\n    transform: translate(-50%, 0);\n    top: 6rem;\n    top: var(--header-height);\n    left: 50%;\n    right: auto;\n    bottom: auto;\n    z-index: 2;\n    border-radius: 0.375rem;\n    border-radius: var(--unit-xs);\n  }\n\n  .messages {\n    width: 39.5rem;\n    width: calc(2 * var(--col-width) - var(--gutter));\n  }\n\n  .dropdown {\n    position: absolute;\n    right: 1.5rem;\n    right: var(--gutter);\n    top: 0;\n  }\n}\n\n.transition-bottom-enter-active,\n.transition-bottom-leave-active,\n.transition-fade-enter-active,\n.transition-fade-leave-active,\n.transition-top-enter-active,\n.transition-top-leave-active,\n.transition-top-enter-active .pophover,\n.transition-top-leave-active .pophover {\n  transition: all 0.5s;\n}\n\n.transition-bottom-enter,\n.transition-bottom-leave-to {\n  opacity: 0;\n  margin-bottom: -60px;\n  margin-bottom: -3.75rem;\n  margin-bottom: calc(var(--unit-xxl) * -1);\n}\n\n.transition-fade-enter,\n.transition-fade-leave-to {\n  opacity: 0;\n}\n\n.transition-top-enter,\n.transition-top-leave-to {\n  opacity: 0;\n}\n\n.transition-top-enter .pophover,\n.transition-top-leave-to .pophover {\n  margin-top: -60px;\n  margin-top: -3.75rem;\n  margin-top: calc(var(--unit-xxl) * -1);\n}\n\n/* from https://github.com/PrismJS/prism/blob/gh-pages/themes/prism.css */\n\n:not(pre) > code[class*='language-'] {\n  padding: 0.1em;\n  white-space: normal;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.token.punctuation {\n  color: #bcb9af;\n  color: var(--color-neutral);\n}\n\n.namespace {\n  opacity: 0.7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n  color: rgba(212, 67, 74, 1);\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n  color: rgba(57, 119, 191, 1);\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n  color: #a67f59;\n  background: hsla(0, 0%, 100%, 0.5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n  color: rgba(105, 134, 46, 1);\n}\n\n.token.function {\n  color: #dd4a68;\n}\n\n.token.regex,\n.token.important,\n.token.variable {\n  color: #e90;\n}\n\n.token.important,\n.token.bold {\n  font-weight: bold;\n}\n\n.token.italic {\n  font-style: italic;\n}\n\n.token.entity {\n  cursor: help;\n}\n\n.spinner {\n  margin: 25% auto;\n  width: 160px;\n  width: 10rem;\n  text-align: center;\n}\n\n.spinner > div {\n  width: 24px;\n  width: 1.5rem;\n  width: var(--unit);\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  background-color: #3d3d35;\n  background-color: var(--color-inverse);\n  border-radius: 100%;\n  display: inline-block;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n\n.spinner .bounce1 {\n  animation-delay: -0.32s;\n}\n\n.spinner .bounce2 {\n  animation-delay: -0.16s;\n}\n\n@keyframes sk-bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n\n  50% {\n    transform: scale(1);\n  }\n}\n\n.mediacontroller {\n  transition: all 0.3s;\n}\n\n.mediacontroller-button {\n  height: 36px;\n  height: 2.25rem;\n  height: var(--unit-l);\n  width: 48px;\n  width: 3rem;\n  width: var(--unit-xl);\n  padding: 0;\n  line-height: 1;\n  text-align: center;\n  float: left;\n}\n\n.mediacontroller-counter {\n  height: 36px;\n  height: 2.25rem;\n  height: var(--unit-l);\n  padding: 6px 12px;\n  padding: 0.375rem 0.75rem;\n  padding: var(--unit-xs) var(--unit-s);\n  float: left;\n}\n\n.mediacontroller-progress {\n  position: relative;\n  height: 24px;\n  height: 1.5rem;\n  height: var(--unit);\n  background-color: rgba(248, 247, 243, 0.5);\n  background-color: rgba(248, 247, 243, 0.5);\n}\n\n.mediacontroller-progress.loaded {\n  background-color: #f8f7f3;\n  background-color: var(--color-alt);\n  cursor: ew-resize;\n}\n\n.mediacontroller-progress-bar {\n  background: #f50;\n  background: var(--color-highlight);\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  top: 0;\n\n  /*transition: width 1s;*/\n}\n");var s=function(t,e){console.log("%c| "+t+": %c"+e,"padding:8px 0; color:#666; line-height:24px;","padding:8px 32px 8px 0; color:#f40; line-height:24px;")};function d(t){return{name:t.username,id:t._id,description:t.description||{},role:t.role}}function c(t){return{name:t.name,id:t._id,description:t.description||{},userIds:t.users}}function u(t){return{name:t.name,id:t._id,url:t.url,corpuId:t.id_corpus,description:t.description||{}}}function i(){return(new Date).valueOf()}var l={lists:{},actives:{},properties:{timeTotal:0,timeCurrent:0,isPlaying:!1,isLoaded:!1,seek:{seeking:!1}}},n={viewport:{namespaced:!0,state:{name:"",width:0,height:0,svg:{height:0,width:0,scale:1},animate:!1},mutations:{set:function(t,e){var n=e.animate,i=e.name,r=e.width,o=e.height;t.name=i,t.animate=n,t.width=r,t.height=o,s("Viewport",i)}},actions:{set:function(t){t.state;var e,n,i=t.commit,r=window.innerWidth,o=window.innerHeight;window.matchMedia("(min-width: 83.5em)").matches?(e="large",n=!0):window.matchMedia("(min-width: 63em)").matches?(e="desktop",n=!0):window.matchMedia("(min-width: 42.5em)").matches?n=!(e="tablet"):window.matchMedia("(min-width: 22em)").matches?n=!(e="mobile"):(s("Viewport","Default"),n=!(e="default")),i("set",{name:e,animate:n,width:r,height:o})}}},sync:{namespaced:!0,state:{list:[]},actions:{all:function(t){var e=t.dispatch;e("set",{},{root:!0}).then(function(t){e("messages/success","Synced with server",{root:!0})})},start:function(t,e){t.state.list.push(e)},stop:function(t,e){var n=t.state;n.list=n.list.filter(function(t){return t!==e})}},getters:{active:function(t){return t.list.length}}},popup:{namespaced:!0,state:{visible:!1,config:{},element:{}},mutations:{open:function(t,e){var n=e.config,i=e.element;t.visible=!0,t.config=n,t.element=JSON.parse(JSON.stringify(i))},close:function(t){t.visible=!1,t.config={}},fieldUpdate:function(t,e){var n=e.name,i=e.value;a.set(t.element,n,i)}}},dropdown:{namespaced:!0,state:{visible:!1,config:{}},mutations:{close:function(t){t.visible=!1,t.config={}},open:function(t,e){t.visible=!0,t.config=e}}},messages:{namespaced:!0,state:{list:[]},actions:{success:function(t,e){var n=t.commit;n("add",{content:e,type:"success",id:i()}),setTimeout(function(t){n("remove")},2e3)},error:function(t,e){var n=t.commit;n("add",{content:e,type:"error",id:i()}),setTimeout(function(t){n("remove")},2e3)}},mutations:{remove:function(t){t.list.shift()},add:function(t,e){t.list.push(e)}}},user:{namespaced:!0,state:{id:"",name:"",role:"",description:{},groupIds:[],isLogged:!1,isAdmin:!1,isRoot:!1},actions:{login:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState;return i("sync/start","userLogin",{root:!0}),r.api.login(e.user.name,e.user.password).then(function(t){return i("sync/stop","userLogin",{root:!0}),n("popup/close",null,{root:!0}),i("set"),t.message}).catch(function(t){throw i("sync/stop","userLogin",{root:!0}),i("messages/error",t.message,{root:!0}),i("reset",null,{root:!0}),t})},set:function(t){var n=t.commit,i=t.dispatch,e=t.rootState;return i("sync/start","userSet",{root:!0}),e.api.me().then(function(t){var e={id:t.data._id,name:t.data.username,role:t.data.role,description:t.data.description||{},groupIds:t.data.groups||[]};return i("sync/stop","userSet",{root:!0}),n("set",e),i("set",null,{root:!0}),e}).catch(function(t){throw i("sync/stop","userSet",{root:!0}),i("messages/error",t.message,{root:!0}),i("reset",null,{root:!0}),t})},logout:function(t){var e=t.commit,n=t.dispatch,i=t.rootState;return n("sync/start","userLogout",{root:!0}),i.api.logout().then(function(t){return n("sync/stop","userLogout",{root:!0}),n("reset",null,{root:!0}),e("popup/close",null,{root:!0}),e("dropdown/close",null,{root:!0}),t.message}).catch(function(t){throw n("sync/stop","userLogout",{root:!0}),n("messages/error",t.message,{root:!0}),n("reset",null,{root:!0}),t})}},getters:{isAdmin:function(o){return function(t){var e=t.users;void 0===e&&(e={});var r=t.groups;void 0===r&&(r={});var n=3===e[o.id],i=Object.keys(r).reduce(function(t,n){var e=3===r[n],i=o.groupIds.reduce(function(t,e){return t||e===n},!1);return t||e&&i},!1);return n||i}},isCurrentUser:function(e){return function(t){return e.id===t}},isInGroup:function(e){return function(t){return-1!==e.groupIds.indexOf(t)}},permission:function(s){return function(t){var e=t.users;void 0===e&&(e={});var n=t.groups;void 0===n&&(n={});var i=Object.keys(e).find(function(t){return t===s.id})&&e[s.id]||0,r=Object.keys(n).reduce(function(t,e){return Math.max(t,-1!==s.groupIds.indexOf(e)&&n[e])},0),o=s.isRoot?3:0;return Math.max(i,r,o)}}},mutations:{set:function(t,e){t.isLogged=!0,t.isAdmin="admin"===e.role,t.isRoot="root"===e.name,t.id=e.id,t.name=e.name,t.role=e.role,t.description=e.description,t.groupIds=e.groupIds},reset:function(t){t.isLogged=!1,t.isAdmin=!1,t.isRoot=!1,t.id="",t.name="",t.role="",t.description={},t.groupIds=[]},groupAdd:function(t,e){t.groupIds.push(e)},groupRemove:function(t,e){t.groupIds=t.groupIds.filter(function(t){return t!==e})}}},users:{namespaced:!0,state:{list:[]},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","usersAdd",{root:!0}),r.api.createUser(o.name,o.password,o.description,o.role).then(function(t){i("sync/stop","usersAdd",{root:!0});var e=d(t.data);return n("add",e),n("corpus/userAdd",e.id,{root:!0}),n("layers/userAdd",e.id,{root:!0}),i("messages/success","User added",{root:!0}),e}).catch(function(t){throw i("sync/stop","usersAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","usersUpdate",{root:!0}),r.api.updateUser(o.id,{password:o.password,role:o.role,description:o.description}).then(function(t){i("sync/stop","usersUpdate",{root:!0});var e=d(t.data);return n("update",e),e.name===r.user.name&&n("user/set",e,{root:!0}),i("messages/success","User updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","usersUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","usersRemove",{root:!0}),r.api.deleteUser(o).then(function(t){return i("sync/stop","usersRemove",{root:!0}),n("remove",o),n("corpus/userRemove",o,{root:!0}),n("layers/userRemove",o,{root:!0}),i("messages/success","User removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","usersRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},list:function(t){var n=t.commit,i=t.dispatch,e=t.rootState;return i("sync/start","usersList",{root:!0}),e.api.getUsers().then(function(t){i("sync/stop","usersList",{root:!0});var e=t.data.map(function(t){return d(t)});return n("list",e),e}).catch(function(t){throw i("sync/stop","usersList",{root:!0}),i("messages/error",t.message,{root:!0}),t})}},getters:{permissions:function(t){return function(i){return t.list.reduce(function(t,e){var n;return Object.assign(t,((n={})[e.id]=i&&i[e.id]?i[e.id]:0,n))},{})}}},mutations:{reset:function(t){a.set(t,"list",[])},add:function(t,e){t.list.push(e)},update:function(t,e){var n=t.list.findIndex(function(t){return t.id===e.id});a.set(t.list,n,e)},remove:function(t,e){var n=t.list.findIndex(function(t){return t.id===e});a.delete(t.list,n)},list:function(t,e){a.set(t,"list",e)}}},groups:{namespaced:!0,state:{list:[]},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","groupsAdd",{root:!0}),r.api.createGroup(o.name,o.description).then(function(t){i("sync/stop","groupsAdd",{root:!0});var e=c(t.data);return n("add",e),n("corpus/groupAdd",e.id,{root:!0}),n("layers/groupAdd",e.id,{root:!0}),i("messages/success","Group added",{root:!0}),e}).catch(function(t){throw i("sync/stop","groupsAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","groupsRemove",{root:!0}),r.api.deleteGroup(o).then(function(t){return i("sync/stop","groupsRemove",{root:!0}),n("remove",o),n("corpus/groupRemove",o,{root:!0}),n("layers/groupRemove",o,{root:!0}),i("messages/success","Group removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","groupsRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","groupsUpdate",{root:!0}),r.api.updateGroup(o.id,{description:o.description}).then(function(t){i("sync/stop","groupsUpdate",{root:!0});var e=c(t.data);return n("update",e),i("messages/success","Group updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","groupsUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},list:function(t){var n=t.commit,i=t.dispatch,e=t.rootState;return i("sync/start","groupsList",{root:!0}),e.api.getGroups().then(function(t){i("sync/stop","groupsList",{root:!0});var e=t.data.map(function(t){return c(t)});return n("list",e),e}).catch(function(t){throw i("sync/stop","groupsList",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userAdd:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.userId,s=e.group;return i("sync/start","groupsUserAdd",{root:!0}),r.api.addUserToGroup(o,s.id).then(function(t){i("sync/stop","groupsUserAdd",{root:!0});var e=c(t.data);return n("update",e),i("messages/success","User added to group",{root:!0}),o===r.user.id&&(n("user/groupAdd",e.id,{root:!0}),i("corpus/listAll",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","groupsUserAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.userId,s=e.group;return i("sync/start","groupsUserRemove",{root:!0}),r.api.removeUserFromGroup(o,s.id).then(function(t){i("sync/stop","groupsUserRemove",{root:!0});var e=c(t.data);return n("update",e),i("messages/success","User removed from group",{root:!0}),o===r.user.id&&(n("user/groupRemove",e.id,{root:!0}),i("corpus/listAll",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","groupsUserRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})}},getters:{permissions:function(t){return function(i){return t.list.reduce(function(t,e){var n;return Object.assign(t,((n={})[e.id]=i&&i[e.id]?i[e.id]:0,n))},{})}}},mutations:{reset:function(t){a.set(t,"list",[])},add:function(t,e){t.list.push(e)},update:function(t,e){var n=t.list.findIndex(function(t){return t.id===e.id});a.set(t.list,n,e)},remove:function(t,e){var n=t.list.findIndex(function(t){return t.id===e});a.delete(t.list,n)},list:function(t,e){a.set(t,"list",e)}}},corpus:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.element;return i("sync/start","corpusAdd",{root:!0}),r.api.createCorpus(s.name,s.description,{}).then(function(t){i("sync/stop","corpusAdd",{root:!0});var e={name:t.data.name,id:t.data._id,permission:3,permissions:{users:o["users/permissions"]({}),groups:o["groups/permissions"]({})},description:t.data.description||{}};return e.permissions.users[r.user.id]=3,n("add",{corpu:e}),i("messages/success","Corpus added",{root:!0}),e}).catch(function(t){throw i("sync/stop","corpusAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","corpusRemove",{root:!0}),r.api.deleteCorpus(o).then(function(t){return i("sync/stop","corpusRemove",{root:!0}),n("remove",{id:o}),i("messages/success","Corpus removed",{root:!0}),i("setAll",{id:o}),o}).catch(function(t){throw i("sync/stop","corpusRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","corpusUpdate",{root:!0}),r.api.updateCorpus(o.id,{name:o.name,description:o.description}).then(function(t){i("sync/stop","corpusUpdate",{root:!0});var e=Object.assign({},o);return e.name=t.data.name,e.description=t.data.description||{},n("update",{corpu:e}),i("messages/success","Corpus updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","corpusUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.groupId,d=e.permission;return i("sync/start","corpusGroupPermissionSet",{root:!0}),o.api.setCorpusPermissionsForGroup(s,a,d).then(function(t){var e=t.data;return i("sync/stop","corpusGroupPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.groups&&e.groups[a]||0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),r["user/isInGroup"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusGroupPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.groupId;return i("sync/start","corpusGroupPermissionRemove",{root:!0}),o.api.removeCorpusPermissionsForGroup(s,a).then(function(t){var e=t.data;return i("sync/stop","corpusGroupPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),r["user/isInGroup"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusGroupPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.userId,d=e.permission;return i("sync/start","corpusUserPermissionSet",{root:!0}),o.api.setCorpusPermissionsForUser(s,a,d).then(function(t){var e=t.data;return i("sync/stop","corpusUserPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.users&&e.users[a]||0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),r["user/isCurrentUser"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusUserPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootGetters,o=t.rootState,s=e.id,a=e.userId;return i("sync/start","corpusUserPermissionRemove",{root:!0}),o.api.removeCorpusPermissionsForUser(s,a).then(function(t){var e=t.data;return i("sync/stop","corpusUserPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),r["user/isCurrentUser"](a)&&!r["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","corpusUserPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},listAll:function(t){var e=t.state,n=t.dispatch;Object.keys(e.lists).forEach(function(t){n("list",t)})},list:function(t,n){var i=t.commit,r=t.dispatch,o=t.rootGetters,e=t.rootState;return r("sync/start","corpusList-"+n,{root:!0}),e.api.getCorpora().then(function(t){r("sync/stop","corpusList-"+n,{root:!0});var e=t.data.map(function(t){return{name:t.name,id:t._id,description:t.description||{},permission:o["user/permission"](t.permissions||{}),permissions:{users:o["users/permissions"](t.permissions&&t.permissions.users||{}),groups:o["groups/permissions"](t.permissions&&t.permissions.groups||{})}}});return i("list",{corpus:e,uid:n}),r("set",{uid:n}),e}).catch(function(t){throw r("sync/stop","corpusList-"+n,{root:!0}),r("messages/error",t.message,{root:!0}),t})},setAll:function(t,e){var n=t.state,i=t.dispatch,r=e.id;Object.keys(n.actives).forEach(function(t){n.actives[t]===r&&i("set",{uid:t})})},set:function(t,e){var n=t.state,i=t.getters,r=t.dispatch,o=t.commit,s=(t.rootState,e.id),a=e.uid;o("set",{id:s||i.id(a),uid:a}),n.actives[a]&&(r("medias/list",{corpuId:n.actives[a],corpuUid:a},{root:!0}),r("layers/list",{corpuId:n.actives[a],corpuUid:a},{root:!0}))}},getters:{id:function(n){return function(e){return n.actives[e]&&n.lists[e].find(function(t){return t.id===n.actives[e]}).id||n.lists[e][0]&&n.lists[e][0].id||null}},permission:function(n){return function(e){var t=n.lists[e]&&n.lists[e].find(function(t){return t.id===n.actives[e]});return t?t.permission:0}}},mutations:{register:function(t,e){a.set(t.lists,e,[]),a.set(t.actives,e,null)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{})},add:function(n,t){var i=t.corpu;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].length;a.set(n.lists[t],e,i)})},update:function(n,t){var i=t.corpu;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===i.id});-1!==e&&a.set(n.lists[t],e,i)})},remove:function(n,t){var i=t.id;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===i});-1!==e&&a.delete(n.lists[t],e)})},groupAdd:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.set(t.permissions.groups,n,0)})})},groupRemove:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.delete(t.permissions.groups,n)})})},userAdd:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.set(t.permissions.users,n,0)})})},userRemove:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.delete(t.permissions.users,n)})})},permissionsUpdate:function(n,t){var i=t.id,r=t.typeId,o=t.permission,s=t.type;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===i});-1!==e&&a.set(n.lists[t][e].permissions[s],r,o)})},list:function(t,e){var n=e.corpus,i=e.uid;a.set(t.lists,i,n)},set:function(t,e){var n=e.id,i=e.uid;a.set(t.actives,i,n)}}},medias:{namespaced:!0,state:l,actions:{add:function(t,e){var i=t.state,r=t.commit,o=t.dispatch,n=t.rootState,s=t.rootGetters,a=e.element;return o("sync/start","mediasAdd",{root:!0}),n.api.createMedium(a.corpuId,a.name,a.url,a.description).then(function(t){o("sync/stop","mediasAdd",{root:!0});var n=u(t.data);return Object.keys(i.lists).forEach(function(e){s["corpus/id"](e)===a.corpuId&&(r("add",{media:n,corpuUid:e}),Object.keys(i.actives).forEach(function(t){i.actives[t].corpuUid===e&&o("set",{id:n.id,corpuUid:e,uid:t})}))}),o("messages/success","Medium added",{root:!0}),n}).catch(function(t){throw o("sync/stop","mediasAdd",{root:!0}),o("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=e.id;return r("sync/start","mediasRemove",{root:!0}),o.api.deleteMedium(s).then(function(t){return r("sync/stop","mediasRemove",{root:!0}),Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===s});-1!==e&&i("remove",{listIndex:e,corpuUid:t})}),r("unsetAll",{id:s}),r("messages/success","Medium removed",{root:!0}),s}).catch(function(t){throw r("sync/stop","mediasRemove",{root:!0}),r("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,a=e.element;return r("sync/start","mediasUpdate",{root:!0}),o.api.updateMedium(a.id,{name:a.name,description:a.description,url:a.url}).then(function(t){r("sync/stop","mediasUpdate",{root:!0});var e=Object.assign({},a);return e.name=t.data.name,e.url=t.data.url,e.description=t.data.description||{},Object.keys(n.lists).forEach(function(t){s["corpus/id"](t)===a.corpuId&&i("update",{media:e,corpuUid:t})}),r("messages/success","Medium updated",{root:!0}),e}).catch(function(t){throw r("sync/stop","mediasUpdate",{root:!0}),r("messages/error",t.message,{root:!0}),t})},list:function(t,e){var n=t.dispatch,i=t.commit,r=t.rootState,o=e.corpuId,s=e.corpuUid;return n("sync/start","mediasList-"+s,{root:!0}),r.api.getMedia({filter:{id_corpus:o}}).then(function(t){n("sync/stop","mediasList-"+s,{root:!0});var e=t.data.map(function(t){return u(t)});return i("list",{medias:e,corpuUid:s}),Object.keys(l.actives).forEach(function(t){l.actives[t].corpuUid===s&&n("set",{corpuUid:s,uid:t})}),e}).catch(function(t){throw n("sync/stop","mediasList-"+s,{root:!0}),n("messages/error",t.message,{root:!0}),t})},unsetAll:function(t,e){var n=t.state,i=t.dispatch,r=e.id;Object.keys(n.actives).forEach(function(t){n.actives[t].id===r&&i("set",{corpuUid:n.actives[t].corpuUid,uid:t})})},set:function(t,e){var n=t.state,i=t.getters,r=t.dispatch,o=t.commit,s=e.id,a=e.corpuUid,d=e.uid;n.properties[d]&&n.properties[d].isPlaying&&r("pause",{uid:d}),o("set",{id:s||i.id({corpuUid:a,uid:d}),uid:d}),r("annotations/mediaSet",{mediaId:n.actives[d].id,mediaUid:d},{root:!0})},play:function(t,e){var n=t.state,i=t.commit,r=e.uid,o=Date.now(),s=n.properties[r].timeCurrent;n.properties[r].interval=setInterval(function(){var t=Date.now()-o;a.set(n.properties[r],"timeCurrent",s+t)},0),i("play",{uid:r})},pause:function(t,e){var n=t.state,i=t.commit,r=e.uid;clearInterval(n.properties[r].interval),i("pause",{uid:r})},buffering:function(t,e){var n=t.state,i=(t.commit,e.uid);clearInterval(n.properties[i].interval)},stop:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=e.uid;clearInterval(n.properties[o].interval),i("pause",{uid:o}),r("seek",{ratio:0,serverRequest:!0,uid:o})},seek:function(t,e){var n=t.state,i=t.commit,r=(t.dispatch,e.ratio),o=e.serverRequest,s=e.uid;n.properties[s].isPlaying&&clearInterval(n.properties[s].interval),a.set(n.properties[s],"timeCurrent",r*n.properties[s].timeTotal),i("seek",{options:{seeking:!0,serverRequest:o},uid:s})}},getters:{id:function(i){return function(t){var e=t.corpuUid,n=t.uid;return i.actives[n]&&i.lists[e].find(function(t){return t.id===i.actives[n].id})&&i.actives[n].id||i.lists[e][0]&&i.lists[e][0].id||null}},properties:function(n,i){return function(t,e){return i.active(t,e)?n.properties[t]:{}}},filter:function(i){return function(t,e){var n=i.actives[t];return n&&i.lists[n.corpuUid]?e(i.lists[n.corpuUid].find(function(t){return t.id===n.id})):null}},active:function(n){return function(t){var e=n.actives[t];return e&&n.lists[e.corpuUid]?n.lists[e.corpuUid].find(function(t){return t.id===e.id}):null}}},mutations:{register:function(t,e){var n=e.uid,i=e.corpuUid;a.set(t.actives,n,{corpuUid:i,description:{}}),a.set(t.properties,n,null)},descriptionRegister:function(t,e){var n=e.uid,i=e.description;a.set(t.actives[n],"description",i)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{}),a.set(t,"properties",{})},add:function(t,e){var n=e.media,i=e.corpuUid,r=t.lists[i].length;a.set(t.lists[i],r,n)},update:function(t,e){var n=e.media,i=e.corpuUid,r=t.lists[i].findIndex(function(t){return t.id===n.id});a.set(t.lists[i],r,n)},remove:function(t,e){var n=e.listIndex,i=e.corpuUid;a.delete(t.lists[i],n)},list:function(t,e){var n=e.medias,i=e.corpuUid;a.set(t.lists,i,n)},set:function(t,e){var n=e.id,i=e.uid;a.set(t.actives[i],"id",n),a.set(t.properties,i,{timeTotal:0,timeCurrent:0,isPlaying:!1,isLoaded:!1,seek:{seeking:!1}})},loaded:function(t,e){var n=e.isLoaded,i=e.uid;a.set(t.properties[i],"isLoaded",n)},play:function(t,e){var n=e.uid;a.set(t.properties[n],"isPlaying",!0)},pause:function(t,e){var n=e.uid;a.set(t.properties[n],"isPlaying",!1)},timeTotal:function(t,e){var n=e.time,i=e.uid;a.set(t.properties[i],"timeTotal",n)},seek:function(t,e){var n=e.options,i=e.uid;a.set(t.properties[i],"seek",n)}}},layers:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,e){var i=t.state,r=t.commit,o=t.dispatch,s=t.rootState,a=t.rootGetters,d=e.element;return o("sync/start","layersAdd",{root:!0}),s.api.createLayer(d.corpuId,d.name,d.description,d.fragmentType,d.metadataType,d.annotations).then(function(t){o("sync/stop","layersAdd",{root:!0});var n={name:t.data.name,id:t.data._id,permission:3,permissions:{users:a["users/permissions"]({}),groups:a["groups/permissions"]({})},description:t.data.description||{},fragmentType:t.data.fragment_type||{},metadataType:t.data.data_type||{},annotations:t.data.annotations};return n.permissions.users[s.user.id]=3,Object.keys(i.lists).forEach(function(e){a["corpus/id"](e)===d.corpuId&&r("add",{layer:n,corpuUid:e}),Object.keys(i.actives).forEach(function(t){i.actives[t].corpuUid===e&&o("set",{uid:t,id:n.id})})}),o("messages/success","Layer added",{root:!0}),n}).catch(function(t){throw o("sync/stop","layersAdd",{root:!0}),o("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=e.id;return r("sync/start","layersRemove",{root:!0}),o.api.deleteLayer(s).then(function(t){return r("sync/stop","layersRemove",{root:!0}),Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===s});-1!==e&&i("remove",{listIndex:e,corpuUid:t})}),Object.keys(n.actives).forEach(function(t){-1!==n.actives[t].ids.findIndex(function(t){return t.id===s})&&r("unset",{id:s,uid:t})}),r("messages/success","Layer removed",{root:!0}),s}).catch(function(t){throw r("sync/stop","layersRemove",{root:!0}),r("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.state,i=t.commit,r=t.dispatch,o=t.rootState,s=t.rootGetters,a=e.element;return r("sync/start","layersUpdate",{root:!0}),o.api.updateLayer(a.id,{name:a.name,description:a.description,fragment_type:a.fragmentType,data_type:a.metadataType}).then(function(t){r("sync/stop","layersUpdate",{root:!0});var e=Object.assign({},a);return e.description=t.data.description||{},e.fragmentType=t.data.fragment_type||{},e.metadataType=t.data.data_type||{},Object.keys(n.lists).forEach(function(t){s["corpus/id"](t)===a.corpuId&&i("update",{layer:e,corpuUid:t})}),r("messages/success","Layer updated",{root:!0}),e}).catch(function(t){throw r("sync/stop","layersUpdate",{root:!0}),r("messages/error",t.message,{root:!0}),t})},groupPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.groupId,d=e.permission;return i("sync/start","layersGroupPermissionSet",{root:!0}),r.api.setLayerPermissionsForGroup(s,a,d).then(function(t){var e=t.data;return i("sync/stop","layersGroupPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.groups&&e.groups[a]||0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),o["user/isInGroup"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersGroupPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},groupPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.groupId;return i("sync/start","layersGroupPermissionRemove",{root:!0}),r.api.removeLayerPermissionsForGroup(s,a).then(function(t){var e=t.data;return i("sync/stop","layersGroupPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"groups"}),i("messages/success","Group permissions updated",{root:!0}),o["user/isInGroup"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersGroupPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionSet:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.userId,d=e.permission;return i("sync/start","layersUserPermissionSet",{root:!0}),r.api.setLayerPermissionsForUser(s,a,d).then(function(t){var e=t.data;return i("sync/stop","layersUserPermissionSet",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:e.users&&e.users[a]||0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),o["user/isCurrentUser"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersUserPermissionSet",{root:!0}),i("messages/error",t.message,{root:!0}),t})},userPermissionRemove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=t.rootGetters,s=e.id,a=e.userId;return i("sync/start","layersUserPermissionRemove",{root:!0}),r.api.removeLayerPermissionsForUser(s,a).then(function(t){var e=t.data;return i("sync/stop","layersUserPermissionRemove",{root:!0}),n("permissionsUpdate",{id:s,typeId:a,permission:0,type:"users"}),i("messages/success","User permissions updated",{root:!0}),o["user/isCurrentUser"](a)&&!o["user/isAdmin"](e)&&(i("listAll"),n("popup/close",null,{root:!0})),e}).catch(function(t){throw i("sync/stop","layersUserPermissionRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},listAll:function(t){var e=t.state,n=t.dispatch,i=t.rootState;Object.keys(e.lists).forEach(function(t){n("list",{corpuId:i.corpus.actives[t],corpuUid:t})})},list:function(t,e){var n=t.dispatch,i=t.commit,r=t.rootState,o=t.rootGetters,s=e.corpuId,a=e.corpuUid;return n("sync/start","layersList-"+a,{root:!0}),r.api.getLayers({filter:{id_corpus:s}}).then(function(t){n("sync/stop","layersList-"+a,{root:!0});var e=t.data.map(function(t){return{name:t.name,id:t._id,description:t.description||{},permission:o["user/permission"](t.permissions),permissions:{users:o["users/permissions"](t.permissions&&t.permissions.users||{}),groups:o["groups/permissions"](t.permissions&&t.permissions.groups||{})},fragmentType:t.fragment_type||{},metadataType:t.data_type||{},annotations:t.annotations||[]}});return i("list",{layers:e,corpuUid:a}),e}).catch(function(t){throw n("sync/stop","layersList-"+a,{root:!0}),n("messages/error",t.message,{root:!0}),t})},setAll:function(t,e){var n=t.state,i=t.dispatch,r=(t.commit,e.corpuUid);Object.keys(n.actives).forEach(function(e){n.lists[r].forEach(function(t){i("set",{id:t.id,corpuUid:r,uid:e})})})},set:function(t,e){var n=t.dispatch,i=t.commit,r=e.id,o=e.uid;i("set",{id:r,uid:o}),n("annotations/layerSet",{layersUid:o,layerId:r},{root:!0})},unset:function(t,e){var n=t.dispatch,i=t.commit,r=e.id,o=e.uid;i("unset",{id:r,uid:o}),n("annotations/layerUnset",{layersUid:o,layerId:r},{root:!0})}},getters:{activeIds:function(e){return function(t){return e.actives[t]&&e.actives[t].ids||[]}},actives:function(i){return function(t){var e=i.actives[t],n=i.lists[e.corpuUid];return e&&n?n.filter(function(t){return-1!==e.ids.indexOf(t.id)}):{}}},details:function(r){return function(t,e){var n=r.actives[t],i=r.lists[n.corpuUid];return n&&i?i.find(function(t){return t.id===e}):{}}}},mutations:{register:function(t,e){var n=e.uid,i=e.corpuUid;a.set(t.actives,n,{corpuUid:i,ids:[],fragmentType:{},metadataType:{}})},typesRegister:function(t,e){var n=e.uid,i=e.fragmentType,r=e.metadataType;i&&Object.assign(t.actives[n].fragmentType,i),r&&Object.assign(t.actives[n].metadataType,r)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{})},add:function(t,e){var n=e.layer,i=e.corpuUid,r=t.lists[i].length;a.set(t.lists[i],r,n)},remove:function(t,e){var n=e.listIndex,i=e.corpuUid;a.delete(t.lists[i],n)},update:function(t,e){var n=e.layer,i=e.corpuUid,r=t.lists[i].findIndex(function(t){return t.id===n.id});a.set(t.lists[i],r,n)},groupAdd:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.set(t.permissions.groups,n,0)})})},groupRemove:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.delete(t.permissions.groups,n)})})},userAdd:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.set(t.permissions.users,n,0)})})},userRemove:function(e,n){Object.keys(e.lists).forEach(function(t){e.lists[t].forEach(function(t){a.delete(t.permissions.users,n)})})},permissionsUpdate:function(n,t){var i=t.id,r=t.typeId,o=t.permission,s=t.type;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].findIndex(function(t){return t.id===i});-1!==e&&a.set(n.lists[t][e].permissions[s],r,o)})},list:function(t,e){var n=e.layers,i=e.corpuUid;a.set(t.lists,i,n)},set:function(t,e){var n=e.id,i=e.uid;a.set(t.actives[i].ids,t.actives[i].ids.length,n)},unset:function(t,e){var n=e.id,i=e.uid,r=t.actives[i].ids.findIndex(function(t){return t===n});-1!==r&&a.delete(t.actives[i].ids,r)}}},annotations:{namespaced:!0,state:{lists:{},actives:{}},actions:{add:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","annotationsAdd",{root:!0}),r.api.createAnnotation(o.layerId,o.mediaId||null,o.fragment,o.metadata).then(function(t){i("sync/stop","annotationsAdd",{root:!0});var e={id:t.data._id,fragment:t.data.fragment||{},metadata:t.data.data||{},layerId:t.data.id_layer,mediaId:t.data.id_medium||null};return n("add",{annotation:e,layerId:o.layerId}),i("messages/success","Annotation added",{root:!0}),e}).catch(function(t){throw i("sync/stop","annotationsAdd",{root:!0}),i("messages/error",t.message,{root:!0}),t})},remove:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.id;return i("sync/start","annotationsRemove",{root:!0}),r.api.deleteAnnotation(o).then(function(t){return i("sync/stop","annotationsRemove",{root:!0}),n("remove",{id:o}),i("messages/success","Annotation removed",{root:!0}),o}).catch(function(t){throw i("sync/stop","annotationsRemove",{root:!0}),i("messages/error",t.message,{root:!0}),t})},update:function(t,e){var n=t.commit,i=t.dispatch,r=t.rootState,o=e.element;return i("sync/start","annotationsUpdate",{root:!0}),r.api.updateAnnotation(o.id,{fragment:o.fragment,data:o.metadata}).then(function(t){i("sync/stop","annotationsUpdate",{root:!0});var e=Object.assign({},o);return e.fragment=t.data.fragment||{},e.metadata=t.data.data||{},n("update",{annotation:e,layerId:o.layerId}),i("messages/success","Annotation updated",{root:!0}),e}).catch(function(t){throw i("sync/stop","annotationsUpdate",{root:!0}),i("messages/error",t.message,{root:!0}),t})},layerSet:function(t,e){var n=t.state,i=t.dispatch,r=t.rootState,o=e.layersUid,s=e.layerId;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].mediaUid;n.lists[t].layersUid===o&&r.medias.actives[e]&&i("list",{uid:t,layerId:s,layersUid:o,mediaId:r.medias.actives[e].id})})},layerUnset:function(t,e){(0,t.commit)("reset",{layersUid:e.layersUid,layerId:e.layerId})},mediaSet:function(t,e){var i=t.state,r=t.dispatch,o=t.rootState,s=e.mediaUid,a=e.mediaId;Object.keys(i.lists).forEach(function(e){var n=i.lists[e];n.mediaUid===s&&o.layers.actives[n.layersUid]&&Object.keys(n.layers).forEach(function(t){r("list",{uid:e,layerId:t,layersUid:n.layersUid,mediaId:a})})})},list:function(t,e){t.state;var n=t.dispatch,i=t.commit,r=t.rootState,o=e.uid,s=e.layerId,a=e.layersUid,d=e.mediaId;return n("sync/start","annotationsList-"+o,{root:!0}),r.api.getAnnotations({filter:{id_layer:s,id_medium:d}}).then(function(t){n("sync/stop","annotationsList-"+o,{root:!0});var e=t.data.map(function(t){return{id:t._id,fragment:t.fragment||{},metadata:t.data||{},layerId:t.id_layer,mediaId:t.id_medium||null}});return i("list",{annotations:e,uid:o,layerId:s,layersUid:a}),e}).catch(function(t){throw n("sync/stop","annotationsList-"+a,{root:!0}),n("messages/error",t.message,{root:!0}),t})}},getters:{lists:function(e){return function(t){return e.lists[t]&&e.lists[t].layers||{}}},filter:function(o){return function(i,r){return o.lists[i]&&Object.keys(o.lists[i].layers).reduce(function(t,e){var n;return Object.assign(t,((n={})[e]=o.lists[i].layers[e].filter(function(t){return r(t)}),n))},{})}},filtered:function(e){return function(t){return e.lists[t]&&e.lists[t].filters.reduce(function(i,r){return Object.keys(i).reduce(function(t,e){var n;return Object.assign(t,((n={})[e]=i[e].filter(function(t){return r(t)}),n))},{})},e.lists[t].layers)}},active:function(i){return function(n){return Object.keys(i.lists[n].layers).reduce(function(t,e){return t||i.lists[n].layers[e].find(function(t){return t.id===i.actives[n]})},null)}}},mutations:{register:function(t,e){var n=e.uid,i=e.mediaUid,r=e.layersUid;a.set(t.actives,n,null),a.set(t.lists,n,{mediaUid:i,layersUid:r,layers:{},filters:[]})},filterRegister:function(t,e){var n=e.uid,i=e.filter;t.lists[n].filters.push(i)},resetAll:function(t){a.set(t,"lists",{}),a.set(t,"actives",{})},reset:function(n,t){var i=t.layersUid,r=t.layerId;Object.keys(n.lists).forEach(function(t){var e=n.lists[t];e.layersUid===i&&(a.delete(e,r),a.set(n.actives,t,null))})},add:function(n,t){var i=t.annotation,r=t.layerId;Object.keys(n.lists).forEach(function(t){var e=n.lists[t].layers[r];e&&a.set(e,e.length,i)})},update:function(i,t){var r=t.annotation,o=t.layerId;Object.keys(i.lists).forEach(function(t){var e=i.lists[t].layers[o];if(e){var n=e.findIndex(function(t){return t.id===r.id});a.set(e,n,r)}})},remove:function(r,t){var o=t.id;Object.keys(r.lists).forEach(function(i){Object.keys(r.lists[i].layers).forEach(function(t){var e=r.lists[i].layers[t],n=e.findIndex(function(t){return t.id===o});-1!==n&&(a.delete(e,n),r.actives[i]===o&&a.set(r.actives,i,null))})})},list:function(t,e){var n=e.annotations,i=e.uid,r=e.layerId;e.layersUid;a.set(t.lists[i].layers,r,n)},set:function(t,e){var n=e.id,i=e.uid;a.set(t.actives,i,n)},unset:function(t,e){e.id;var n=e.uid;a.set(t.actives,n,null)}}}},r={set:function(t){var e=t.dispatch;Promise.all([].concat(["users","groups"].map(function(t){return e(t+"/list",{},{root:!0}).then(function(t){return t}).catch(function(t){return t})}))).then(function(t){e("corpus/listAll",null,{root:!0})})},reset:function(t){var e=t.commit;e("user/reset",null,{root:!0}),e("users/reset",null,{root:!0}),e("groups/reset",null,{root:!0}),e("corpus/resetAll",null,{root:!0}),e("medias/resetAll",null,{root:!0}),e("layers/resetAll",null,{root:!0}),e("annotations/resetAll",null,{root:!0})}},p={register:function(t,e){var n=e.url,i=e.title,r=e.user;t.config={url:n,title:i,user:r},t.api=new o(n)}};a.use(e),a.filter("stringEnd",function(t){return t.substr(t.length-6)});var m=new e.Store({actions:r,mutations:p,modules:n}),g={name:"CamomileUtilsViewport",mounted:function(){window.addEventListener("resize",this.resize),this.resize()},methods:{resize:function(){return this.$store.dispatch("viewport/set")}}},f=function(){var t=this.$createElement;return(this._self._c||t)("div")};f._withStripped=!0;var h,v,b,_,y=(h=void 0!==f?{render:f,staticRenderFns:[]}:{},b=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(_=((v=void 0)===g?{}:g)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/viewport.vue",_.render||(_.render=h.render,_.staticRenderFns=h.staticRenderFns,_._compiled=!0,b&&(_.functional=!0)),_._scopeId=v,_),x={name:"CamomileUtilsDropdown",computed:{dropdown:function(){return this.$store.state.dropdown}},methods:{close:function(){this.$store.commit("dropdown/close")}}},k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"transition-top"}},[e.dropdown.visible?n("div",{staticClass:"absolute full bg-alpha",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[n("div",{staticClass:"container relative"},[n(e.dropdown.config.component,{tag:"component"})],1)]):e._e()])};k._withStripped=!0;var w,C,$,R,S=(w=void 0!==k?{render:k,staticRenderFns:[]}:{},$=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(R=((C=void 0)===x?{}:x)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/dropdown.vue",R.render||(R.render=w.render,R.staticRenderFns=w.staticRenderFns,R._compiled=!0,$&&(R.functional=!0)),R._scopeId=C,R),U={name:"CamomilePopup",computed:{config:function(){return this.$store.state.popup.config}},created:function(){this.config.closeBtn&&document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){this.config.closeBtn&&document.removeEventListener("keyup",this.keyup)},methods:{close:function(){this.$store.commit("popup/close")},closeDefault:function(){this.config.closeBtn&&this.close()},keyup:function(t){27===(t.which||t.keyCode)&&this.close()}}},I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"absolute full bg-alpha",on:{click:t.closeDefault}}),t._v(" "),n("div",{staticClass:"popup fixed shadow full bg-bg"},[n("div",{staticClass:"popup-header flex flex-start p"},[n("h2",{staticClass:"mb-0 mt-s"},[t._v(t._s(t.config.title))]),t._v(" "),t.config.closeBtn?n("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:t.close}},[n("i",{staticClass:"icon-24 icon-24-close"})]):t._e()]),t._v(" "),n("div",{staticClass:"popup-content px pt"},[n(t.config.component,{tag:"component",on:{"popup-close":t.close}})],1)])])};I._withStripped=!0;var E,F,j,L,A=(E=void 0!==I?{render:I,staticRenderFns:[]}:{},j=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(L=((F=void 0)===U?{}:U)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/index.vue",L.render||(L.render=E.render,L.staticRenderFns=E.staticRenderFns,L._compiled=!0,j&&(L.functional=!0)),L._scopeId=F,L),O={name:"CamomileUtilsMessages",computed:{messages:function(){return this.$store.state.messages.list}}},T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messages absolute center"},[n("transition-group",{attrs:{name:"transition-bottom",tag:"div"}},e._l(e.messages,function(t){return t.content?n("div",{key:t.id,staticClass:"px-m py-s mb color-bg b",class:"bg-"+t.type},[e._v(e._s(t.content)+"\n    ")]):e._e()}))],1)};T._withStripped=!0;var P,W,z,N,V=(P=void 0!==T?{render:T,staticRenderFns:[]}:{},z=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(N=((W=void 0)===O?{}:O)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/messages.vue",N.render||(N.render=P.render,N.staticRenderFns=P.staticRenderFns,N._compiled=!0,z&&(N.functional=!0)),N._scopeId=W,N),G={name:"CamomileHeaderTitle",computed:{title:function(){return this.$store.state.config.title}}},M=function(){var t=this,e=t.$createElement;return(t._self._c||e)("h1",{staticClass:"mb-0"},[t._v(t._s(t.title))])};M._withStripped=!0;var B,D,H,q,X=(B=void 0!==M?{render:M,staticRenderFns:[]}:{},H=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(q=((D=void 0)===G?{}:G)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/title.vue",q.render||(q.render=B.render,q.staticRenderFns=B.staticRenderFns,q._compiled=!0,H&&(q.functional=!0)),q._scopeId=D,q),J={name:"CamomileHeaderInfos",computed:{url:function(){return this.$store.state.config.url}}},Y=function(){var t=this,e=t.$createElement;return(t._self._c||e)("h6",{staticClass:"menubar-infos mb-0"},[t._v(t._s(t.url))])};Y._withStripped=!0;var K,Z,Q,tt,et=(K=void 0!==Y?{render:Y,staticRenderFns:[]}:{},Q=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(tt=((Z=void 0)===J?{}:J)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/infos.vue",tt.render||(tt.render=K.render,tt.staticRenderFns=K.staticRenderFns,tt._compiled=!0,Q&&(tt.functional=!0)),tt._scopeId=Z,tt),nt={name:"CamomilePopupEditJson",props:{name:{type:String,default:"default"},title:{type:String,default:"default"}},computed:{fields:{get:function(){return JSON.stringify(this.$store.state.popup.element[this.name],void 0,2)},set:function(t){this.jsonCheck(t)&&this.$store.commit("popup/fieldUpdate",{name:this.name,value:JSON.parse(t)})}}},mounted:function(){var t=this.$refs.field;t.style.height=t.scrollHeight+"px"},methods:{jsonCheck:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},resize:function(t){var e=t.target;e.style.height=e.scrollHeight+"px"}}},it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"pt-s"},[e._v(e._s(e.title))]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fields,expression:"fields"}],ref:"field",staticClass:"mb",domProps:{value:e.fields},on:{keyup:e.resize,input:function(t){t.target.composing||(e.fields=t.target.value)}}})])};it._withStripped=!0;var rt,ot,st,at,dt={name:"CamomilePopupEdit",components:{objectField:(rt=void 0!==it?{render:it,staticRenderFns:[]}:{},ot=void 0,st=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(at=(void 0===nt?{}:nt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/edit-json.vue",at.render||(at.render=rt.render,at.staticRenderFns=rt.staticRenderFns,at._compiled=!0,st&&(at.functional=!0)),at._scopeId=ot,at)},data:function(){return{roles:["admin","user"]}},computed:Object.assign({},t.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type},rolesPermission:function(t){return t.user.id!==t.popup.element.id}})),created:function(){document.addEventListener("keyup",this.keyup)},mounted:function(){"annotations"!==this.type&&this.$refs.name.focus()},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{save:function(){this.element.id?this.$store.dispatch(this.type+"/update",{element:this.element}):this.$store.dispatch(this.type+"/add",{element:this.element}),this.$store.commit("popup/close")},keyup:function(t){13===(t.which||t.keyCode)&&this.save()}}},ct=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",["annotations"!==n.type?e("div",{staticClass:"tablet-blobs"},[n._m(0),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.element.name,expression:"element.name"}],ref:"name",staticClass:"mb",attrs:{disabled:n.element.id&&("users"===n.type||"groups"===n.type),type:"text",placeholder:"Name"},domProps:{value:n.element.name},on:{input:function(t){t.target.composing||n.$set(n.element,"name",t.target.value)}}})])]):n._e(),n._v(" "),"users"===n.type?e("div",{staticClass:"tablet-blobs"},[n._m(1),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:n.element.role,expression:"element.role"}],staticClass:"mb",attrs:{disabled:!n.rolesPermission,type:"text"},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.$set(n.element,"role",t.target.multiple?e:e[0])}}},n._l(n.roles,function(t){return e("option",{key:t,domProps:{value:t}},[n._v("\n          "+n._s(t)+"\n        ")])}))])]):n._e(),n._v(" "),"users"===n.type?e("div",{staticClass:"tablet-blobs"},[n._m(2),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.element.password,expression:"element.password"}],staticClass:"mb",attrs:{type:"password",placeholder:"••••••••"},domProps:{value:n.element.password},on:{input:function(t){t.target.composing||n.$set(n.element,"password",t.target.value)}}})])]):n._e(),n._v(" "),"medias"===n.type?e("div",{staticClass:"tablet-blobs"},[n._m(3),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.element.url,expression:"element.url"}],staticClass:"mb",attrs:{type:"text",placeholder:"http://…"},domProps:{value:n.element.url},on:{input:function(t){t.target.composing||n.$set(n.element,"url",t.target.value)}}})])]):n._e(),n._v(" "),"annotations"===n.type?e("object-field",{attrs:{name:"fragment",title:"Fragment"}}):n._e(),n._v(" "),"annotations"===n.type?e("object-field",{attrs:{name:"metadata",title:"Meta-data"}}):n._e(),n._v(" "),"layers"===n.type?e("object-field",{attrs:{name:"fragmentType",title:"Fragment type"}}):n._e(),n._v(" "),"layers"===n.type?e("object-field",{attrs:{name:"metadataType",title:"Meta-data type"}}):n._e(),n._v(" "),"annotations"!==n.type?e("object-field",{attrs:{name:"description",title:"Description"}}):n._e(),n._v(" "),e("div",{staticClass:"tablet-blobs"},[e("div",{staticClass:"tablet-blob-1-4"}),n._v(" "),e("div",{staticClass:"tablet-blob-3-4"},[e("button",{staticClass:"btn-alt p-s full-x mb",attrs:{disabled:!n.element.name&&"annotations"!==n.type},on:{click:n.save,keyup:function(t){return"button"in t||!n._k(t.keyCode,"enter",13,t.key,"Enter")?n.save(t):null}}},[n._v("Save")])])])],1)};ct._withStripped=!0;var ut,lt,pt,mt,gt=(ut=void 0!==ct?{render:ct,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Role")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Password")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Url")])])}]}:{},pt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(mt=((lt=void 0)===dt?{}:dt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/edit.vue",mt.render||(mt.render=ut.render,mt.staticRenderFns=ut.staticRenderFns,mt._compiled=!0,pt&&(mt.functional=!0)),mt._scopeId=lt,mt),ft={name:"CamomileHeaderUserbuttonDropdown",data:function(){return{popupEditConfig:{type:"users",closeBtn:!0,title:"Edit user",component:gt}}},computed:{user:function(){return this.$store.state.user},isAdmin:function(){return this.$store.state.user.isAdmin}},methods:{close:function(){this.$store.commit("dropdown/close")},logout:function(){return this.$store.dispatch("user/logout")},popupOpen:function(t){var e=t.config,n=t.element;this.$store.commit("popup/open",{config:e,element:n}),this.close()}}},ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[e.isAdmin?n("div",[n("button",{staticClass:"btn px-m py-s full-x",on:{click:function(t){e.popupOpen({config:e.popupEditConfig,element:e.user})}}},[e._v("Settings…")])]):e._e(),e._v(" "),n("div",[n("button",{staticClass:"btn px-m py-s full-x mr home",on:{click:e.logout}},[e._v("Logout")])])])};ht._withStripped=!0;var vt,bt,_t,yt,xt=(vt=void 0!==ht?{render:ht,staticRenderFns:[]}:{},_t=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(yt=((bt=void 0)===ft?{}:ft)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/userbutton-dropdown.vue",yt.render||(yt.render=vt.render,yt.staticRenderFns=vt.staticRenderFns,yt._compiled=!0,_t&&(yt.functional=!0)),yt._scopeId=bt,yt),kt={name:"CamomileHeaderUserbutton",computed:Object.assign({},t.mapState({user:function(t){return t.user},visible:function(t){return t.dropdown.visible}})),methods:{dropdownToggle:function(){this.visible?this.$store.commit("dropdown/close"):this.$store.commit("dropdown/open",{component:xt})}}},wt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"btn-menubar px-m py-s full-x",class:{active:t.visible},on:{click:t.dropdownToggle}},[t._v(t._s(t.user.name))])};wt._withStripped=!0;var Ct,$t,Rt,St,Ut=(Ct=void 0!==wt?{render:wt,staticRenderFns:[]}:{},Rt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(St=(($t=void 0)===kt?{}:kt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/userbutton.vue",St.render||(St.render=Ct.render,St.staticRenderFns=Ct.staticRenderFns,St._compiled=!0,Rt&&(St.functional=!0)),St._scopeId=$t,St),It={name:"CamomileHeaderSyncbutton",computed:{active:function(){return this.$store.getters["sync/active"]}},methods:{sync:function(){this.$store.dispatch("sync/all")}}},Et=function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn-menubar px-m py-s full-x",on:{click:this.sync}},[e("i",{staticClass:"icon-24 icon-24-dot",class:{blink:this.active}})])};Et._withStripped=!0;var Ft,jt,Lt,At,Ot={name:"CamomileHeader",components:{cmlTitle:X,cmlInfos:et,cmlUserbutton:Ut,cmlSync:(Ft=void 0!==Et?{render:Et,staticRenderFns:[]}:{},jt=void 0,Lt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(At=(void 0===It?{}:It)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/sync.vue",At.render||(At.render=Ft.render,At.staticRenderFns=Ft.staticRenderFns,At._compiled=!0,Lt&&(At.functional=!0)),At._scopeId=jt,At)},computed:{isLogged:function(){return this.$store.state.user.isLogged}}},Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-4"},[n("cml-title")],1),t._v(" "),t.isLogged?n("div",{staticClass:"tablet-blob-1-2"},[n("div",{staticClass:"blobs"},[n("div",{staticClass:"blob"},[n("cml-sync",{staticClass:"mb-0"})],1),t._v(" "),n("div",{staticClass:"blob-auto"},[n("cml-infos")],1)])]):t._e(),t._v(" "),t.isLogged?n("div",{staticClass:"blob flex-right"},[n("cml-userbutton")],1):t._e()])};Tt._withStripped=!0;var Pt,Wt,zt,Nt,Vt=(Pt=void 0!==Tt?{render:Tt,staticRenderFns:[]}:{},zt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Nt=((Wt=void 0)===Ot?{}:Ot)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/header/index.vue",Nt.render||(Nt.render=Pt.render,Nt.staticRenderFns=Pt.staticRenderFns,Nt._compiled=!0,zt&&(Nt.functional=!0)),Nt._scopeId=Wt,Nt),Gt={name:"CamomileLoginPopup",computed:{config:function(){return this.$store.state.config}},created:function(){document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{login:function(t){return this.$store.dispatch("user/login",t)},keyup:function(t){13===(t.which||t.keyCode)&&this.login(this.config)}}},Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"tablet-blobs"},[e._m(0),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.user.name,expression:"config.user.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.config.user.name},on:{input:function(t){t.target.composing||e.$set(e.config.user,"name",t.target.value)}}})]),e._v(" "),e._m(1),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.user.password,expression:"config.user.password"}],staticClass:"mb",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.config.user.password},on:{input:function(t){t.target.composing||e.$set(e.config.user,"password",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"tablet-blob-1-4"}),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",on:{click:function(t){e.login(e.config)}}},[e._v("Login")])])])])};Mt._withStripped=!0;var Bt,Dt,Ht,qt,Xt=(Bt=void 0!==Mt?{render:Mt,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Password")])])}]}:{},Ht=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(qt=((Dt=void 0)===Gt?{}:Gt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/login.vue",qt.render||(qt.render=Bt.render,qt.staticRenderFns=Bt.staticRenderFns,qt._compiled=!0,Ht&&(qt.functional=!0)),qt._scopeId=Dt,qt),Jt={name:"CamomileLogin",created:function(){this.$store.commit("popup/open",{config:{title:"Login",closeBtn:!1,component:Xt},element:{}})}},Yt=function(){var t=this.$createElement;return(this._self._c||t)("div")};Yt._withStripped=!0;var Kt,Zt,Qt,te,ee={store:m,name:"Camomile",components:{viewport:y,cmlHeader:Vt,cmlLogin:(Kt=void 0!==Yt?{render:Yt,staticRenderFns:[]}:{},Zt=void 0,Qt=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(te=(void 0===Jt?{}:Jt)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/login.vue",te.render||(te.render=Kt.render,te.staticRenderFns=Kt.staticRenderFns,te._compiled=!0,Qt&&(te.functional=!0)),te._scopeId=Zt,te),cmlPopup:A,cmlMessages:V,cmlDropdown:S},props:{userName:{type:String,default:""},userPassword:{type:String,default:""},url:{type:String,default:"http://localhost:3000"},title:{type:String,default:"Camomile UI"}},computed:Object.assign({},t.mapState({isLogged:function(t){return t.user.isLogged},popup:function(t){return t.popup}})),created:function(){this.$store.commit("register",{url:this.url,title:this.title,user:{name:this.userName,password:this.userPassword}})}},ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page relative"},[n("header",{staticClass:"header bg-inverse color-bg shadow"},[n("div",{staticClass:"container"},[n("cml-header")],1)]),t._v(" "),n("main",{staticClass:"main"},[n("div",{staticClass:"container pt"},[t.isLogged?t._t("default"):n("cml-login")],2),t._v(" "),n("transition",{attrs:{name:"transition-top"}},[t.popup.visible?n("cml-popup"):t._e()],1),t._v(" "),n("cml-messages"),t._v(" "),n("cml-dropdown"),t._v(" "),n("viewport")],1)])};ne._withStripped=!0;var ie,re,oe,se,ae=(ie=void 0!==ne?{render:ne,staticRenderFns:[]}:{},oe=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(se=((re=void 0)===ee?{}:ee)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/app.vue",se.render||(se.render=ie.render,se.staticRenderFns=ie.staticRenderFns,se._compiled=!0,oe&&(se.functional=!0)),se._scopeId=re,se),de={name:"CamomilePopupRemove",computed:Object.assign({},t.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type}})),created:function(){document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{remove:function(){this.$store.dispatch(this.type+"/remove",{id:this.element.id}),this.$store.commit("popup/close")},keyup:function(t){13===(t.which||t.keyCode)&&this.remove()}}},ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["annotations"!==e.type?n("div",{staticClass:"tablet-blobs"},[e._m(0),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.name,expression:"element.name"}],staticClass:"mb",attrs:{disabled:e.element.id,type:"text",placeholder:"Name"},domProps:{value:e.element.name},on:{input:function(t){t.target.composing||e.$set(e.element,"name",t.target.value)}}})])]):e._e(),e._v(" "),"annotations"===e.type?n("div",{staticClass:"tablet-blobs"},[e._m(1),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.id,expression:"element.id"}],staticClass:"mb",attrs:{disabled:e.element.id,type:"text",placeholder:"Name"},domProps:{value:e.element.id},on:{input:function(t){t.target.composing||e.$set(e.element,"id",t.target.value)}}})])]):e._e(),e._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-4"}),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",on:{click:e.remove,keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.remove(t):null}}},[e._v("Remove")])])])])};ce._withStripped=!0;var ue,le,pe,me,ge=(ue=void 0!==ce?{render:ce,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Id")])])}]}:{},pe=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(me=((le=void 0)===de?{}:de)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/remove.vue",me.render||(me.render=ue.render,me.staticRenderFns=ue.staticRenderFns,me._compiled=!0,pe&&(me.functional=!0)),me._scopeId=le,me),fe={name:"CamomilePopupGroups",computed:{groups:function(){return this.$store.state.groups.list},user:function(){var e=this;return this.$store.state.users.list.find(function(t){return t.id===e.$store.state.popup.element.id})}},methods:{groupToggle:function(t){this.groupActive(t.id)?this.$store.dispatch("groups/userRemove",{userId:this.user.id,group:t}):this.$store.dispatch("groups/userAdd",{userId:this.user.id,group:t})},groupActive:function(e){return-1!==this.groups.find(function(t){return t.id===e}).userIds.indexOf(this.user.id)}}},he=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",[i("div",{staticClass:"tablet-blobs"},[n._m(0),n._v(" "),i("div",{staticClass:"tablet-blob-3-4"},[i("input",{directives:[{name:"model",rawName:"v-model",value:n.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Name",disabled:""},domProps:{value:n.user.name},on:{input:function(t){t.target.composing||n.$set(n.user,"name",t.target.value)}}})])]),n._v(" "),i("div",{staticClass:"tablet-blobs"},[i("div",{staticClass:"tablet-blob-1"},[i("h3",{staticClass:"mb-s"},[n._v("Groups")]),n._v(" "),i("ul",{staticClass:"list-inline clearfix"},n._l(n.groups,function(e){return i("li",{key:e.id,staticClass:"tag",class:{active:n.groupActive(e.id)}},[i("button",{staticClass:"btn px-m py-xs h5 pill",on:{click:function(t){n.groupToggle(e)}}},[n._v(n._s(e.name))])])}))])])])};he._withStripped=!0;var ve,be,_e,ye,xe=(ve=void 0!==he?{render:he,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])}]}:{},_e=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ye=((be=void 0)===fe?{}:fe)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/groups.vue",ye.render||(ye.render=ve.render,ye.staticRenderFns=ve.staticRenderFns,ye._compiled=!0,_e&&(ye.functional=!0)),ye._scopeId=be,ye),ke={name:"CamomileUsers",data:function(){return{popupEditConfig:{type:"users",closeBtn:!0,title:"Edit user",component:gt},popupAddConfig:{type:"users",closeBtn:!0,title:"Add user",component:gt},popupGroupsConfig:{closeBtn:!0,title:"User groups",component:xe},popupRemoveConfig:{type:"users",closeBtn:!0,title:"Remove user",component:ge}}},computed:Object.assign({},t.mapState({isAdmin:function(t){return t.user.isAdmin},users:function(t){return t.users.list},userId:function(t){return t.user.id}})),methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})}}},we=function(){var n=this,t=n.$createElement,i=n._self._c||t;return n.isAdmin?i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[n._v("Users")]),n._v(" "),i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){n.popupOpen({config:n.popupAddConfig,element:{description:{},role:"user"}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})])]),n._v(" "),i("div",[i("table",{staticClass:"table mb-0"},[n._m(0),n._v(" "),n._l(n.users,function(e){return i("tr",{key:e.id},[i("td",[n._v(n._s(e.name))]),n._v(" "),i("td",[n._v(n._s(e.role))]),n._v(" "),i("td",{staticClass:"text-right"},[i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupGroupsConfig,element:e})}}},[n._v("Groups")]),n._v(" "),i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupEditConfig,element:e})}}},[n._v("Edit")]),n._v(" "),e.id!==n.userId?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupRemoveConfig,element:e})}}},[n._v("Remove")]):n._e()])])})],2)])]):n._e()};we._withStripped=!0;var Ce,$e,Re,Se,Ue=(Ce=void 0!==we?{render:we,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Name")]),e("th",[this._v("Role")]),e("th")])}]}:{},Re=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Se=(($e=void 0)===ke?{}:ke)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/admin/users.vue",Se.render||(Se.render=Ce.render,Se.staticRenderFns=Ce.staticRenderFns,Se._compiled=!0,Re&&(Se.functional=!0)),Se._scopeId=$e,Se),Ie={name:"CamomilePopupUsers",computed:{users:function(){return this.$store.state.users.list},group:function(){var e=this;return this.$store.state.groups.list.find(function(t){return t.id===e.$store.state.popup.element.id})}},methods:{userToggle:function(t){this.userActive(t)?this.$store.dispatch("groups/userRemove",{userId:t,group:this.group}):this.$store.dispatch("groups/userAdd",{userId:t,group:this.group})},userActive:function(t){return-1<this.group.userIds.indexOf(t)}}},Ee=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",[i("div",{staticClass:"tablet-blobs"},[n._m(0),n._v(" "),i("div",{staticClass:"tablet-blob-3-4"},[i("input",{directives:[{name:"model",rawName:"v-model",value:n.group.name,expression:"group.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name",disabled:""},domProps:{value:n.group.name},on:{input:function(t){t.target.composing||n.$set(n.group,"name",t.target.value)}}})])]),n._v(" "),i("div",{staticClass:"tablet-blobs"},[i("div",{staticClass:"tablet-blob-1"},[i("h3",{staticClass:"pt-s mb-s"},[n._v("Users")]),n._v(" "),i("ul",{staticClass:"list-inline"},n._l(n.users,function(e){return i("li",{key:e.id,staticClass:"tag",class:{active:n.userActive(e.id)}},[i("button",{staticClass:"btn px-m py-xs h5 pill",on:{click:function(t){n.userToggle(e.id)}}},[n._v(n._s(e.name))])])}))])])])};Ee._withStripped=!0;var Fe,je,Le,Ae,Oe=(Fe=void 0!==Ee?{render:Ee,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])}]}:{},Le=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Ae=((je=void 0)===Ie?{}:Ie)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/users.vue",Ae.render||(Ae.render=Fe.render,Ae.staticRenderFns=Fe.staticRenderFns,Ae._compiled=!0,Le&&(Ae.functional=!0)),Ae._scopeId=je,Ae),Te={name:"CamomileGroups",data:function(){return{popupRemoveConfig:{type:"groups",closeBtn:!0,title:"Remove group",component:ge},popupEditConfig:{type:"groups",closeBtn:!0,title:"Edit group",component:gt},popupAddConfig:{type:"groups",closeBtn:!0,title:"Add group",component:gt},popupUsersConfig:{closeBtn:!0,title:"Group users",component:Oe}}},computed:Object.assign({},t.mapState({isAdmin:function(t){return t.user.isAdmin},groups:function(t){return t.groups.list},isRoot:function(t){return t.user.isRoot}})),methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},refresh:function(){return this.$store.dispatch("groups/list")}}},Pe=function(){var n=this,t=n.$createElement,i=n._self._c||t;return n.isAdmin?i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[n._v("Groups")]),n._v(" "),i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){n.popupOpen({config:n.popupAddConfig,element:{description:{}}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})])]),n._v(" "),i("div",[i("table",{staticClass:"table mb-0"},[n._m(0),n._v(" "),n._l(n.groups,function(e){return i("tr",{key:e.id},[i("td",[n._v(n._s(e.name))]),n._v(" "),i("td",[n._v(n._s(e.userIds.length))]),n._v(" "),i("td",{staticClass:"text-right"},[i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupUsersConfig,element:e})}}},[n._v("Users")]),n._v(" "),i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupEditConfig,element:e})}}},[n._v("Edit")]),n._v(" "),n.isRoot?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupRemoveConfig,element:e})}}},[n._v("Remove")]):n._e()])])})],2)])]):n._e()};Pe._withStripped=!0;var We,ze,Ne,Ve,Ge=(We=void 0!==Pe?{render:Pe,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Name")]),e("th",[this._v("Users")]),e("th")])}]}:{},Ne=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Ve=((ze=void 0)===Te?{}:Te)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/admin/groups.vue",Ve.render||(Ve.render=We.render,Ve.staticRenderFns=We.staticRenderFns,Ve._compiled=!0,Ne&&(Ve.functional=!0)),Ve._scopeId=ze,Ve),Me={name:"CamomileCorpus",props:{uid:{type:String,default:"default"}},created:function(){this.$store.commit("corpus/register",this.uid)}},Be=function(){var t=this.$createElement;return(this._self._c||t)("span")};Be._withStripped=!0;var De,He,qe,Xe,Je=(De=void 0!==Be?{render:Be,staticRenderFns:[]}:{},qe=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Xe=((He=void 0)===Me?{}:Me)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/corpus/index.vue",Xe.render||(Xe.render=De.render,Xe.staticRenderFns=De.staticRenderFns,Xe._compiled=!0,qe&&(Xe.functional=!0)),Xe._scopeId=He,Xe),Ye={name:"CamomilePopupPermissionsEdit",props:{element:{type:Object,default:function(){return{}}},type:{type:String,default:"default"}},computed:{id:function(){return this.$store.state.popup.element.id},uid:function(){return this.$store.state.popup.config.uid},permission:function(){var e=this;return this.$store.state[this.type+"s"].lists[this.uid].find(function(t){return t.id===e.id}).permissions[this.element.type+"s"][this.element.id]}},methods:{toggle:function(t){var e,n;this.isActive(t)?this.$store.dispatch(this.type+"s/"+this.element.type+"PermissionRemove",((e={id:this.id})[this.element.type+"Id"]=this.element.id,e)):this.$store.dispatch(this.type+"s/"+this.element.type+"PermissionSet",((n={id:this.id})[this.element.type+"Id"]=this.element.id,n.permission=t,n))},isActive:function(t){return this.permission===t}}},Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"tag",class:{active:e.isActive(1)}},[n("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(t){e.toggle(1)}}},[e._v("R")])]),e._v(" "),n("li",{staticClass:"tag",class:{active:e.isActive(2)}},[n("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(t){e.toggle(2)}}},[e._v("W")])]),e._v(" "),n("li",{staticClass:"tag",class:{active:e.isActive(3)}},[n("button",{staticClass:"btn px-s py-xs my--xs h5 mono pill",on:{click:function(t){e.toggle(3)}}},[e._v("A")])])])};Ke._withStripped=!0;var Ze,Qe,tn,en,nn={name:"CamomilePermissions",components:{permissionsEdit:(Ze=void 0!==Ke?{render:Ke,staticRenderFns:[]}:{},Qe=void 0,tn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(en=(void 0===Ye?{}:Ye)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/permissions-edit.vue",en.render||(en.render=Ze.render,en.staticRenderFns=Ze.staticRenderFns,en._compiled=!0,tn&&(en.functional=!0)),en._scopeId=Qe,en)},computed:Object.assign({},t.mapState({resource:function(t){return t.popup.element},users:function(t){return t.users.list},groups:function(t){return t.groups.list},type:function(t){return t.popup.config.type}}))},rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"tablet-blobs"},[e._m(0),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.resource.name,expression:"resource.name"}],staticClass:"mb",attrs:{type:"text",placeholder:"Name",disabled:""},domProps:{value:e.resource.name},on:{input:function(t){t.target.composing||e.$set(e.resource,"name",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"tablet-blob-1-2"},[n("h3",{staticClass:"pt-s"},[e._v("Users")]),e._v(" "),n("ul",{staticClass:"list-sans"},e._l(e.users,function(t){return n("li",{key:t.id},[n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-2 mb-s"},[e._v("\n              "+e._s(t.name)+"\n            ")]),e._v(" "),n("div",{staticClass:"tablet-blob-1-2 mb-s"},[n("permissions-edit",{attrs:{type:e.type.slice(0,-1),element:{id:t.id,type:"user"}}})],1)])])}))]),e._v(" "),n("div",{staticClass:"tablet-blob-1-2"},[n("h3",{staticClass:"pt-s"},[e._v("Groups")]),e._v(" "),n("ul",{staticClass:"list-sans"},e._l(e.groups,function(t){return n("li",{key:t.id},[n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-2 mb-s"},[e._v("\n              "+e._s(t.name)+"\n            ")]),e._v(" "),n("div",{staticClass:"tablet-blob-1-2 mb-s"},[n("permissions-edit",{attrs:{type:e.type.slice(0,-1),element:{id:t.id,type:"group"}}})],1)])])}))])])])};rn._withStripped=!0;var on,sn,an,dn,cn=(on=void 0!==rn?{render:rn,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Name")])])}]}:{},an=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(dn=((sn=void 0)===nn?{}:nn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/permissions.vue",dn.render||(dn.render=on.render,dn.staticRenderFns=on.staticRenderFns,dn._compiled=!0,an&&(dn.functional=!0)),dn._scopeId=sn,dn),un={name:"CamomileCorpusList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"corpus",closeBtn:!0,title:"Edit corpus",component:gt},popupAddConfig:{type:"corpus",closeBtn:!0,title:"Add corpus",component:gt},popupRemoveConfig:{type:"corpus",closeBtn:!0,title:"Remove corpus",component:ge},popupPermissionsConfig:{type:"corpus",closeBtn:!0,title:"Corpus permissions",component:cn,uid:this.uid}}},computed:{corpus:function(){return this.$store.state.corpus.lists[this.uid]},corpuId:function(){return this.$store.state.corpus.actives[this.uid]},isAdmin:function(){return this.$store.state.user.isAdmin}},methods:{popupOpen:function(t){var e=t.config,n=t.element;this.$store.commit("popup/open",{config:e,element:n})},set:function(t){this.$store.dispatch("corpus/set",{id:t.target.value,uid:this.uid})}}},ln=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[n._v("Corpora")]),n._v(" "),n.isAdmin?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){n.popupOpen({config:n.popupAddConfig,element:{id:null,description:{}}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):n._e()]),n._v(" "),n.corpus&&0<n.corpus.length?i("div",[i("table",{staticClass:"table mb-0"},[n._m(0),n._v(" "),n._l(n.corpus,function(e){return i("tr",{key:e.id},[i("td",[i("input",{attrs:{type:"radio"},domProps:{value:e.id,checked:e.id===n.corpuId},on:{change:n.set}})]),n._v(" "),i("td",[n._v(n._s(e.name))]),n._v(" "),i("td",{staticClass:"text-right"},[3===e.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupPermissionsConfig,element:e})}}},[n._v("Permissions")]):n._e(),n._v(" "),3===e.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupEditConfig,element:e})}}},[n._v("Edit")]):n._e(),n._v(" "),n.isAdmin&&3===e.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupRemoveConfig,element:e})}}},[n._v("Remove")]):n._e()])])})],2)]):n._e()])};ln._withStripped=!0;var pn,mn,gn,fn,hn=(pn=void 0!==ln?{render:ln,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}]}:{},gn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(fn=((mn=void 0)===un?{}:un)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/corpus/list.vue",fn.render||(fn.render=pn.render,fn.staticRenderFns=pn.staticRenderFns,fn._compiled=!0,gn&&(fn.functional=!0)),fn._scopeId=mn,fn),vn={name:"CamomileCorpusSelect",props:{uid:{type:String,default:"default"}},computed:{corpus:function(){return this.$store.state.corpus.lists[this.uid]},corpuId:function(){return this.$store.state.corpus.actives[this.uid]}},methods:{set:function(t){this.$store.dispatch("corpus/set",{id:t.target.value,uid:this.uid})}}},bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[e._v("Corpora")]),e._v(" "),e.corpus&&0<e.corpus.length?n("select",{on:{change:e.set}},e._l(e.corpus,function(t){return n("option",{key:t.id,domProps:{value:t.id,selected:t.id===e.corpuId}},[e._v("\n      "+e._s(t.name)+"\n    ")])})):e._e()])};bn._withStripped=!0;var _n,yn,xn,kn,wn=(_n=void 0!==bn?{render:bn,staticRenderFns:[]}:{},xn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(kn=((yn=void 0)===vn?{}:vn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/corpus/select.vue",kn.render||(kn.render=_n.render,kn.staticRenderFns=_n.staticRenderFns,kn._compiled=!0,xn&&(kn.functional=!0)),kn._scopeId=yn,kn),Cn={name:"CamomileMedias",props:{uid:{type:String,default:"default"},corpusUid:{type:String,default:"default"}},created:function(){this.$store.commit("medias/register",{uid:this.uid,corpuUid:this.corpusUid})}},$n=function(){var t=this.$createElement;return(this._self._c||t)("span")};$n._withStripped=!0;var Rn,Sn,Un,In,En=(Rn=void 0!==$n?{render:$n,staticRenderFns:[]}:{},Un=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(In=((Sn=void 0)===Cn?{}:Cn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/index.vue",In.render||(In.render=Rn.render,In.staticRenderFns=Rn.staticRenderFns,In._compiled=!0,Un&&(In.functional=!0)),In._scopeId=Sn,In),Fn={name:"CamomileMediasList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"medias",closeBtn:!0,title:"Edit medium",component:gt},popupAddConfig:{type:"medias",closeBtn:!0,title:"Add medium",component:gt},popupRemoveConfig:{type:"medias",closeBtn:!0,title:"Remove medium",component:ge}}},computed:{corpuUid:function(){return this.$store.state.medias.actives[this.uid].corpuUid},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},mediaId:function(){return this.$store.state.medias.actives[this.uid].id},medias:function(){return this.$store.state.medias.lists[this.corpuUid]},mediaActive:function(){return this.$store.state.medias.actives[this.uid]},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},mediaNew:function(){return{id:null,corpuId:this.corpuId,description:this.mediaActive.description}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t){this.$store.dispatch("medias/set",{id:t.target.value,corpuUid:this.corpuUid,uid:this.uid})}}},jn=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[n._v("Media")]),n._v(" "),3===n.corpuPermission?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){n.popupOpen({config:n.popupAddConfig,element:n.mediaNew})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):n._e()]),n._v(" "),n.medias&&0<n.medias.length?i("div",[i("table",{staticClass:"table mb-0"},[n._m(0),n._v(" "),n._l(n.medias,function(e){return i("tr",{key:e.id},[i("td",[i("input",{attrs:{type:"radio"},domProps:{value:e.id,checked:e.id===n.mediaId},on:{change:n.set}})]),n._v(" "),i("td",[n._v(n._s(e.name))]),n._v(" "),i("td",{staticClass:"text-right"},[3===n.corpuPermission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupEditConfig,element:e})}}},[n._v("Edit")]):n._e(),n._v(" "),3===n.corpuPermission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupRemoveConfig,element:e})}}},[n._v("Remove")]):n._e()])])})],2)]):n._e()])};jn._withStripped=!0;var Ln,An,On,Tn,Pn=(Ln=void 0!==jn?{render:jn,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}]}:{},On=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Tn=((An=void 0)===Fn?{}:Fn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/list.vue",Tn.render||(Tn.render=Ln.render,Tn.staticRenderFns=Ln.staticRenderFns,Tn._compiled=!0,On&&(Tn.functional=!0)),Tn._scopeId=An,Tn),Wn={name:"CamomileMediasSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.medias.actives[this.uid].corpuUid},mediaId:function(){return this.$store.state.medias.actives[this.uid].id},medias:function(){return this.$store.state.medias.lists[this.corpuUid]}},methods:{set:function(t){this.$store.dispatch("medias/set",{id:t.target.value,corpuUid:this.corpuUid,uid:this.uid})}}},zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[e._v("Media")]),e._v(" "),e.medias&&0<e.medias.length?n("select",{on:{change:e.set}},e._l(e.medias,function(t){return n("option",{key:t.id,domProps:{value:t.id,selected:t.id===e.mediaId}},[e._v("\n      "+e._s(t.name)+"\n    ")])})):e._e()])};zn._withStripped=!0;var Nn,Vn,Gn,Mn,Bn=(Nn=void 0!==zn?{render:zn,staticRenderFns:[]}:{},Gn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Mn=((Vn=void 0)===Wn?{}:Wn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/select.vue",Mn.render||(Mn.render=Nn.render,Mn.staticRenderFns=Nn.staticRenderFns,Mn._compiled=!0,Gn&&(Mn.functional=!0)),Mn._scopeId=Vn,Mn),Dn={name:"CamomileUtilsSpinner"},Hn=function(){var t=this.$createElement;this._self._c;return this._m(0)};Hn._withStripped=!0;var qn,Xn,Jn,Yn,Kn=(qn=void 0!==Hn?{render:Hn,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bounce1"}),this._v(" "),e("div",{staticClass:"bounce2"}),this._v(" "),e("div",{staticClass:"bounce3"})])}]}:{},Jn=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Yn=((Xn=void 0)===Dn?{}:Dn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/utils/spinner.vue",Yn.render||(Yn.render=qn.render,Yn.staticRenderFns=qn.staticRenderFns,Yn._compiled=!0,Jn&&(Yn.functional=!0)),Yn._scopeId=Xn,Yn),Zn={name:"CamomileMediaYoutube",components:{spinner:Kn},props:{uid:{type:String,default:"default"}},data:function(){return{player:null,videoNew:!1,description:{type:"youtube"}}},computed:{media:function(){return this.$store.getters["medias/filter"](this.uid,this.filter)},properties:function(){return this.$store.getters["medias/properties"](this.uid,this.filter)},isPlaying:function(){return this.properties.isPlaying||!1},isLoaded:function(){return this.properties.isLoaded||!1},seek:function(){return this.properties.seek||{}},timeCurrent:function(){return this.properties.timeCurrent||0},viewportWidth:function(){return this.$store.state.viewport.width||0}},watch:{isPlaying:function(t){t?this.player.playVideo():this.player.pauseVideo()},seek:function(t){t.seeking&&this.videoSeek(t.serverRequest)},viewportWidth:function(){if(this.media){var t=this.$refs.container.offsetWidth,e=9*t/16;this.player.setSize(t,e)}},media:function(t,e){t&&t.url&&e&&e.url&&t.url!==e.url&&this.videoLoad(t.url)}},created:function(){this.$store.commit("medias/descriptionRegister",{uid:this.uid,description:this.description})},mounted:function(){this.media&&this.media.url&&this.playerLoad(this.media.url)},beforeDestroy:function(){null!==this.player&&this.player.destroy&&this.player.destroy(),this.player=null},methods:{filter:function(t){return t&&t.description&&t.description.type&&"youtube"===t.description.type&&t},videoLoad:function(t){if(this.player){var e=this.parseYouTubeId(t);this.player.loadVideoById(e)}else this.playerLoad(this.media.url)},playerLoad:function(t){var e=this,n=this.parseYouTubeId(t),i=this.$refs.container.offsetWidth,r=9*i/16,o={onReady:function(t){e.$store.commit("medias/loaded",{isLoaded:!0,uid:e.uid}),e.$store.commit("medias/timeTotal",{time:1e3*e.player.getDuration(),uid:e.uid})},onStateChange:function(t){-1===t.data||(1===t.data?e.videoNew?(e.videoNew=!1,e.$store.commit("medias/loaded",{isLoaded:!0,uid:e.uid}),e.$store.commit("medias/timeTotal",{time:1e3*e.player.getDuration(),uid:e.uid}),e.player.pauseVideo()):e.$store.dispatch("medias/play",{uid:e.uid}):2===t.data?e.$store.dispatch("medias/pause",{uid:e.uid}):3===t.data?e.$store.dispatch("medias/buffering",{uid:e.uid}):0===t.data?e.$store.dispatch("medias/stop",{uid:e.uid}):5===t.data&&(e.$store.commit("medias/loaded",{isLoaded:!0,uid:e.uid}),e.$store.commit("medias/timeTotal",{time:1e3*e.player.getDuration(),uid:e.uid})))},onApiChange:function(t){e.isLoaded||(e.videoNew=!0)}},s={autoplay:0,controls:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,enablejsapi:1,disablekb:1},a=document.createElement("script"),d=document.getElementsByTagName("script"),c=d[d.length-1];a.src="https://www.youtube.com/iframe_api",c.parentNode.insertBefore(a,c.nextSibling),window.onYouTubeIframeAPIReady=function(){e.player=new YT.Player("player",{width:i,height:r,videoId:n,playerVars:s,events:o})}},videoSeek:function(t){this.player.seekTo(this.timeCurrent/1e3,t),this.$store.commit("medias/seek",{options:{seeking:!1},uid:this.uid})},parseYouTubeId:function(t){return t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t}}},Qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.media?n("div",{ref:"container",staticClass:"mb"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}]},[n("div",{attrs:{id:"player"}})]),t._v(" "),t.isLoaded?t._e():n("spinner")],1):t._e()};Qn._withStripped=!0;var ti,ei,ni,ii,ri=(ti=void 0!==Qn?{render:Qn,staticRenderFns:[]}:{},ni=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ii=((ei=void 0)===Zn?{}:Zn)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/youtube.vue",ii.render||(ii.render=ti.render,ii.staticRenderFns=ti.staticRenderFns,ii._compiled=!0,ni&&(ii.functional=!0)),ii._scopeId=ei,ii),oi={name:"CamomileMediaVideo",components:{spinner:Kn},props:{uid:{type:String,default:"default"}},data:function(){return{mousedown:!1,videoLoaded:!1,timeTotal:0,description:{type:"video"}}},computed:{media:function(){return this.$store.getters["medias/filter"](this.uid,this.filter)},properties:function(){return this.$store.getters["medias/properties"](this.uid,this.filter)},isPlaying:function(){return this.properties.isPlaying||!1},isLoaded:function(){return this.properties.isLoaded||!1},seek:function(){return this.properties.seek||{}},timeCurrent:function(){return this.properties.timeCurrent||0},viewportWidth:function(){return this.$store.state.viewport.width||0}},watch:{isPlaying:function(t){t?this.$refs.video.play():this.$refs.video.pause()},seek:function(t){t.seeking&&this.videoSeek()},viewportWidth:function(){this.$refs.container.offsetWidth},media:function(t,e){t&&t.url&&e&&e.url&&t.url!==e.url&&this.videoLoad()}},created:function(){this.$store.commit("medias/descriptionRegister",{uid:this.uid,description:this.description})},methods:{filter:function(t){return t&&t.description&&t.description.type&&"video"===t.description.type&&t},videoEnded:function(){this.$store.dispatch("medias/stop",{uid:this.uid})},videoToggle:function(){this.$refs.video.paused?this.$refs.video.play():this.$refs.video.pause()},buttonToggle:function(){this.$refs.video.paused?this.$store.dispatch("medias/pause",{uid:this.uid}):this.$store.dispatch("medias/play",{uid:this.uid})},videoTimeupdate:function(){if(this.$refs.video)this.$refs.video.currentTime,this.$refs.video.duration},videoSeek:function(t){this.$refs.video.currentTime=this.timeCurrent/1e3},videoLoad:function(){this.$store.commit("medias/loaded",{isLoaded:!0,uid:this.uid}),this.$store.commit("medias/timeTotal",{time:1e3*this.$refs.video.duration,uid:this.uid}),this.$refs.video.volume=0}}},si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.media?n("div",{ref:"container",staticClass:"mb"},[n("video",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],ref:"video",staticClass:"object-fit",attrs:{id:"bgvid"},on:{ended:t.videoEnded,click:t.videoToggle,play:t.buttonToggle,pause:t.buttonToggle,timeupdate:t.videoTimeupdate,canplay:t.videoLoad}},[n("source",{attrs:{src:t.media.url,type:"video/mp4"}})]),t._v(" "),t.isLoaded?t._e():n("spinner")],1):t._e()};si._withStripped=!0;var ai,di,ci,ui,li=(ai=void 0!==si?{render:si,staticRenderFns:[]}:{},ci=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(ui=((di=void 0)===oi?{}:oi)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/video.vue",ui.render||(ui.render=ai.render,ui.staticRenderFns=ai.staticRenderFns,ui._compiled=!0,ci&&(ui.functional=!0)),ui._scopeId=di,ui),pi={props:{mediaUid:{type:String,default:"default"}},data:function(){return{mousedown:!1}},computed:{properties:function(){return this.$store.state.medias.properties[this.mediaUid]||{}},timeCurrent:function(){return this.properties.timeCurrent||0},timeTotal:function(){return this.properties.timeTotal||0},playButton:function(){return this.properties.isPlaying?"❚ ❚":"►"},isLoaded:function(){return this.properties.isLoaded||!1},progressBarWidth:function(){return this.timeTotal?this.timeCurrent/this.timeTotal*100+"%":0}},methods:{mediaToggle:function(){this.properties.isPlaying?this.$store.commit("medias/pause",{uid:this.mediaUid}):this.$store.commit("medias/play",{uid:this.mediaUid})},progressMousemove:function(t){var e;e=t.clientX-this.$refs.progress.offsetLeft<0?0:t.clientX>this.$refs.progress.offsetLeft+this.$refs.progress.offsetWidth?1:(t.clientX-this.$refs.progress.offsetLeft)/this.$refs.progress.offsetWidth,this.seek(e,!1)},progressMousedown:function(t){document.addEventListener("mousemove",this.progressMousemove),document.addEventListener("mouseup",this.progressMouseup),this.progressMousemove(t)},progressMouseup:function(){document.removeEventListener("mousemove",this.progressMousemove),document.removeEventListener("mouseup",this.progressMouseup)},seek:function(t,e,n){this.properties.isLoaded&&this.$store.dispatch("medias/seek",{ratio:t,serverRequest:e,uid:this.mediaUid})},msToMinutesAndSeconds:function(t){var e=t%6e4/1e3;return Math.floor(t/6e4)+":"+(e<10?"0":"")+e.toFixed(0)}}},mi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mediacontroller mb"},[n("div",{staticClass:"mediacontroller-controls clearfix pb-s"},[n("button",{ref:"button",staticClass:"mediacontroller-button btn-alt",attrs:{disabled:!e.isLoaded},on:{click:e.mediaToggle}},[e._v(e._s(e.playButton))]),e._v(" "),n("div",{ref:"counter",staticClass:"mediacontroller-counter"},[e._v(e._s(e.msToMinutesAndSeconds(e.timeCurrent))+" / "+e._s(e.msToMinutesAndSeconds(e.timeTotal))+"\n    ")])]),e._v(" "),n("div",{ref:"progress",staticClass:"mediacontroller-progress",class:{loaded:e.isLoaded},on:{mousedown:function(t){e.progressMousedown(t)}}},[n("div",{staticClass:"pointer-none full-y bg-bg"},[n("div",{staticClass:"mediacontroller-progress-bar",style:{width:e.progressBarWidth}})])])])};mi._withStripped=!0;var gi,fi,hi,vi,bi=(gi=void 0!==mi?{render:mi,staticRenderFns:[]}:{},hi=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(vi=((fi=void 0)===pi?{}:pi)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/medias/controller.vue",vi.render||(vi.render=gi.render,vi.staticRenderFns=gi.staticRenderFns,vi._compiled=!0,hi&&(vi.functional=!0)),vi._scopeId=fi,vi),_i={name:"CamomileLayers",props:{uid:{type:String,default:"default"},corpusUid:{type:String,default:"default"}},created:function(){this.$store.commit("layers/register",{uid:this.uid,corpuUid:this.corpusUid})}},yi=function(){var t=this.$createElement;return(this._self._c||t)("span")};yi._withStripped=!0;var xi,ki,wi,Ci,$i=(xi=void 0!==yi?{render:yi,staticRenderFns:[]}:{},wi=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Ci=((ki=void 0)===_i?{}:_i)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/index.vue",Ci.render||(Ci.render=xi.render,Ci.staticRenderFns=xi.staticRenderFns,Ci._compiled=!0,wi&&(Ci.functional=!0)),Ci._scopeId=ki,Ci),Ri={name:"CamomileLayersList",props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:gt},popupAddConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:gt},popupRemoveConfig:{type:"layers",closeBtn:!0,title:"Remove layer",component:ge}}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},layersActive:function(){return this.$store.state.layers.actives[this.uid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)},corpus:function(){return this.$store.state.corpus.lists[this.corpuUid]},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},layerNew:function(){return{id:null,corpuId:this.corpuId,description:{},metadataType:this.layersActive.metadataType,fragmentType:this.layersActive.fragmentType}},popupPermissionsConfig:function(){return{type:"layers",closeBtn:!0,title:"Layer permissions",component:cn,uid:this.corpuUid}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t){t.target.checked?this.$store.dispatch("layers/set",{id:t.target.value,uid:this.uid}):this.$store.dispatch("layers/unset",{id:t.target.value,uid:this.uid})}}},Si=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"p bg-bg mb"},[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-xs"},[n._v("Layers")]),n._v(" "),3===n.corpuPermission?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){n.popupOpen({config:n.popupAddConfig,element:n.layerNew})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):n._e()]),n._v(" "),n.layers&&0<n.layers.length?i("table",{staticClass:"table mb-0"},[n._m(0),n._v(" "),n._l(n.layers,function(e){return i("tr",{key:e.id},[i("td",[i("input",{attrs:{type:"checkbox"},domProps:{value:e.id,checked:-1!==n.activeIds.indexOf(e.id)},on:{change:n.set}})]),n._v(" "),i("td",[n._v(n._s(e.name))]),n._v(" "),i("td",{staticClass:"text-right"},[3===e.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupPermissionsConfig,element:e})}}},[n._v("Permissions")]):n._e(),n._v(" "),3===e.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupEditConfig,element:e})}}},[n._v("Edit")]):n._e(),n._v(" "),3===e.permission?i("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){n.popupOpen({config:n.popupRemoveConfig,element:e})}}},[n._v("Remove")]):n._e()])])})],2):n._e()])};Si._withStripped=!0;var Ui,Ii,Ei,Fi,ji=(Ui=void 0!==Si?{render:Si,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}]}:{},Ei=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Fi=((Ii=void 0)===Ri?{}:Ri)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/list.vue",Fi.render||(Fi.render=Ui.render,Fi.staticRenderFns=Ui.staticRenderFns,Fi._compiled=!0,Ei&&(Fi.functional=!0)),Fi._scopeId=Ii,Fi),Li={name:"CamomileLayersSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)}},methods:{set:function(t){t.target.checked?this.$store.dispatch("layers/set",{id:t.target.value,uid:this.uid}):this.$store.dispatch("layers/unset",{id:t.target.value,uid:this.uid})}}},Ai=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[e._v("Layers")]),e._v(" "),e.layers&&0<e.layers.length?n("table",{staticClass:"table mb-0"},[e._m(0),e._v(" "),e._l(e.layers,function(t){return n("tr",{key:t.id},[n("td",[n("input",{attrs:{type:"checkbox"},domProps:{value:t.id,checked:-1!==e.activeIds.indexOf(t.id)},on:{change:e.set}})]),e._v(" "),n("td",[e._v("\n        "+e._s(t.name)+"\n      ")])])})],2):e._e()])};Ai._withStripped=!0;var Oi,Ti,Pi,Wi,zi=(Oi=void 0!==Ai?{render:Ai,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Name")]),e("th")])}]}:{},Pi=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Wi=((Ti=void 0)===Li?{}:Li)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/list-simple.vue",Wi.render||(Wi.render=Oi.render,Wi.staticRenderFns=Oi.staticRenderFns,Wi._compiled=!0,Pi&&(Wi.functional=!0)),Wi._scopeId=Ti,Wi),Ni={name:"CamomileLayersSelect",props:{uid:{type:String,default:"default"}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},layers:function(){return this.$store.state.layers.lists[this.corpuUid]},activeIds:function(){return this.$store.getters["layers/activeIds"](this.uid)}},watch:{layers:function(t,e){e||this.set(t[0])}},methods:{set:function(t){var e=this;this.layers.forEach(function(t){return e.$store.dispatch("layers/unset",{id:t.id,uid:e.uid})}),this.$store.dispatch("layers/set",{id:t.id,uid:this.uid})},setTarget:function(t){this.set({id:t.target.value})}}},Vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p bg-bg mb"},[n("h2",{staticClass:"mt-xs"},[e._v("Layers")]),e._v(" "),e.layers&&0<e.layers.length?n("select",{on:{change:e.setTarget}},e._l(e.layers,function(t){return n("option",{key:t.id,domProps:{value:t.id,selected:-1!==e.activeIds.indexOf(t.id)}},[e._v("\n      "+e._s(t.name)+"\n    ")])})):e._e()])};Vi._withStripped=!0;var Gi,Mi,Bi,Di,Hi=(Gi=void 0!==Vi?{render:Vi,staticRenderFns:[]}:{},Bi=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Di=((Mi=void 0)===Ni?{}:Ni)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/select.vue",Di.render||(Di.render=Gi.render,Di.staticRenderFns=Gi.staticRenderFns,Di._compiled=!0,Bi&&(Di.functional=!0)),Di._scopeId=Mi,Di),qi={name:"CamomileLayers",props:{uid:{type:String,default:"default"}},data:function(){return{popupAddConfig:{type:"layers",closeBtn:!0,title:"Edit layer",component:gt}}},computed:{corpuUid:function(){return this.$store.state.layers.actives[this.uid].corpuUid},corpuPermission:function(){return this.$store.getters["corpus/permission"](this.corpuUid)},corpuId:function(){return this.$store.state.corpus.actives[this.corpuUid]},layersActive:function(){return this.$store.state.layers.actives[this.uid]},layerNew:function(){return{id:null,corpuId:this.corpuId,description:{},metadataType:this.layersActive.metadataType,fragmentType:this.layersActive.fragmentType}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})}}},Xi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p bg-bg mb"},[n("h2",[e._v("Layers")]),e._v(" "),3===e.corpuPermission?n("button",{staticClass:"btn px-s py-xs",on:{click:function(t){e.popupOpen({config:e.popupAddConfig,element:e.layerNew})}}},[n("i",{staticClass:"icon-24 icon-24-plus"})]):e._e()])};Xi._withStripped=!0;var Ji,Yi,Ki,Zi,Qi=(Ji=void 0!==Xi?{render:Xi,staticRenderFns:[]}:{},Ki=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Zi=((Yi=void 0)===qi?{}:qi)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/layers/add.vue",Zi.render||(Zi.render=Ji.render,Zi.staticRenderFns=Ji.staticRenderFns,Zi._compiled=!0,Ki&&(Zi.functional=!0)),Zi._scopeId=Yi,Zi),tr={name:"CamomileAnnotations",props:{mediaUid:{type:String,default:"default"},layersUid:{type:String,default:"default"},uid:{type:String,default:"default"}},created:function(){this.$store.commit("annotations/register",{uid:this.uid,mediaUid:this.mediaUid,layersUid:this.layersUid})}},er=function(){var t=this.$createElement;return(this._self._c||t)("span")};er._withStripped=!0;var nr,ir,rr,or,sr=(nr=void 0!==er?{render:er,staticRenderFns:[]}:{},rr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(or=((ir=void 0)===tr?{}:tr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/index.vue",or.render||(or.render=nr.render,or.staticRenderFns=nr.staticRenderFns,or._compiled=!0,rr&&(or.functional=!0)),or._scopeId=ir,or),ar={name:"CamomileAnnotations",props:{uid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!0},layerPermission:{type:Number,default:0},mediaName:{type:String,default:"hash"},mediaId:{type:String,default:"hash"},activeId:{type:String,default:"hash"}},data:function(){return{popupEditConfig:{type:"annotations",closeBtn:!0,title:"Edit annotation",component:gt},popupRemoveConfig:{type:"annotations",closeBtn:!0,title:"Remove annotation",component:ge}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t){t.target.checked?this.$store.commit("annotations/set",{id:t.target.value,uid:this.uid}):this.$store.commit("annotations/unset",{id:t.target.value,uid:this.uid})}}},dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{class:{"bg-alt":e.disabled}},[n("td",[n("input",{attrs:{disabled:e.disabled,type:"radio"},domProps:{value:e.annotation.id,checked:e.activeId&&e.activeId===e.annotation.id},on:{change:function(t){e.set(t)}}})]),e._v(" "),n("td",[n("span",{staticClass:"h6 bold bg-neutral color-bg py-xxs px-xs rnd"},[e._v("…"+e._s(e._f("stringEnd")(e.annotation.id)))])]),e._v(" "),n("td",[e._v(e._s(e.mediaName))]),e._v(" "),n("td",{staticClass:"text-right"},[3===e.layerPermission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupEditConfig,element:e.annotation})}}},[e._v("Edit")]):e._e(),e._v(" "),3===e.layerPermission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:function(t){e.popupOpen({config:e.popupRemoveConfig,element:e.annotation})}}},[e._v("Remove")]):e._e()])])};dr._withStripped=!0;var cr,ur,lr,pr,mr={name:"CamomileLayers",components:{annotationsLayerDetail:(cr=void 0!==dr?{render:dr,staticRenderFns:[]}:{},ur=void 0,lr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(pr=(void 0===ar?{}:ar)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/list/layer-annotation.vue",pr.render||(pr.render=cr.render,pr.staticRenderFns=cr.staticRenderFns,pr._compiled=!0,lr&&(pr.functional=!0)),pr._scopeId=ur,pr)},props:{uid:{type:String,default:"default"},layer:{type:Object,default:function(){return{}}},annotations:{type:Array,default:function(){return[]}},annotationsFiltered:{type:Array,default:function(){return[]}},activeId:{type:String,default:"hash"},mediaId:{type:String,default:"hash"},mediaName:{type:String,default:"hash"}},data:function(){return{popupAddConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:gt}}},methods:{popupOpen:function(t){var e=t.config,n=t.element;return this.$store.commit("popup/open",{config:e,element:n})},set:function(t,e){t.target.checked?this.$store.commit("annotations/set",{id:t.target.value,uid:this.uid}):this.$store.commit("annotations/unset",{id:t.target.value,uid:this.uid})}}},gr=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",[i("div",{staticClass:"flex flex-start"},[i("h2",{staticClass:"mt-s"},[n._v(n._s(n.layer.name))]),n._v(" "),3===n.layer.permission?i("button",{staticClass:"btn-border flex-right px-s py-xs",on:{click:function(t){n.popupOpen({config:n.popupAddConfig,element:{id:null,layerId:n.layer.id,mediaId:n.mediaId,fragment:n.layer.fragmentType,metadata:n.layer.metadataType}})}}},[i("i",{staticClass:"icon-24 icon-24-plus"})]):n._e()]),n._v(" "),i("table",{staticClass:"table mb-0"},[n._m(0),n._v(" "),n._l(n.annotations,function(e){return i("annotations-layer-detail",{key:e.id,attrs:{annotation:e,disabled:-1===n.annotationsFiltered.findIndex(function(t){return t.id===e.id}),uid:n.uid,"layer-permission":n.layer.permission,"media-name":n.mediaName,"media-id":n.mediaId,"active-id":n.activeId}})})],2)])};gr._withStripped=!0;var fr,hr,vr,br,_r={name:"CamomileAnnotationsList",components:{annotationsLayer:(fr=void 0!==gr?{render:gr,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th"),e("th",[this._v("Id")]),e("th",[this._v("Medium")]),e("th")])}]}:{},hr=void 0,vr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(br=(void 0===mr?{}:mr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/list/layer.vue",br.render||(br.render=fr.render,br.staticRenderFns=fr.staticRenderFns,br._compiled=!0,vr&&(br.functional=!0)),br._scopeId=hr,br)},props:{uid:{type:String,default:"default"}},computed:{annotations:function(){return this.$store.getters["annotations/lists"](this.uid)},annotationsFiltered:function(){return this.$store.getters["annotations/filtered"](this.uid)},activeId:function(){return this.$store.state.annotations.actives[this.uid]||null},mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)},mediaId:function(){return this.$store.state.medias.actives[this.mediaUid].id},mediaName:function(){var t=this.$store.getters["medias/active"](this.mediaUid);return t?t.name:""}}},yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p bg-bg mb"},[e._m(0),e._v(" "),e._l(e.layers,function(t){return e.annotations[t.id]?n("annotations-layer",{key:t.id,staticClass:"mt",attrs:{layer:t,annotations:e.annotations[t.id],"annotations-filtered":e.annotationsFiltered[t.id],"active-id":e.activeId,"media-id":e.mediaId,"media-name":e.mediaName}}):e._e()})],2)};yr._withStripped=!0;var xr,kr,wr,Cr,$r=(xr=void 0!==yr?{render:yr,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-start"},[e("h2",{staticClass:"mt-xs"},[this._v("Annotations")])])}]}:{},wr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Cr=((kr=void 0)===_r?{}:_r)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/list.vue",Cr.render||(Cr.render=xr.render,Cr.staticRenderFns=xr.staticRenderFns,Cr._compiled=!0,wr&&(Cr.functional=!0)),Cr._scopeId=kr,Cr),Rr={name:"CamomileAnnotationsPopupEdit",data:function(){return{error:null}},computed:Object.assign({},t.mapState({element:function(t){return t.popup.element},type:function(t){return t.popup.config.type},rolesPermission:function(t){return t.user.id!==t.popup.element.id}})),created:function(){document.addEventListener("keyup",this.keyup)},mounted:function(){this.$refs.label.focus()},beforeDestroy:function(){document.removeEventListener("keyup",this.keyup)},methods:{save:function(){""!==this.element.metadata.label?(this.$store.dispatch("annotations/add",{element:this.element}),this.$store.commit("popup/close")):this.error="Fill in the label."},keyup:function(t){13===(t.which||t.keyCode)&&this.save()}}},Sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"tablet-blobs"},[e._m(0),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.metadata.label,expression:"element.metadata.label"}],ref:"label",staticClass:"mb",attrs:{type:"text",placeholder:"Label"},domProps:{value:e.element.metadata.label},on:{input:function(t){t.target.composing||e.$set(e.element.metadata,"label",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"tablet-blobs"},[n("div",{staticClass:"tablet-blob-1-4"}),e._v(" "),n("div",{staticClass:"tablet-blob-3-4"},[n("button",{staticClass:"btn-alt p-s full-x mb",attrs:{disabled:!e.element.name&&"annotations"!==e.type},on:{click:e.save,keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.save(t):null}}},[e._v("Save")]),e._v(" "),e.error?n("div",{staticClass:"p-s bg-error color-bg italic mt mb"},[e._v(e._s(e.error))]):e._e()])])])};Sr._withStripped=!0;var Ur,Ir,Er,Fr,jr=(Ur=void 0!==Sr?{render:Sr,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tablet-blob-1-4"},[e("h4",{staticClass:"pt-s"},[this._v("Label")])])}]}:{},Er=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Fr=((Ir=void 0)===Rr?{}:Rr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/ui/popup/annotation-label.vue",Fr.render||(Fr.render=Ur.render,Fr.staticRenderFns=Ur.staticRenderFns,Fr._compiled=!0,Er&&(Fr.functional=!0)),Fr._scopeId=Ir,Fr),Lr={props:{layerId:{type:String,default:"layerIdHash"},layerName:{type:String,default:""},mediaId:{type:String,default:"mediaIdHash"},annotations:{type:Array,default:function(){return[]}},fragmentType:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0}},data:function(){return{popupAnnotationLabelConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:jr}}},methods:{popupAnnotationLabelOpen:function(){var t={id:null,layerId:this.layerId,mediaId:this.mediaId,fragment:this.fragmentTypeFormat(this.fragmentType),metadata:{label:""}};return this.$store.commit("popup/open",{config:this.popupAnnotationLabelConfig,element:t})},fragmentTypeFormat:function(t){return t.time||(t.time={}),t.time.start=this.timeCurrent,t.time.end=this.timeCurrent+this.timeTotal/10,t}}},Ar=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn px-s py-s mr-s h5 full-x flex",on:{click:t.popupAnnotationLabelOpen}},[t._v("\n  "+t._s(t.layerName)+"\n  "),n("i",{staticClass:"icon-24 icon-24-plus mr-xs flex-right"})])};Ar._withStripped=!0;var Or,Tr,Pr,Wr,zr={components:{annotationButton:(Or=void 0!==Ar?{render:Ar,staticRenderFns:[]}:{},Tr=void 0,Pr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Wr=(void 0===Lr?{}:Lr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/buttons/button.vue",Wr.render||(Wr.render=Or.render,Wr.staticRenderFns=Or.staticRenderFns,Wr._compiled=!0,Pr&&(Wr.functional=!0)),Wr._scopeId=Tr,Wr)},props:{uid:{type:String,default:"default"}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.getters["medias/properties"](this.mediaUid)},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/lists"](this.uid)},mediaId:function(){return this.$store.state.medias.actives[this.mediaUid].id},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)}},methods:{resize:function(){}}},Nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p bg-bg mb"},[n("h2",[e._v("Layers")]),e._v(" "),e._l(e.layers,function(t){return e.annotations[t.id]&&3===t.permission?n("annotation-button",{key:"annotation-button-"+t.id,attrs:{"layer-id":t.id,"layer-name":t.name,"media-id":e.mediaId,"time-current":e.timeCurrent,"time-total":e.timeTotal,"fragment-type":t.fragmentType}}):e._e()})],2)};Nr._withStripped=!0;var Vr,Gr,Mr,Br,Dr=(Vr=void 0!==Nr?{render:Nr,staticRenderFns:[]}:{},Mr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Br=((Gr=void 0)===zr?{}:zr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/buttons.vue",Br.render||(Br.render=Vr.render,Br.staticRenderFns=Vr.staticRenderFns,Br._compiled=!0,Mr&&(Br.functional=!0)),Br._scopeId=Gr,Br),Hr={props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},fragmentType:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},containerWidth:{type:Number,default:0},containerLeft:{type:Number,default:0}},data:function(){return{leftDragging:null,rightDragging:null,handleWidth:32,popupAnnotationLabelConfig:{type:"annotations",closeBtn:!0,title:"Add annotation",component:jr}}},computed:{time:function(){return this.annotation.fragment.time},left:function(){return null!==this.leftDragging?this.leftDragging:this.time.start*this.containerWidth/this.timeTotal},right:function(){return null!==this.rightDragging?this.rightDragging:(this.timeTotal-this.time.end)*this.containerWidth/this.timeTotal}},methods:{timeUpdate:function(t,e){var n=Object.assign({},this.annotation);return n.fragment.time[e]=t,this.$store.dispatch("annotations/update",{element:n})},dragLeftOn:function(t){document.addEventListener("mousemove",this.dragLeft),document.addEventListener("mouseup",this.dragLeftOff)},dragLeftOff:function(t){document.removeEventListener("mousemove",this.dragLeft),document.removeEventListener("mouseup",this.dragLeftOff);var e=Math.round(this.$refs.annotation.offsetLeft*this.timeTotal/this.containerWidth);this.timeUpdate(e,"start"),this.leftDragging=null},dragLeft:function(t){var e=t.clientX-this.containerLeft+this.handleWidth/2;e<0?this.leftDragging=0:e>this.containerWidth-this.right?this.leftDragging=this.containerWidth-this.right:this.leftDragging=e},dragRightOn:function(t){document.addEventListener("mousemove",this.dragRight),document.addEventListener("mouseup",this.dragRightOff)},dragRightOff:function(t){document.removeEventListener("mousemove",this.dragRight),document.removeEventListener("mouseup",this.dragRightOff);var e=Math.round((this.$refs.annotation.offsetLeft+this.$refs.annotation.offsetWidth)*this.timeTotal/this.containerWidth);this.timeUpdate(e,"end"),this.rightDragging=null},dragRight:function(t){var e=this.containerWidth+this.containerLeft-t.clientX+this.handleWidth/2;this.rightDragging=0<e?e:0},set:function(t){this.$store.commit("annotations/set",{id:this.annotation.id,uid:this.uid})},popupAnotationLabelOpen:function(){var t=this.annotation;return this.$store.commit("popup/open",{config:this.popupAnnotationLabelConfig,element:t})},fragmentTypeFormat:function(t){return t.time||(t.time={}),t.time.start=this.timeCurrent,t.time.end=this.timeCurrent+25e3,t}}},qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"annotation",style:{left:e.left+"px",right:e.right+"px"}},[n("div",{staticClass:"relative full-y",on:{mousedown:function(t){e.set(t)},dblclick:e.popupAnotationLabelOpen}},[n("div",{staticClass:"absolute handle handle-left",on:{mousedown:function(t){e.dragLeftOn(t)}}}),e._v(" "),n("div",{staticClass:"absolute handle handle-right",on:{mousedown:function(t){e.dragRightOn(t)}}})])])};qr._withStripped=!0;var Xr,Jr,Yr,Kr,Zr={components:{annotationsBloc:(Xr=void 0!==qr?{render:qr,staticRenderFns:[]}:{},Jr=void 0,Yr=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Kr=(void 0===Hr?{}:Hr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/timeline/annotations-bloc.vue",Kr.render||(Kr.render=Xr.render,Kr.staticRenderFns=Xr.staticRenderFns,Kr._compiled=!0,Yr&&(Kr.functional=!0)),Kr._scopeId=Jr,Kr)},props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},layerId:{type:String,default:"layerIdHash"},annotations:{type:Array,default:function(){return[]}},timeTotal:{type:Number,default:0},width:{type:Number,default:0},left:{type:Number,default:0}},computed:{activeId:function(){return this.$store.state.annotations.actives[this.uid]}}},Qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.annotations,function(t){return n("annotations-bloc",{key:t.id,staticClass:"absolute annotation",class:{active:t.id===e.activeId},attrs:{annotation:t,uid:e.uid,"layers-uid":e.layersUid,"layer-id":e.layerId,"time-total":e.timeTotal,"container-width":e.width,"container-left":e.left}})}))};Qr._withStripped=!0;var to,eo,no,io,ro={components:{timelineAnnotations:(to=void 0!==Qr?{render:Qr,staticRenderFns:[]}:{},eo=void 0,no=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(io=(void 0===Zr?{}:Zr)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/timeline/annotations.vue",io.render||(io.render=to.render,io.staticRenderFns=to.staticRenderFns,io._compiled=!0,no&&(io.functional=!0)),io._scopeId=eo,io)},props:{uid:{type:String,default:"default"}},data:function(){return{width:3e3,containerWidth:0,containerLeft:0,fragmentType:{time:{start:0,end:0}},metadataType:{label:""}}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.getters["medias/properties"](this.mediaUid)},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/filtered"](this.uid)},layers:function(){return this.$store.getters["layers/actives"](this.layersUid)},left:function(){return this.containerWidth/2-this.timeCurrent/this.timeTotal*this.width}},created:function(){this.$store.commit("annotations/filterRegister",{uid:this.uid,filter:this.filter}),this.$store.commit("layers/typesRegister",{uid:this.layersUid,fragmentType:this.fragmentType,metadataType:this.metadataType})},mounted:function(){window.addEventListener("resize",this.resize),this.containerWidth=this.$refs.container.offsetWidth,this.containerLeft=this.$refs.container.offsetLeft},methods:{filter:function(t){return t.fragment&&t.fragment.time&&!isNaN(t.fragment.time.start)&&!isNaN(t.fragment.time.end)&&t},resize:function(){}}},oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"p bg-bg mb"},[n("h2",[e._v("Timeline")]),e._v(" "),e.layers?n("div",{staticClass:"relative overflow-hidden",style:{height:48*e.layers.length+"px"}},[n("div",{staticClass:"absolute timeline-cursor"}),e._v(" "),n("div",{staticClass:"absolute timeline-annotations",style:{top:0,bottom:0,left:e.left+"px",width:e.width+"px"}},e._l(e.layers,function(t){return e.annotations[t.id]?n("timeline-annotations",{key:"annotations-"+t.id,staticClass:"relative",style:{height:"48px"},attrs:{uid:e.uid,"layers-uid":e.layersUid,"layer-id":t.id,annotations:e.annotations[t.id],"time-total":e.timeTotal,width:e.width,left:e.left+e.containerLeft,"fragment-type":t.fragmentType}}):e._e()}))]):e._e()])};oo._withStripped=!0;var so,ao,co,uo,lo=(so=void 0!==oo?{render:oo,staticRenderFns:[]}:{},co=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(uo=((ao=void 0)===ro?{}:ro)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/timeline.vue",uo.render||(uo.render=so.render,uo.staticRenderFns=so.staticRenderFns,uo._compiled=!0,co&&(uo.functional=!0)),uo._scopeId=ao,uo),po={props:{uid:{type:String,default:"default"}},data:function(){return{popupEditConfig:{type:"annotations",closeBtn:!0,title:"Edit annotation",component:gt},popupRemoveConfig:{type:"annotations",closeBtn:!0,title:"Remove annotation",component:ge},layerPermission:3}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},annotation:function(){return this.$store.getters["annotations/active"](this.uid)},layer:function(){return this.annotation?this.$store.getters["layers/details"](this.layersUid,this.annotation.layerId):{}}},methods:{popupEditOpen:function(){return this.$store.commit("popup/open",{config:this.popupEditConfig,element:this.annotation})},popupRemoveOpen:function(){return this.$store.commit("popup/open",{config:this.popupRemoveConfig,element:this.annotation})}}},mo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p bg-bg mb"},[n("h2",[t._v("Annotation")]),t._v(" "),n("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t.annotation?n("tr",[n("td",[t._v(t._s(t.annotation.metadata.label))]),t._v(" "),n("td",[n("span",{staticClass:"h6 bold bg-neutral color-bg py-xxs px-xs rnd mt-xxs"},[t._v("…"+t._s(t._f("stringEnd")(t.annotation.id)))])]),t._v(" "),n("td",{staticClass:"text-right"},[3===t.layer.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:t.popupEditOpen}},[t._v("Edit")]):t._e(),t._v(" "),3===t.layer.permission?n("button",{staticClass:"btn-border p-s my--s h6",on:{click:t.popupRemoveOpen}},[t._v("Remove")]):t._e()])]):t._e()])])};mo._withStripped=!0;var go,fo,ho,vo,bo=(go=void 0!==mo?{render:mo,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Label")]),e("th",[this._v("ID")]),e("th")])}]}:{},ho=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(vo=((fo=void 0)===po?{}:po)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/edit.vue",vo.render||(vo.render=go.render,vo.staticRenderFns=go.staticRenderFns,vo._compiled=!0,ho&&(vo.functional=!0)),vo._scopeId=fo,vo),_o={props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotation:{type:Object,default:function(){return{}}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0},containerWidth:{type:Number,default:0}},data:function(){return{leftDragging:null,topDragging:null,rightDragging:null,bottomDragging:null,handleWidth:32}},computed:{timeStart:function(){return this.annotation.fragment.time.start},timeEnd:function(){return this.annotation.fragment.time.end},positionIndex:function(){var e=this;return this.annotation.fragment.positions.slice().reverse().findIndex(function(t){return t.time<=e.timeCurrent})},visible:function(){return-1!==this.positionIndex&&this.timeStart<=this.timeCurrent&&this.timeEnd>=this.timeCurrent},position:function(){return this.annotation.fragment.positions[this.positionIndex]},left:function(){if(this.visible)return null!==this.leftDragging?this.leftDragging:this.position.left},top:function(){if(this.visible)return null!==this.topDragging?this.topDragging:this.position.top},width:function(){if(this.visible)return null!==this.bottomDragging?this.bottomDragging:this.position.width},height:function(){if(this.visible)return null!==this.bottomDragging?this.bottomDragging:this.position.height}},methods:{positionUpdate:function(t){var e=Object.assign({},this.annotation);return t.forEach(function(t){return e.fragment.position[t.type]=t.value}),this.$store.dispatch("annotations/update",{element:e})},dragTopleftOn:function(t){document.addEventListener("mousemove",this.dragTopleft),document.addEventListener("mouseup",this.dragTopleftOff)},dragTopleftOff:function(t){document.removeEventListener("mousemove",this.dragTopleft),document.removeEventListener("mouseup",this.dragTopleftOff);var e=[{type:"top",value:this.$refs.annotation.offsetTop},{type:"top",value:this.$refs.annotation.offsetLeft}];this.positionUpdate(e),this.topleftDragging=null},dragTopleft:function(t){var e=t.clientX-this.containerLeft+this.handleWidth/2;e<0?this.topDragging=0:e>this.containerWidth-this.right?this.topDragging=this.containerWidth-this.right:this.topDragging=e},dragBottomrightOn:function(t){document.addEventListener("mousemove",this.dragRight),document.addEventListener("mouseup",this.dragRightOff)},dragRightOff:function(t){document.removeEventListener("mousemove",this.dragRight),document.removeEventListener("mouseup",this.dragRightOff);var e=Math.round((this.$refs.annotation.offsetLeft+this.$refs.annotation.offsetWidth)*this.timeTotal/this.containerWidth);this.positionUpdate(e,"end"),this.bottomDragging=null},dragRight:function(t){var e=this.containerWidth+this.containerLeft-t.clientX+this.handleWidth/2;this.bottomDragging=0<e?e:0},set:function(t){this.$store.commit("annotations/set",{id:this.annotation.id,uid:this.uid})}}},yo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{ref:"annotation",style:{left:e.left+"%",top:e.top+"%",width:e.width+"%",height:e.height+"%"}},[n("div",{staticClass:"relative full-y",on:{mousedown:function(t){e.set(t)}}},[n("div",{staticClass:"absolute handle handle-topleft",on:{mousedown:function(t){e.dragTopleftOn(t)}}}),e._v(" "),n("div",{staticClass:"absolute handle handle-bottomright",on:{mousedown:function(t){e.dragBottomrightOn(t)}}})])]):e._e()};yo._withStripped=!0;var xo,ko,wo,Co,$o={components:{annotationsBloc:(xo=void 0!==yo?{render:yo,staticRenderFns:[]}:{},ko=void 0,wo=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Co=(void 0===_o?{}:_o)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/zoning/annotations-bloc.vue",Co.render||(Co.render=xo.render,Co.staticRenderFns=xo.staticRenderFns,Co._compiled=!0,wo&&(Co.functional=!0)),Co._scopeId=ko,Co)},props:{uid:{type:String,default:"default"},layersUid:{type:String,default:"default"},annotations:{type:Array,default:function(){return[]}},timeTotal:{type:Number,default:0},timeCurrent:{type:Number,default:0}},data:function(){return{containerWidth:0,containerHeight:0}},computed:{activeId:function(){return this.$store.state.annotations.actives[this.uid]}},mounted:function(){window.addEventListener("resize",this.resize),this.containerWidth=this.$refs.container.offsetWidth,this.containerHeight=this.$refs.container.offsetHeight},methods:{resize:function(){}}},Ro=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container"},e._l(e.annotations,function(t){return n("annotations-bloc",{key:t.id,staticClass:"absolute annotation",style:{zIndex:t.id===e.activeId?1:0},attrs:{annotation:t,uid:e.uid,"layers-uid":e.layersUid,"time-total":e.timeTotal,"time-current":e.timeCurrent,"container-width":e.containerWidth,"container-height":e.containerHeight}})}))};Ro._withStripped=!0;var So,Uo,Io,Eo,Fo,jo,Lo,Ao,Oo={components:{zoningAnnotations:(So=void 0!==Ro?{render:Ro,staticRenderFns:[]}:{},Uo=void 0,Io=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Eo=(void 0===$o?{}:$o)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/zoning/annotations.vue",Eo.render||(Eo.render=So.render,Eo.staticRenderFns=So.staticRenderFns,Eo._compiled=!0,Io&&(Eo.functional=!0)),Eo._scopeId=Uo,Eo)},props:{uid:{type:String,default:"default"}},data:function(){return{fragmentType:{positions:[{left:.25,width:.5,time:0,top:.25,height:.5}]}}},computed:{mediaUid:function(){return this.$store.state.annotations.lists[this.uid].mediaUid},layersUid:function(){return this.$store.state.annotations.lists[this.uid].layersUid},mediaProperties:function(){return this.$store.state.medias.properties[this.mediaUid]||{}},timeCurrent:function(){return this.mediaProperties.timeCurrent||0},timeTotal:function(){return this.mediaProperties.timeTotal||0},annotations:function(){return this.$store.getters["annotations/filter"](this.uid,this.filter)},layers:function(){var t=this.$store.state.layers.actives[this.layersUid];return t?this.$store.state.layers.lists[t.corpuUid]:[]}},created:function(){this.$store.commit("annotations/filterRegister",{uid:this.uid,filter:this.filter}),this.$store.commit("layers/typesRegister",{uid:this.layersUid,fragmentType:this.fragmentType,metadataType:this.metadataType})},methods:{filter:function(t){return t.fragment&&t.fragment.time&&!isNaN(t.fragment.time.start)&&!isNaN(t.fragment.time.end)&&t.fragment.positions&&t.fragment.positions instanceof Array&&t}}},To=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"relative full-y mb"},[e._l(e.layers,function(t){return e.annotations[t.id]?n("zoning-annotations",{key:"annotations-"+t.id,staticClass:"absolute full",attrs:{uid:e.uid,"layers-uid":e.layersUid,"layer-id":t.id,annotations:e.annotations[t.id],"time-total":e.timeTotal,"time-current":e.timeCurrent}}):e._e()}),e._v(" "),e._t("default",null,{mediaUid:e.mediaUid})],2)};To._withStripped=!0;return{App:ae,AdminUsers:Ue,AdminGroups:Ge,Corpus:Je,CorpusList:hn,CorpusSelect:wn,Medias:En,MediasList:Pn,MediasSelect:Bn,MediasYoutube:ri,MediasVideo:li,MediasController:bi,Layers:$i,LayersList:ji,LayersListSimple:zi,LayersSelect:Hi,LayersAdd:Qi,Annotations:sr,AnnotationsList:$r,AnnotationsButtons:Dr,AnnotationsTimeline:lo,AnnotationsEdit:bo,AnnotationsZoning:(Fo=void 0!==To?{render:To,staticRenderFns:[]}:{},jo=void 0,Lo=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(Ao=(void 0===Oo?{}:Oo)||{}).__file="/Volumes/Fr-01-Work/Sites/camomile-ui/src/components/annotations/zoning.vue",Ao.render||(Ao.render=Fo.render,Ao.staticRenderFns=Fo.staticRenderFns,Ao._compiled=!0,Lo&&(Ao.functional=!0)),Ao._scopeId=jo,Ao)}});
